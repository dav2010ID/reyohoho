import{_ as ee,o as de,a as fe,b as n,c as l,d as e,e as R,w as Y,n as B,f as ge,t as m,g as r,h as _,T as X,F as he,r as ye,i as ke,j as we,k as Z,l as k,m as W,p as pe,q as De,s as J,u as me,v as _e,x as be,y as Ie,z as Ce,A as $e,B as Se,C as Q,D as se,E as oe,G as Le,H as Me,I as Te,J as z,K as xe,L as Ee,M as Be,N as Ue,O as Fe,P as Re,U as ne,Q as He,R as Ne}from"./index-DdAkpe4h.js";import{B as Oe}from"./BaseModal-BgPpOqF7.js";import{D as Ae,M as le}from"./MovieList-D2tBKUC4.js";import{S as Ke}from"./SpinnerLoading-hAZPnSnU.js";import{_ as Ve,a as ie,b as re}from"./icon-imdb-logo-5qtstUwS.js";const We={class:"donaters-wrapper"},ze={class:"top-donators-carousel"},Je=["href","target","rel"],Ye={class:"donor-card-preview"},Pe={key:0,class:"avatar-placeholder"},qe={key:1,class:"live-badge"},Ge={class:"donor-card-info"},je={class:"donor-name"},Qe={key:0,class:"donor-category"},Xe={key:1,class:"donor-status"},Ze={key:2,class:"donor-status offline"},et={key:0,class:"donor-link-icon"},tt={class:"carousel-indicators"},at=["onClick"],ue="donatersCache",ve="twitchDataCache",ce=300*1e3,st={__name:"FooterDonaters",setup(s){const $=k([]),T=k(-1),y=k(0),p=k(!1);let i=null,I=null,D=null,x={donaters:null,twitch:null},f=!1;const t=k([{name:"XaksFlaX",twitchUsername:"xaksflax",avatar:null,isLive:!1,category:null,originalIndex:0},{name:"TanyaBelkova",twitchUsername:"tanyabelkova",avatar:null,isLive:!1,category:null,originalIndex:1},{name:"F1ashko",twitchUsername:"f1ashko",avatar:null,isLive:!1,category:null,originalIndex:2},{name:"Krabick",twitchUsername:"krabick",avatar:null,isLive:!1,category:null,originalIndex:3},{name:"Kati",twitchUsername:"Kati",avatar:null,isLive:!1,category:null,originalIndex:4},{name:"Timofey",twitchUsername:"Timofey",avatar:null,isLive:!1,category:null,originalIndex:5},{name:"RomanovaLera",twitchUsername:"RomanovaLera",avatar:null,isLive:!1,category:null,originalIndex:6}]),C=Z(()=>T.value===-1||!$.value.length?"":$.value[T.value]),h=Z(()=>t.value.length?t.value[y.value]:null);let S=null;const L=()=>{S||(S=window.requestAnimationFrame(()=>{const w=window.pageYOffset||document.documentElement.scrollTop,v=window.innerHeight,u=document.documentElement.scrollHeight;p.value=w+v>=u-10,S=null}))},K=(w,v)=>{try{return localStorage.getItem(w)}catch(u){return console.warn("localStorage error: ".concat(u.message)),x[v]?JSON.stringify(x[v]):null}},N=(w,v,u)=>{try{localStorage.setItem(w,v)}catch(g){console.warn("localStorage error: ".concat(g.message));try{x[u]=JSON.parse(v)}catch(c){console.error("safeSaveToStorage:",c)}}},U=async()=>{if(f)return;const w=K(ve,"twitch");if(w)try{const{timestamp:u,data:g}=JSON.parse(w);if(Date.now()-u<ce){F(g);return}}catch(u){console.error("fetchTwitchData:",u)}const v=t.value.filter(u=>u.twitchUsername).map(u=>u.twitchUsername);if(v.length!==0){f=!0;try{const u=v.map(async b=>{try{const M=await we(b);if(!M||!M.user_info)return{username:b,isLive:!1,category:null,avatar:null};const H=M.user_info.avatar_url||null;if(M.stream_data&&M.stream_data.length>0){const o=M.stream_data[0];return{username:b,isLive:!0,category:o.game_name||null,avatar:H}}else return{username:b,isLive:!1,category:null,avatar:H}}catch(M){return console.error("Twitch error for ".concat(b,":"),M),{username:b,isLive:!1,category:null,avatar:null}}}),g=await Promise.all(u),c=JSON.stringify({timestamp:Date.now(),data:g});N(ve,c,"twitch"),F(g)}catch(u){console.error("fetchTwitchData:",u)}finally{f=!1}}},F=w=>{const v=new Map(w.map(c=>[c.username.toLowerCase(),c]));let u=!1;const g=t.value.map(c=>{if(!c.twitchUsername)return c;const b=v.get(c.twitchUsername.toLowerCase());if(b){const M=b.isLive||!1,V=b.category||null,H=b.avatar||c.avatar;if(c.isLive!==M||c.category!==V||c.avatar!==H)return u=!0,{...c,isLive:M,category:V,avatar:H}}return c});u&&(g.sort((c,b)=>c.isLive!==b.isLive?c.isLive?-1:1:c.originalIndex-b.originalIndex),t.value=g,y.value=0)},O=async()=>{const w=new Date().toISOString().split("T")[0],v=K(ue,"donaters");if(v)try{const{date:u,data:g}=JSON.parse(v);if(u===w){$.value=g;return}}catch(u){console.error("fetchDonaters:",u)}try{const u=await ke();$.value=u.split("\n").map(c=>c.trim()).filter(c=>c);const g=JSON.stringify({date:w,data:$.value});N(ue,g,"donaters")}catch(u){console.error("Ошибка загрузки донатеров:",u)}};function A(){if(!$.value.length)return;const w=Math.floor(Math.random()*$.value.length);T.value=w}function P(){$.value.length!==0&&(A(),i=setInterval(A,4e3))}function E(){t.value.length&&(y.value=(y.value+1)%t.value.length)}function q(w){y.value=w,I&&(clearInterval(I),I=setInterval(E,5e3))}function G(){t.value.length!==0&&(I=setInterval(E,5e3))}return de(async()=>{await O(),P(),G(),window.addEventListener("scroll",L,{passive:!0}),L(),await U(),D=setInterval(U,ce)}),fe(()=>{i&&clearInterval(i),I&&clearInterval(I),D&&clearInterval(D),S&&window.cancelAnimationFrame(S),window.removeEventListener("scroll",L)}),(w,v)=>(n(),l("footer",{class:B({"footer-fixed":!p.value,"footer-static":p.value})},[e("div",We,[v[2]||(v[2]=e("span",{class:"donaters-text"},"Спасибо топ донатерам",-1)),e("div",ze,[R(X,{name:"fade",mode:"out-in"},{default:Y(()=>[h.value?(n(),l("a",{key:y.value,href:h.value.twitchUsername?"https://twitch.tv/".concat(h.value.twitchUsername):void 0,target:h.value.twitchUsername?"_blank":void 0,rel:h.value.twitchUsername?"noopener noreferrer":void 0,class:B(["donor-card",{"is-live":h.value.isLive,"no-link":!h.value.twitchUsername}])},[e("div",Ye,[e("div",{class:"donor-avatar",style:ge({backgroundImage:h.value.avatar?"url(".concat(h.value.avatar,")"):"linear-gradient(135deg, #9147ff 0%, #5a1f99 100%)"})},[h.value.avatar?r("",!0):(n(),l("div",Pe,m(h.value.name.charAt(0).toUpperCase()),1)),h.value.isLive?(n(),l("div",qe,[...v[0]||(v[0]=[e("span",{class:"live-indicator"},null,-1),_(" LIVE ",-1)])])):r("",!0)],4)]),e("div",Ge,[e("div",je,m(h.value.name),1),h.value.isLive&&h.value.category?(n(),l("div",Qe,m(h.value.category),1)):h.value.isLive?(n(),l("div",Xe,"В эфире")):(n(),l("div",Ze,"Не в сети"))]),h.value.twitchUsername?(n(),l("div",et,[...v[1]||(v[1]=[e("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14"},[e("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})],-1)])])):r("",!0)],10,Je)):r("",!0)]),_:1}),e("div",tt,[(n(!0),l(he,null,ye(t.value,(u,g)=>(n(),l("button",{key:g,class:B({active:g===y.value}),onClick:c=>q(g)},null,10,at))),128))])]),v[3]||(v[3]=e("span",{class:"donaters-text"},"а так же",-1)),R(X,{name:"fade",mode:"out-in"},{default:Y(()=>[C.value?(n(),l("span",{key:T.value,class:"donater"},m(C.value),1)):r("",!0)]),_:1}),v[4]||(v[4]=e("a",{class:"visitor-badge-link",href:"https://visitor-badge.laobi.icu/badge?page_id=dav2010id.reyohoho&left_text=%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D1%8B%20%D1%81%D0%B0%D0%B9%D1%82%D0%B0&left_color=0f172a&right_color=38bdf8",target:"_blank",rel:"noopener noreferrer","aria-label":"Просмотры сайта"},[e("img",{class:"visitor-badge-image",src:"https://visitor-badge.laobi.icu/badge?page_id=dav2010id.reyohoho&left_text=%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D1%8B%20%D1%81%D0%B0%D0%B9%D1%82%D0%B0&left_color=0f172a&right_color=38bdf8",alt:"Просмотры сайта"})],-1))])],2))}},ot=ee(st,[["__scopeId","data-v-e80cd81f"]]),nt={class:"modal modern-dark-dialog random-movie-modal"},lt={class:"modal-content"},it={key:0,class:"loading-container"},rt={key:1,class:"movie-content"},ut={class:"movie-poster-section"},vt=["alt"],ct={class:"movie-info-section"},dt={class:"movie-title"},mt={key:0,class:"movie-year"},ft={key:1,class:"movie-type"},gt={key:2,class:"movie-description"},ht={key:3,class:"movie-duration"},yt={key:4,class:"movie-age-rating"},kt={key:5,class:"movie-countries"},wt={key:6,class:"movie-genres"},pt={key:7,class:"movie-premiere"},Dt={key:0},_t={key:1},bt={key:8,class:"movie-finances"},It={key:0},Ct={key:1},$t={key:2},St={class:"ratings"},Lt={key:0,class:"rating rating-our"},Mt={key:1,class:"rating rating-kp"},Tt={key:2,class:"rating rating-imdb"},xt={key:9,class:"total-ratings"},Et={class:"external-links"},Bt=["href"],Ut=["href"],Ft={key:2,class:"error-content"},Rt={class:"modal-actions"},Ht=["disabled"],Nt={__name:"RandomMovieModal",props:{isOpen:Boolean,movie:Object,loading:Boolean,error:String},emits:["close","get-new-movie"],setup(s,{emit:$}){const T=$,y=()=>{T("close")},p=()=>{T("get-new-movie")},i=f=>({"FilmType.FILM":"Фильм","FilmType.TV_SERIES":"Сериал","FilmType.TV_SHOW":"ТВ-шоу","FilmType.MINI_SERIES":"Мини-сериал"})[f]||f,I=f=>{if(!f)return"";const t=Math.floor(f/60),C=f%60;return t>0?"".concat(t," ч ").concat(C," мин"):"".concat(C," мин")},D=f=>f?new Date(f).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}):"",x=f=>{f.target.src="/src/assets/image-no-poster.gif"};return(f,t)=>{const C=pe("router-link"),h=De("lazy");return n(),W(X,{name:"modal"},{default:Y(()=>[s.isOpen?(n(),l("div",{key:0,class:"modal-overlay",onClick:J(y,["self"])},[e("div",nt,[e("div",{class:"modal-header"},[t[1]||(t[1]=e("h3",null,[e("i",{class:"fas fa-dice"}),_(" Случайный фильм ")],-1)),e("button",{class:"close-btn",onClick:y},[...t[0]||(t[0]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",lt,[s.loading?(n(),l("div",it,[...t[2]||(t[2]=[e("div",{class:"spinner"},null,-1),e("p",null,"Подбираем фильм...",-1)])])):s.movie?(n(),l("div",rt,[e("div",ut,[me(e("img",{alt:s.movie.title,class:"movie-poster",onError:x},null,40,vt),[[h,s.movie.cover]])]),e("div",ct,[e("h4",dt,m(s.movie.title),1),s.movie.year?(n(),l("div",mt,m(s.movie.year),1)):r("",!0),s.movie.type?(n(),l("div",ft,m(i(s.movie.type)),1)):r("",!0),s.movie.description?(n(),l("div",gt,m(s.movie.description),1)):r("",!0),s.movie.duration?(n(),l("div",ht,[t[3]||(t[3]=e("strong",null,"Длительность:",-1)),_(" "+m(I(s.movie.duration)),1)])):r("",!0),s.movie.age_rating?(n(),l("div",yt,[t[4]||(t[4]=e("strong",null,"Возрастной рейтинг:",-1)),_(" "+m(s.movie.age_rating),1)])):r("",!0),s.movie.countries?(n(),l("div",kt,[t[5]||(t[5]=e("strong",null,"Страны:",-1)),_(" "+m(s.movie.countries),1)])):r("",!0),s.movie.genres?(n(),l("div",wt,[t[6]||(t[6]=e("strong",null,"Жанры:",-1)),_(" "+m(s.movie.genres),1)])):r("",!0),s.movie.premiere_ru||s.movie.premiere_world?(n(),l("div",pt,[t[7]||(t[7]=e("strong",null,"Премьера:",-1)),s.movie.premiere_ru?(n(),l("span",Dt,m(D(s.movie.premiere_ru))+" (Россия)",1)):r("",!0),s.movie.premiere_world&&!s.movie.premiere_ru?(n(),l("span",_t,m(D(s.movie.premiere_world))+" (Мир) ",1)):r("",!0)])):r("",!0),s.movie.budget||s.movie.fees_world||s.movie.fees_russia?(n(),l("div",bt,[s.movie.budget?(n(),l("div",It,[t[8]||(t[8]=e("strong",null,"Бюджет:",-1)),_(" "+m(s.movie.budget),1)])):r("",!0),s.movie.fees_world?(n(),l("div",Ct,[t[9]||(t[9]=e("strong",null,"Сборы в мире:",-1)),_(" "+m(s.movie.fees_world),1)])):r("",!0),s.movie.fees_russia?(n(),l("div",$t,[t[10]||(t[10]=e("strong",null,"Сборы в России:",-1)),_(" "+m(s.movie.fees_russia),1)])):r("",!0)])):r("",!0),e("div",St,[s.movie.rating_reyohoho?(n(),l("div",Lt,[t[11]||(t[11]=e("img",{src:Ve,alt:"ReYohoho",class:"rating-logo"},null,-1)),_(" "+m(s.movie.rating_reyohoho.toFixed(1)),1)])):r("",!0),s.movie.rating_kp?(n(),l("div",Mt,[t[12]||(t[12]=e("img",{src:ie,alt:"КП",class:"rating-logo"},null,-1)),_(" "+m(s.movie.rating_kp),1)])):r("",!0),s.movie.rating_imdb?(n(),l("div",Tt,[t[13]||(t[13]=e("img",{src:re,alt:"IMDb",class:"rating-logo"},null,-1)),_(" "+m(s.movie.rating_imdb),1)])):r("",!0)]),s.movie.total_rating?(n(),l("div",xt," Всего оценок: "+m(s.movie.total_rating),1)):r("",!0),e("div",Et,[s.movie.url_kp?(n(),l("a",{key:0,href:s.movie.url_kp,target:"_blank",class:"external-link"},[...t[14]||(t[14]=[e("img",{src:ie,alt:"КП"},null,-1),_(" Кинопоиск ",-1)])],8,Bt)):r("",!0),s.movie.url_imdb?(n(),l("a",{key:1,href:s.movie.url_imdb,target:"_blank",class:"external-link"},[...t[15]||(t[15]=[e("img",{src:re,alt:"IMDb"},null,-1),_(" IMDb ",-1)])],8,Ut)):r("",!0)])])])):s.error?(n(),l("div",Ft,[t[16]||(t[16]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),e("p",null,m(s.error),1)])):r("",!0)]),e("div",Rt,[e("button",{class:"modern-dark-btn",onClick:y},"Закрыть"),s.movie&&!s.loading?(n(),W(C,{key:0,to:{name:"movie-info",params:{kp_id:s.movie.kp_id}},class:"modern-dark-btn primary",onClick:y},{default:Y(()=>[...t[17]||(t[17]=[_(" Посмотреть ",-1)])]),_:1},8,["to"])):r("",!0),e("button",{class:"modern-dark-btn primary",disabled:s.loading,onClick:p},[...t[18]||(t[18]=[e("i",{class:"fas fa-dice"},null,-1),_(" Еще раз ",-1)])],8,Ht)])])])):r("",!0)]),_:1})}}},Ot=ee(Nt,[["__scopeId","data-v-134fb0ad"]]),At={class:"wrapper"},Kt={class:"mainpage"},Vt={class:"search-type-buttons"},Wt=["disabled"],zt={class:"search-container"},Jt={class:"input-wrapper"},Yt=["placeholder","inputmode","onKeydown"],Pt={class:"icons"},qt={class:"content-container"},Gt={key:0},jt={key:0},Qt={key:0,class:"loading-container"},Xt={key:1,class:"empty-history"},Zt={key:2},ea={key:0,class:"no-results"},ta={key:3,class:"search-prompt"},aa={__name:"MovieSearch",setup(s){const $=_e(),T=be(),y=Be(),p=k("title"),i=k(""),I=k([]),D=k(!1),x=k(!1),f=k(!1),t=k(""),C=k(null),h=Z(()=>$.isMobile),S=k([]),L=k(!1),K=k(""),N=k(!1),U=k(null),F=k(!1),O=k(""),A=k(null);Ie(async()=>{if(T.token){D.value=!0;try{S.value=await Re(ne.HISTORY)}catch(o){const{message:a,code:d}=z(o);t.value=a,C.value=d,console.error("Ошибка загрузки истории:",o),d===401&&(T.logout(),await y.push("/login"),y.go(0))}finally{D.value=!1}}else S.value=$.history});function P(o){S.value=S.value.filter(a=>a.kp_id!==o)}const E=o=>{p.value=o,v(),L.value=!1},q=o=>{if(t.value="",C.value=null,p.value==="title"){if(i.value=o.target.value,h.value)return;L.value=xe(i.value),L.value&&(K.value=Ee(i.value))}else i.value=o.target.value.replace(/\D+/g,"")},G=()=>{L.value&&(i.value=He(i.value),L.value=!1)},w=()=>({title:"Введите название фильма",kinopoisk:"Пример: 301 (Матрица)",shikimori:"Пример: 28171 (Повар-боец Сома)",imdb:"Пример: 0198781 (Корпорация монстров)"})[p.value]||"Введите название фильма",v=()=>{var o;i.value="",I.value=[],x.value=!1,L.value=!1,t.value="",C.value=null,(o=A.value)==null||o.focus()},u=()=>{b.cancel(),i.value&&(t.value="",C.value=null,g())},g=async()=>{D.value=!0,x.value=!0,I.value=[];try{if(p.value==="kinopoisk"){/^\d+$/.test(i.value)||(i.value=i.value.replace(/\D/g,"")),y.push({name:"movie-info",params:{kp_id:i.value}});return}if(p.value==="imdb"){/^\d+$/.test(i.value)||(i.value=i.value.replace(/\D/g,""));const o=await Le(i.value);if(o.id_kp)y.push({name:"movie-info",params:{kp_id:"".concat(o.id_kp)}});else throw new Error("Не найдено");return}if(p.value==="shikimori"){/^\d+$/.test(i.value)||(i.value=i.value.replace(/\D/g,""));try{const o=await Me(i.value);if(o.id_kp){y.push({name:"movie-info",params:{kp_id:"".concat(o.id_kp)}});return}}catch(o){console.log("Switch to kodik",o)}y.push({name:"movie-info-shiki",params:{shiki_id:"shiki".concat(i.value)}});return}if(p.value==="title"){const o=await Te(i.value);I.value=o.map(a=>{var d,te,ae;return{...a,kp_id:a.id.toString(),rating_kp:((d=a.raw_data)==null?void 0:d.rating)!=="null"?(te=a.raw_data)==null?void 0:te.rating:null,type:(ae=a.raw_data)==null?void 0:ae.type}})}}catch(o){const{message:a,code:d}=z(o);t.value=a,C.value=d,console.error("Ошибка при поиске:",o)}finally{D.value=!1}},c=async()=>{if(D.value=!0,T.token)try{await Ne(ne.HISTORY),S.value=[],D.value=!1,f.value=!1}catch(o){const{message:a,code:d}=z(o);t.value=a,C.value=d,console.error("Ошибка загрузки истории:",o),d===401&&(T.logout(),await y.push("/login"),y.go(0)),D.value=!1,f.value=!1}else $.clearAllHistory(),D.value=!1,f.value=!1},b=Ce(()=>{i.value.length>=2?g():i.value.length<2&&(I.value=[],x.value=!1)},700);de(()=>{var a;const o=window.location.hash;if(o.startsWith("#search=")){const d=decodeURIComponent(o.replace("#search=",""));i.value=d,g()}else if(o.startsWith("#imdb=")){const d=decodeURIComponent(o.replace("#imdb=",""));E("imdb"),i.value=d,g()}else if(o.startsWith("#shiki")){const d=decodeURIComponent(o.replace("#shiki",""));E("shikimori"),i.value=d,g()}(a=A.value)==null||a.focus()}),$e(i,()=>{p.value==="title"&&b()});const M=()=>{if(I.value.length>0){const o=document.querySelector(".movie-card");o&&o.focus()}},V=()=>{N.value=!0,j()},H=()=>{N.value=!1,U.value=null,O.value=""},j=async()=>{F.value=!0,O.value="";try{const o=await Ue();if(o.kp_id)try{const a=await Fe(o.kp_id);U.value={...o,description:a.description,budget:a.budget,fees_world:a.fees_world,fees_russia:a.fees_russia,premiere_ru:a.premiere_ru,premiere_world:a.premiere_world,age_rating:a.age_rating,duration:a.duration,total_rating:a.total_rating}}catch(a){U.value=o}else U.value=o}catch(o){const{message:a}=z(o);O.value=a,console.error("Ошибка при получении случайного фильма:",o)}finally{F.value=!1}};return(o,a)=>(n(),l("div",At,[e("div",Kt,[e("div",Vt,[e("button",{class:B({active:p.value==="title"}),onClick:a[0]||(a[0]=d=>E("title"))}," Название ",2),e("button",{class:B({active:p.value==="kinopoisk"}),onClick:a[1]||(a[1]=d=>E("kinopoisk"))}," ID Кинопоиск ",2),e("button",{class:B({active:p.value==="shikimori"}),onClick:a[2]||(a[2]=d=>E("shikimori"))}," ID Shikimori ",2),e("button",{class:B({active:p.value==="imdb"}),onClick:a[3]||(a[3]=d=>E("imdb"))}," ID IMDB ",2),e("button",{class:"random-button",disabled:F.value,onClick:V},[a[7]||(a[7]=e("i",{class:"fas fa-dice"},null,-1)),_(" "+m(F.value?"Подбираем...":"Случайный фильм"),1)],8,Wt)]),e("div",zt,[e("div",Jt,[me(e("input",{ref_key:"searchInput",ref:A,"onUpdate:modelValue":a[4]||(a[4]=d=>i.value=d),placeholder:w(),class:B(["search-input",{"wrong-layout":L.value}]),inputmode:p.value==="title"?"text":"numeric",onKeydown:[Q(J(u,["prevent"]),["enter"]),Q(J(G,["prevent"]),["tab"]),Q(J(M,["prevent"]),["down"])],onInput:q},null,42,Yt),[[Se,i.value]]),e("div",Pt,[i.value?(n(),l("button",{key:0,class:"reset-button",onClick:v},[...a[8]||(a[8]=[e("i",{class:"fas fa-times"},null,-1)])])):r("",!0),e("button",{class:"search-button",onClick:u},[...a[9]||(a[9]=[e("i",{class:"fas fa-search"},null,-1)])])]),L.value?(n(),l("div",{key:0,class:B(["layout-warning",{show:L.value}])},[a[10]||(a[10]=e("i",{class:"fas fa-keyboard"},null,-1)),_(" Возможно, вы используете неправильную раскладку. Нажмите Tab для переключения на "+m(K.value)+" раскладку ",1)],2)):r("",!0)])]),e("div",qt,[i.value?r("",!0):(n(),l("div",Gt,[e("h2",null,[a[11]||(a[11]=_(" История просмотра ",-1)),S.value.length>0?(n(),l("span",jt,[R(Ae,{onClick:a[5]||(a[5]=d=>f.value=!0)}),R(Oe,{"is-open":f.value,message:"Вы уверены, что хотите очистить историю?",onConfirm:c,onClose:a[6]||(a[6]=d=>f.value=!1)},null,8,["is-open"])])):r("",!0)]),D.value?(n(),l("div",Qt,[R(Ke)])):S.value.length===0?(n(),l("div",Xt,[...a[12]||(a[12]=[e("span",{class:"material-icons"},"movie",-1),e("p",null,"Здесь пока пусто",-1)])])):(n(),W(se(le),{key:2,"movies-list":S.value,"is-history":!0,loading:!1,onItemDeleted:P},null,8,["movies-list"]))])),!i.value&&t.value?(n(),W(oe,{key:1,message:t.value,code:C.value},null,8,["message","code"])):r("",!0),x.value?(n(),l("div",Zt,[a[13]||(a[13]=e("h2",null,"Результаты поиска",-1)),R(se(le),{"movies-list":I.value,"is-history":!1,loading:D.value},null,8,["movies-list","loading"]),I.value.length===0&&!D.value&&!t.value?(n(),l("div",ea," Ничего не найдено ")):r("",!0),t.value?(n(),W(oe,{key:1,message:t.value,code:C.value},null,8,["message","code"])):r("",!0)])):r("",!0),i.value&&!x.value&&!D.value&&!t.value?(n(),l("div",ta,' Нажмите кнопку "Поиск" или Enter для поиска ')):r("",!0)])]),R(ot),R(Ot,{"is-open":N.value,movie:U.value,loading:F.value,error:O.value,onClose:H,onGetNewMovie:j},null,8,["is-open","movie","loading","error"])]))}},ra=ee(aa,[["__scopeId","data-v-37ccf637"]]);export{ra as default};
