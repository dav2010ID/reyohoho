import{_ as ee,o as de,a as fe,b as n,c as i,d as e,e as H,w as Y,n as U,f as ge,t as m,g as r,h as b,T as X,F as he,r as ye,i as ke,j as we,k as Z,l as k,m as W,p as pe,q as _e,s as J,u as me,v as be,x as Ie,y as De,z as Se,A as $e,B as Ce,C as Q,D as se,E as oe,G as Le,H as Me,I as Te,J as z,K as xe,L as Ee,M as Ue,N as Re,O as Fe,P as He,U as ne,Q as Ne,R as Oe}from"./index-BUGt0pAR.js";import{B as Ae}from"./BaseModal-j6_yVKz9.js";import{D as Be,M as ie}from"./MovieList-EG8QIlYQ.js";import{S as Ke}from"./SpinnerLoading-BkEOPueM.js";import{_ as Ve,a as le,b as re}from"./icon-imdb-logo-5qtstUwS.js";const We={class:"donaters-wrapper"},ze={class:"top-donators-carousel"},Je=["href","target","rel"],Ye={class:"donor-card-preview"},Pe={key:0,class:"avatar-placeholder"},qe={key:1,class:"live-badge"},Ge={class:"donor-card-info"},je={class:"donor-name"},Qe={key:0,class:"donor-category"},Xe={key:1,class:"donor-status"},Ze={key:2,class:"donor-status offline"},et={key:0,class:"donor-link-icon"},tt={class:"carousel-indicators"},at=["onClick"],ue="donatersCache",ve="twitchDataCache",ce=300*1e3,st={__name:"FooterDonaters",setup(s){const $=k([]),T=k(-1),y=k(0),p=k(!1);let l=null,D=null,_=null,x={donaters:null,twitch:null},f=!1;const t=k([{name:"XaksFlaX",twitchUsername:"xaksflax",avatar:null,isLive:!1,category:null,originalIndex:0},{name:"TanyaBelkova",twitchUsername:"tanyabelkova",avatar:null,isLive:!1,category:null,originalIndex:1},{name:"F1ashko",twitchUsername:"f1ashko",avatar:null,isLive:!1,category:null,originalIndex:2},{name:"Krabick",twitchUsername:"krabick",avatar:null,isLive:!1,category:null,originalIndex:3},{name:"Kati",twitchUsername:"Kati",avatar:null,isLive:!1,category:null,originalIndex:4},{name:"Timofey",twitchUsername:"Timofey",avatar:null,isLive:!1,category:null,originalIndex:5},{name:"RomanovaLera",twitchUsername:"RomanovaLera",avatar:null,isLive:!1,category:null,originalIndex:6}]),S=Z(()=>T.value===-1||!$.value.length?"":$.value[T.value]),h=Z(()=>t.value.length?t.value[y.value]:null);let C=null;const L=()=>{C||(C=window.requestAnimationFrame(()=>{const w=window.pageYOffset||document.documentElement.scrollTop,v=window.innerHeight,u=document.documentElement.scrollHeight;p.value=w+v>=u-10,C=null}))},K=(w,v)=>{try{return localStorage.getItem(w)}catch(u){return console.warn("localStorage error: ".concat(u.message)),x[v]?JSON.stringify(x[v]):null}},O=(w,v,u)=>{try{localStorage.setItem(w,v)}catch(g){console.warn("localStorage error: ".concat(g.message));try{x[u]=JSON.parse(v)}catch(c){console.error("safeSaveToStorage:",c)}}},R=async()=>{if(f)return;const w=K(ve,"twitch");if(w)try{const{timestamp:u,data:g}=JSON.parse(w);if(Date.now()-u<ce){F(g);return}}catch(u){console.error("fetchTwitchData:",u)}const v=t.value.filter(u=>u.twitchUsername).map(u=>u.twitchUsername);if(v.length!==0){f=!0;try{const u=v.map(async I=>{try{const M=await we(I);if(!M||!M.user_info)return{username:I,isLive:!1,category:null,avatar:null};const N=M.user_info.avatar_url||null;if(M.stream_data&&M.stream_data.length>0){const o=M.stream_data[0];return{username:I,isLive:!0,category:o.game_name||null,avatar:N}}else return{username:I,isLive:!1,category:null,avatar:N}}catch(M){return console.error("Twitch error for ".concat(I,":"),M),{username:I,isLive:!1,category:null,avatar:null}}}),g=await Promise.all(u),c=JSON.stringify({timestamp:Date.now(),data:g});O(ve,c,"twitch"),F(g)}catch(u){console.error("fetchTwitchData:",u)}finally{f=!1}}},F=w=>{const v=new Map(w.map(c=>[c.username.toLowerCase(),c]));let u=!1;const g=t.value.map(c=>{if(!c.twitchUsername)return c;const I=v.get(c.twitchUsername.toLowerCase());if(I){const M=I.isLive||!1,V=I.category||null,N=I.avatar||c.avatar;if(c.isLive!==M||c.category!==V||c.avatar!==N)return u=!0,{...c,isLive:M,category:V,avatar:N}}return c});u&&(g.sort((c,I)=>c.isLive!==I.isLive?c.isLive?-1:1:c.originalIndex-I.originalIndex),t.value=g,y.value=0)},A=async()=>{const w=new Date().toISOString().split("T")[0],v=K(ue,"donaters");if(v)try{const{date:u,data:g}=JSON.parse(v);if(u===w){$.value=g;return}}catch(u){console.error("fetchDonaters:",u)}try{const u=await ke();$.value=u.split("\n").map(c=>c.trim()).filter(c=>c);const g=JSON.stringify({date:w,data:$.value});O(ue,g,"donaters")}catch(u){console.error("Ошибка загрузки донатеров:",u)}};function B(){if(!$.value.length)return;const w=Math.floor(Math.random()*$.value.length);T.value=w}function P(){$.value.length!==0&&(B(),l=setInterval(B,4e3))}function E(){t.value.length&&(y.value=(y.value+1)%t.value.length)}function q(w){y.value=w,D&&(clearInterval(D),D=setInterval(E,5e3))}function G(){t.value.length!==0&&(D=setInterval(E,5e3))}return de(async()=>{await A(),P(),G(),window.addEventListener("scroll",L,{passive:!0}),L(),await R(),_=setInterval(R,ce)}),fe(()=>{l&&clearInterval(l),D&&clearInterval(D),_&&clearInterval(_),C&&window.cancelAnimationFrame(C),window.removeEventListener("scroll",L)}),(w,v)=>(n(),i("footer",{class:U({"footer-fixed":!p.value,"footer-static":p.value})},[e("div",We,[v[2]||(v[2]=e("span",{class:"donaters-text"},"Спасибо топ донатерам",-1)),e("div",ze,[H(X,{name:"fade",mode:"out-in"},{default:Y(()=>[h.value?(n(),i("a",{key:y.value,href:h.value.twitchUsername?"https://twitch.tv/".concat(h.value.twitchUsername):void 0,target:h.value.twitchUsername?"_blank":void 0,rel:h.value.twitchUsername?"noopener noreferrer":void 0,class:U(["donor-card",{"is-live":h.value.isLive,"no-link":!h.value.twitchUsername}])},[e("div",Ye,[e("div",{class:"donor-avatar",style:ge({backgroundImage:h.value.avatar?"url(".concat(h.value.avatar,")"):"linear-gradient(135deg, #9147ff 0%, #5a1f99 100%)"})},[h.value.avatar?r("",!0):(n(),i("div",Pe,m(h.value.name.charAt(0).toUpperCase()),1)),h.value.isLive?(n(),i("div",qe,[...v[0]||(v[0]=[e("span",{class:"live-indicator"},null,-1),b(" LIVE ",-1)])])):r("",!0)],4)]),e("div",Ge,[e("div",je,m(h.value.name),1),h.value.isLive&&h.value.category?(n(),i("div",Qe,m(h.value.category),1)):h.value.isLive?(n(),i("div",Xe,"В эфире")):(n(),i("div",Ze,"Не в сети"))]),h.value.twitchUsername?(n(),i("div",et,[...v[1]||(v[1]=[e("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14"},[e("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})],-1)])])):r("",!0)],10,Je)):r("",!0)]),_:1}),e("div",tt,[(n(!0),i(he,null,ye(t.value,(u,g)=>(n(),i("button",{key:g,class:U({active:g===y.value}),onClick:c=>q(g)},null,10,at))),128))])]),v[3]||(v[3]=e("span",{class:"donaters-text"},"а так же",-1)),H(X,{name:"fade",mode:"out-in"},{default:Y(()=>[S.value?(n(),i("span",{key:T.value,class:"donater"},m(S.value),1)):r("",!0)]),_:1}),v[4]||(v[4]=e("a",{class:"visitor-badge-link",href:"https://visitor-badge.laobi.icu/badge?page_id=dav2010id.reyohoho&left_text=Site%20views&left_color=111827&right_color=14b8a6",target:"_blank",rel:"noopener noreferrer","aria-label":"Site visitors badge"},[e("img",{class:"visitor-badge-image",src:"https://visitor-badge.laobi.icu/badge?page_id=dav2010id.reyohoho&left_text=Site%20views&left_color=111827&right_color=14b8a6",alt:"Site visitors"})],-1))])],2))}},ot=ee(st,[["__scopeId","data-v-347a8f75"]]),nt={class:"modal modern-dark-dialog random-movie-modal"},it={class:"modal-content"},lt={key:0,class:"loading-container"},rt={key:1,class:"movie-content"},ut={class:"movie-poster-section"},vt=["alt"],ct={class:"movie-info-section"},dt={class:"movie-title"},mt={key:0,class:"movie-year"},ft={key:1,class:"movie-type"},gt={key:2,class:"movie-description"},ht={key:3,class:"movie-duration"},yt={key:4,class:"movie-age-rating"},kt={key:5,class:"movie-countries"},wt={key:6,class:"movie-genres"},pt={key:7,class:"movie-premiere"},_t={key:0},bt={key:1},It={key:8,class:"movie-finances"},Dt={key:0},St={key:1},$t={key:2},Ct={class:"ratings"},Lt={key:0,class:"rating rating-our"},Mt={key:1,class:"rating rating-kp"},Tt={key:2,class:"rating rating-imdb"},xt={key:9,class:"total-ratings"},Et={class:"external-links"},Ut=["href"],Rt=["href"],Ft={key:2,class:"error-content"},Ht={class:"modal-actions"},Nt=["disabled"],Ot={__name:"RandomMovieModal",props:{isOpen:Boolean,movie:Object,loading:Boolean,error:String},emits:["close","get-new-movie"],setup(s,{emit:$}){const T=$,y=()=>{T("close")},p=()=>{T("get-new-movie")},l=f=>({"FilmType.FILM":"Фильм","FilmType.TV_SERIES":"Сериал","FilmType.TV_SHOW":"ТВ-шоу","FilmType.MINI_SERIES":"Мини-сериал"})[f]||f,D=f=>{if(!f)return"";const t=Math.floor(f/60),S=f%60;return t>0?"".concat(t," ч ").concat(S," мин"):"".concat(S," мин")},_=f=>f?new Date(f).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}):"",x=f=>{f.target.src="/src/assets/image-no-poster.gif"};return(f,t)=>{const S=pe("router-link"),h=_e("lazy");return n(),W(X,{name:"modal"},{default:Y(()=>[s.isOpen?(n(),i("div",{key:0,class:"modal-overlay",onClick:J(y,["self"])},[e("div",nt,[e("div",{class:"modal-header"},[t[1]||(t[1]=e("h3",null,[e("i",{class:"fas fa-dice"}),b(" Случайный фильм ")],-1)),e("button",{class:"close-btn",onClick:y},[...t[0]||(t[0]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",it,[s.loading?(n(),i("div",lt,[...t[2]||(t[2]=[e("div",{class:"spinner"},null,-1),e("p",null,"Подбираем фильм...",-1)])])):s.movie?(n(),i("div",rt,[e("div",ut,[me(e("img",{alt:s.movie.title,class:"movie-poster",onError:x},null,40,vt),[[h,s.movie.cover]])]),e("div",ct,[e("h4",dt,m(s.movie.title),1),s.movie.year?(n(),i("div",mt,m(s.movie.year),1)):r("",!0),s.movie.type?(n(),i("div",ft,m(l(s.movie.type)),1)):r("",!0),s.movie.description?(n(),i("div",gt,m(s.movie.description),1)):r("",!0),s.movie.duration?(n(),i("div",ht,[t[3]||(t[3]=e("strong",null,"Длительность:",-1)),b(" "+m(D(s.movie.duration)),1)])):r("",!0),s.movie.age_rating?(n(),i("div",yt,[t[4]||(t[4]=e("strong",null,"Возрастной рейтинг:",-1)),b(" "+m(s.movie.age_rating),1)])):r("",!0),s.movie.countries?(n(),i("div",kt,[t[5]||(t[5]=e("strong",null,"Страны:",-1)),b(" "+m(s.movie.countries),1)])):r("",!0),s.movie.genres?(n(),i("div",wt,[t[6]||(t[6]=e("strong",null,"Жанры:",-1)),b(" "+m(s.movie.genres),1)])):r("",!0),s.movie.premiere_ru||s.movie.premiere_world?(n(),i("div",pt,[t[7]||(t[7]=e("strong",null,"Премьера:",-1)),s.movie.premiere_ru?(n(),i("span",_t,m(_(s.movie.premiere_ru))+" (Россия)",1)):r("",!0),s.movie.premiere_world&&!s.movie.premiere_ru?(n(),i("span",bt,m(_(s.movie.premiere_world))+" (Мир) ",1)):r("",!0)])):r("",!0),s.movie.budget||s.movie.fees_world||s.movie.fees_russia?(n(),i("div",It,[s.movie.budget?(n(),i("div",Dt,[t[8]||(t[8]=e("strong",null,"Бюджет:",-1)),b(" "+m(s.movie.budget),1)])):r("",!0),s.movie.fees_world?(n(),i("div",St,[t[9]||(t[9]=e("strong",null,"Сборы в мире:",-1)),b(" "+m(s.movie.fees_world),1)])):r("",!0),s.movie.fees_russia?(n(),i("div",$t,[t[10]||(t[10]=e("strong",null,"Сборы в России:",-1)),b(" "+m(s.movie.fees_russia),1)])):r("",!0)])):r("",!0),e("div",Ct,[s.movie.rating_reyohoho?(n(),i("div",Lt,[t[11]||(t[11]=e("img",{src:Ve,alt:"ReYohoho",class:"rating-logo"},null,-1)),b(" "+m(s.movie.rating_reyohoho.toFixed(1)),1)])):r("",!0),s.movie.rating_kp?(n(),i("div",Mt,[t[12]||(t[12]=e("img",{src:le,alt:"КП",class:"rating-logo"},null,-1)),b(" "+m(s.movie.rating_kp),1)])):r("",!0),s.movie.rating_imdb?(n(),i("div",Tt,[t[13]||(t[13]=e("img",{src:re,alt:"IMDb",class:"rating-logo"},null,-1)),b(" "+m(s.movie.rating_imdb),1)])):r("",!0)]),s.movie.total_rating?(n(),i("div",xt," Всего оценок: "+m(s.movie.total_rating),1)):r("",!0),e("div",Et,[s.movie.url_kp?(n(),i("a",{key:0,href:s.movie.url_kp,target:"_blank",class:"external-link"},[...t[14]||(t[14]=[e("img",{src:le,alt:"КП"},null,-1),b(" Кинопоиск ",-1)])],8,Ut)):r("",!0),s.movie.url_imdb?(n(),i("a",{key:1,href:s.movie.url_imdb,target:"_blank",class:"external-link"},[...t[15]||(t[15]=[e("img",{src:re,alt:"IMDb"},null,-1),b(" IMDb ",-1)])],8,Rt)):r("",!0)])])])):s.error?(n(),i("div",Ft,[t[16]||(t[16]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),e("p",null,m(s.error),1)])):r("",!0)]),e("div",Ht,[e("button",{class:"modern-dark-btn",onClick:y},"Закрыть"),s.movie&&!s.loading?(n(),W(S,{key:0,to:{name:"movie-info",params:{kp_id:s.movie.kp_id}},class:"modern-dark-btn primary",onClick:y},{default:Y(()=>[...t[17]||(t[17]=[b(" Посмотреть ",-1)])]),_:1},8,["to"])):r("",!0),e("button",{class:"modern-dark-btn primary",disabled:s.loading,onClick:p},[...t[18]||(t[18]=[e("i",{class:"fas fa-dice"},null,-1),b(" Еще раз ",-1)])],8,Nt)])])])):r("",!0)]),_:1})}}},At=ee(Ot,[["__scopeId","data-v-134fb0ad"]]),Bt={class:"wrapper"},Kt={class:"mainpage"},Vt={class:"search-type-buttons"},Wt=["disabled"],zt={class:"search-container"},Jt={class:"input-wrapper"},Yt=["placeholder","inputmode","onKeydown"],Pt={class:"icons"},qt={class:"content-container"},Gt={key:0},jt={key:0},Qt={key:0,class:"loading-container"},Xt={key:1,class:"empty-history"},Zt={key:2},ea={key:0,class:"no-results"},ta={key:3,class:"search-prompt"},aa={__name:"MovieSearch",setup(s){const $=be(),T=Ie(),y=Ue(),p=k("title"),l=k(""),D=k([]),_=k(!1),x=k(!1),f=k(!1),t=k(""),S=k(null),h=Z(()=>$.isMobile),C=k([]),L=k(!1),K=k(""),O=k(!1),R=k(null),F=k(!1),A=k(""),B=k(null);De(async()=>{if(T.token){_.value=!0;try{C.value=await He(ne.HISTORY)}catch(o){const{message:a,code:d}=z(o);t.value=a,S.value=d,console.error("Ошибка загрузки истории:",o),d===401&&(T.logout(),await y.push("/login"),y.go(0))}finally{_.value=!1}}else C.value=$.history});function P(o){C.value=C.value.filter(a=>a.kp_id!==o)}const E=o=>{p.value=o,v(),L.value=!1},q=o=>{if(t.value="",S.value=null,p.value==="title"){if(l.value=o.target.value,h.value)return;L.value=xe(l.value),L.value&&(K.value=Ee(l.value))}else l.value=o.target.value.replace(/\D+/g,"")},G=()=>{L.value&&(l.value=Ne(l.value),L.value=!1)},w=()=>({title:"Введите название фильма",kinopoisk:"Пример: 301 (Матрица)",shikimori:"Пример: 28171 (Повар-боец Сома)",imdb:"Пример: 0198781 (Корпорация монстров)"})[p.value]||"Введите название фильма",v=()=>{var o;l.value="",D.value=[],x.value=!1,L.value=!1,t.value="",S.value=null,(o=B.value)==null||o.focus()},u=()=>{I.cancel(),l.value&&(t.value="",S.value=null,g())},g=async()=>{_.value=!0,x.value=!0,D.value=[];try{if(p.value==="kinopoisk"){/^\d+$/.test(l.value)||(l.value=l.value.replace(/\D/g,"")),y.push({name:"movie-info",params:{kp_id:l.value}});return}if(p.value==="imdb"){/^\d+$/.test(l.value)||(l.value=l.value.replace(/\D/g,""));const o=await Le(l.value);if(o.id_kp)y.push({name:"movie-info",params:{kp_id:"".concat(o.id_kp)}});else throw new Error("Не найдено");return}if(p.value==="shikimori"){/^\d+$/.test(l.value)||(l.value=l.value.replace(/\D/g,""));try{const o=await Me(l.value);if(o.id_kp){y.push({name:"movie-info",params:{kp_id:"".concat(o.id_kp)}});return}}catch(o){console.log("Switch to kodik",o)}y.push({name:"movie-info-shiki",params:{shiki_id:"shiki".concat(l.value)}});return}if(p.value==="title"){const o=await Te(l.value);D.value=o.map(a=>{var d,te,ae;return{...a,kp_id:a.id.toString(),rating_kp:((d=a.raw_data)==null?void 0:d.rating)!=="null"?(te=a.raw_data)==null?void 0:te.rating:null,type:(ae=a.raw_data)==null?void 0:ae.type}})}}catch(o){const{message:a,code:d}=z(o);t.value=a,S.value=d,console.error("Ошибка при поиске:",o)}finally{_.value=!1}},c=async()=>{if(_.value=!0,T.token)try{await Oe(ne.HISTORY),C.value=[],_.value=!1,f.value=!1}catch(o){const{message:a,code:d}=z(o);t.value=a,S.value=d,console.error("Ошибка загрузки истории:",o),d===401&&(T.logout(),await y.push("/login"),y.go(0)),_.value=!1,f.value=!1}else $.clearAllHistory(),_.value=!1,f.value=!1},I=Se(()=>{l.value.length>=2?g():l.value.length<2&&(D.value=[],x.value=!1)},700);de(()=>{var a;const o=window.location.hash;if(o.startsWith("#search=")){const d=decodeURIComponent(o.replace("#search=",""));l.value=d,g()}else if(o.startsWith("#imdb=")){const d=decodeURIComponent(o.replace("#imdb=",""));E("imdb"),l.value=d,g()}else if(o.startsWith("#shiki")){const d=decodeURIComponent(o.replace("#shiki",""));E("shikimori"),l.value=d,g()}(a=B.value)==null||a.focus()}),$e(l,()=>{p.value==="title"&&I()});const M=()=>{if(D.value.length>0){const o=document.querySelector(".movie-card");o&&o.focus()}},V=()=>{O.value=!0,j()},N=()=>{O.value=!1,R.value=null,A.value=""},j=async()=>{F.value=!0,A.value="";try{const o=await Re();if(o.kp_id)try{const a=await Fe(o.kp_id);R.value={...o,description:a.description,budget:a.budget,fees_world:a.fees_world,fees_russia:a.fees_russia,premiere_ru:a.premiere_ru,premiere_world:a.premiere_world,age_rating:a.age_rating,duration:a.duration,total_rating:a.total_rating}}catch(a){R.value=o}else R.value=o}catch(o){const{message:a}=z(o);A.value=a,console.error("Ошибка при получении случайного фильма:",o)}finally{F.value=!1}};return(o,a)=>(n(),i("div",Bt,[e("div",Kt,[e("div",Vt,[e("button",{class:U({active:p.value==="title"}),onClick:a[0]||(a[0]=d=>E("title"))}," Название ",2),e("button",{class:U({active:p.value==="kinopoisk"}),onClick:a[1]||(a[1]=d=>E("kinopoisk"))}," ID Кинопоиск ",2),e("button",{class:U({active:p.value==="shikimori"}),onClick:a[2]||(a[2]=d=>E("shikimori"))}," ID Shikimori ",2),e("button",{class:U({active:p.value==="imdb"}),onClick:a[3]||(a[3]=d=>E("imdb"))}," ID IMDB ",2),e("button",{class:"random-button",disabled:F.value,onClick:V},[a[7]||(a[7]=e("i",{class:"fas fa-dice"},null,-1)),b(" "+m(F.value?"Подбираем...":"Случайный фильм"),1)],8,Wt)]),e("div",zt,[e("div",Jt,[me(e("input",{ref_key:"searchInput",ref:B,"onUpdate:modelValue":a[4]||(a[4]=d=>l.value=d),placeholder:w(),class:U(["search-input",{"wrong-layout":L.value}]),inputmode:p.value==="title"?"text":"numeric",onKeydown:[Q(J(u,["prevent"]),["enter"]),Q(J(G,["prevent"]),["tab"]),Q(J(M,["prevent"]),["down"])],onInput:q},null,42,Yt),[[Ce,l.value]]),e("div",Pt,[l.value?(n(),i("button",{key:0,class:"reset-button",onClick:v},[...a[8]||(a[8]=[e("i",{class:"fas fa-times"},null,-1)])])):r("",!0),e("button",{class:"search-button",onClick:u},[...a[9]||(a[9]=[e("i",{class:"fas fa-search"},null,-1)])])]),L.value?(n(),i("div",{key:0,class:U(["layout-warning",{show:L.value}])},[a[10]||(a[10]=e("i",{class:"fas fa-keyboard"},null,-1)),b(" Возможно, вы используете неправильную раскладку. Нажмите Tab для переключения на "+m(K.value)+" раскладку ",1)],2)):r("",!0)])]),e("div",qt,[l.value?r("",!0):(n(),i("div",Gt,[e("h2",null,[a[11]||(a[11]=b(" История просмотра ",-1)),C.value.length>0?(n(),i("span",jt,[H(Be,{onClick:a[5]||(a[5]=d=>f.value=!0)}),H(Ae,{"is-open":f.value,message:"Вы уверены, что хотите очистить историю?",onConfirm:c,onClose:a[6]||(a[6]=d=>f.value=!1)},null,8,["is-open"])])):r("",!0)]),_.value?(n(),i("div",Qt,[H(Ke)])):C.value.length===0?(n(),i("div",Xt,[...a[12]||(a[12]=[e("span",{class:"material-icons"},"movie",-1),e("p",null,"Здесь пока пусто",-1)])])):(n(),W(se(ie),{key:2,"movies-list":C.value,"is-history":!0,loading:!1,onItemDeleted:P},null,8,["movies-list"]))])),!l.value&&t.value?(n(),W(oe,{key:1,message:t.value,code:S.value},null,8,["message","code"])):r("",!0),x.value?(n(),i("div",Zt,[a[13]||(a[13]=e("h2",null,"Результаты поиска",-1)),H(se(ie),{"movies-list":D.value,"is-history":!1,loading:_.value},null,8,["movies-list","loading"]),D.value.length===0&&!_.value&&!t.value?(n(),i("div",ea," Ничего не найдено ")):r("",!0),t.value?(n(),W(oe,{key:1,message:t.value,code:S.value},null,8,["message","code"])):r("",!0)])):r("",!0),l.value&&!x.value&&!_.value&&!t.value?(n(),i("div",ta,' Нажмите кнопку "Поиск" или Enter для поиска ')):r("",!0)])]),H(ot),H(At,{"is-open":O.value,movie:R.value,loading:F.value,error:A.value,onClose:N,onGetNewMovie:j},null,8,["is-open","movie","loading","error"])]))}},ra=ee(aa,[["__scopeId","data-v-37ccf637"]]);export{ra as default};
