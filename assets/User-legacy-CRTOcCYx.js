!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var a,o,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function c(e,n,r,i){var c=n&&n.prototype instanceof d?n:d,u=Object.create(c.prototype);return t(u,"_invoke",function(e,t,n){var r,i,c,d=0,u=n||[],s=!1,p={p:0,n:0,v:a,a:f,f:f.bind(a,4),d:function(e,t){return r=e,i=0,c=a,p.n=t,l}};function f(e,t){for(i=e,c=t,o=0;!s&&d&&!n&&o<u.length;o++){var n,r=u[o],f=p.p,b=r[2];e>3?(n=b===t)&&(c=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=a):r[0]<=f&&((n=e<2&&f<r[1])?(i=0,p.v=t,p.n=r[1]):f<b&&(n=e<3||r[0]>t||t>b)&&(r[4]=e,r[5]=t,p.n=b,i=0))}if(n||e>1)return l;throw s=!0,t}return function(n,u,b){if(d>1)throw TypeError("Generator is already running");for(s&&1===u&&f(u,b),i=u,c=b;(o=i<2?a:c)||!s;){r||(i?i<3?(i>1&&(p.n=-1),f(i,c)):p.n=c:p.v=c);try{if(d=2,r){if(i||(n="next"),o=r[n]){if(!(o=o.call(r,c)))throw TypeError("iterator result is not an object");if(!o.done)return o;c=o.value,i<2&&(i=0)}else 1===i&&(o=r.return)&&o.call(r),i<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),i=1);r=a}else if((o=(s=p.n<0)?c:e.call(t,p))!==l)break}catch(o){r=a,i=1,c=o}finally{d=1}}return{value:o,done:s}}}(e,r,i),!0),u}var l={};function d(){}function u(){}function s(){}o=Object.getPrototypeOf;var p=[][r]?o(o([][r]())):(t(o={},r,function(){return this}),o),f=s.prototype=d.prototype=Object.create(p);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,t(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,t(f,"constructor",s),t(s,"constructor",u),u.displayName="GeneratorFunction",t(s,i,"GeneratorFunction"),t(f),t(f,i,"Generator"),t(f,r,function(){return this}),t(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:b}})()}function t(e,a,o,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}t=function(e,a,o,n){function i(a,o){t(e,a,function(e){return this._invoke(a,o,e)})}a?r?r(e,a,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[a]=o:(i("next",0),i("throw",1),i("return",2))},t(e,a,o,n)}function a(e,t,a,o,n,r,i){try{var c=e[r](i),l=c.value}catch(e){return void a(e)}c.done?t(l):Promise.resolve(l).then(o,n)}function o(e){return function(){var t=this,o=arguments;return new Promise(function(n,r){var i=e.apply(t,o);function c(e){a(i,n,r,c,l,"next",e)}function l(e){a(i,n,r,c,l,"throw",e)}c(void 0)})}}System.register(["./index-legacy-CLrEdqnW.js"],function(t,a){"use strict";var n,r,i,c,l,d,u,s,p,f,b,v,g,m,x,h,y;return{setters:[e=>{n=e._,r=e.c,i=e.d,c=e.u,l=e.t,d=e.h,u=e.B,s=e.C,p=e.g,f=e.x,b=e.l,v=e.o,g=e.a0,m=e.q,x=e.$,h=e.M,y=e.b}],execute:function(){var a=document.createElement("style");a.textContent=".profile-container[data-v-27307cba]{max-width:600px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}.profile-header[data-v-27307cba]{text-align:center;margin-bottom:30px}.profile-content[data-v-27307cba]{display:flex;flex-direction:column;align-items:center;gap:20px}.profile-photo[data-v-27307cba]{width:150px;height:150px;border-radius:50%;border:2px solid var(--accent-color);overflow:hidden;background-color:#f0f0f0;display:flex;align-items:center;justify-content:center}.profile-photo img[data-v-27307cba]{width:100%;height:100%;object-fit:cover}.photo-placeholder[data-v-27307cba]{font-size:60px;color:#666}.profile-info[data-v-27307cba]{width:100%;max-width:300px}.info-item[data-v-27307cba]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #eee}.info-item label[data-v-27307cba]{font-weight:700;color:#555}.editable-field[data-v-27307cba]{flex:1;margin-left:10px}.editable-text[data-v-27307cba]{cursor:pointer;padding:2px 4px;border-radius:3px;transition:background-color .2s;display:flex;align-items:center;gap:6px}.editable-text[data-v-27307cba]:hover{background-color:rgba(0,0,0,.05)}.edit-icon[data-v-27307cba]{font-size:12px;color:#999;opacity:.7;transition:opacity .2s ease}.editable-text:hover .edit-icon[data-v-27307cba]{opacity:1;color:var(--accent-color)}.edit-input-container[data-v-27307cba]{display:flex;align-items:center;gap:5px}.edit-input[data-v-27307cba]{flex:1;padding:4px 8px;border:1px solid var(--accent-color);border-radius:4px;font-size:14px;background-color:#fff;color:#333}.save-btn[data-v-27307cba],.cancel-btn[data-v-27307cba]{padding:4px 8px;border:none;border-radius:3px;cursor:pointer;font-size:12px;transition:background-color .2s}.save-btn[data-v-27307cba]{background-color:#10b981;color:#fff}.save-btn[data-v-27307cba]:hover{background-color:#059669}.cancel-btn[data-v-27307cba]{background-color:#ef4444;color:#fff}.cancel-btn[data-v-27307cba]:hover{background-color:#dc2626}.logout-btn[data-v-27307cba]{margin-top:30px;padding:10px 20px;background-color:var(--accent-color);color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.logout-btn[data-v-27307cba]:hover{background-color:var(--accent-hover)}.loading[data-v-27307cba]{text-align:center;padding:50px;color:#666}.dialog-overlay[data-v-27307cba]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}.dialog[data-v-27307cba]{background-color:#fff;padding:20px;border-radius:8px;max-width:400px;width:100%}.modern-dark-dialog[data-v-27307cba]{background-color:#1d1d1d;color:#e2e8f0;border-radius:12px;overflow:hidden;width:320px;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.25)}.dialog-header[data-v-27307cba]{padding:16px 20px;border-bottom:1px solid var(--accent-color)}.dialog-header h3[data-v-27307cba]{margin:0;font-size:1.1rem;font-weight:600}.dialog-body[data-v-27307cba]{padding:20px}.dialog-body p[data-v-27307cba]{margin:0;line-height:1.5}.dialog-footer[data-v-27307cba]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px}.modern-dark-btn[data-v-27307cba]{padding:8px 16px;border-radius:6px;border:none;background-color:#242424;color:#e2e8f0;cursor:pointer;font-weight:500;transition:all .2s ease}.modern-dark-btn[data-v-27307cba]:hover{background-color:#2b2b2b}.modern-dark-btn.danger[data-v-27307cba]{background-color:#7f1d1d;color:#fecaca}.modern-dark-btn.danger[data-v-27307cba]:hover{background-color:#991b1b}\n/*$vite$:1*/",document.head.appendChild(a);var k={name:"ProfilePage",setup(){var t=b(!1),a=f(),n=h(),r=b(a.user),i=b(null),c=b(!1),l=b(""),d=b(null),u=function(){var r=o(e().m(function o(){var r,i=arguments;return e().w(function(e){for(;;)switch(e.n){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],t.value=!1,a.logout(),!r){e.n=2;break}return e.n=1,n.push("/");case 1:e.n=3;break;case 2:return e.n=3,n.push("/login");case 3:n.go(0);case 4:return e.a(2)}},o)}));return function(){return r.apply(this,arguments)}}(),s=function(){var t=o(e().m(function t(){var o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!l.value.trim()||l.value.trim()===r.value.name){e.n=4;break}return e.p=1,e.n=2,a.updateUserName(l.value.trim());case 2:r.value.name=l.value.trim(),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Ошибка при обновлении имени:",o);case 4:c.value=!1;case 5:return e.a(2)}},t,null,[[1,3]])}));return function(){return t.apply(this,arguments)}}();return v(o(e().m(function t(){var a;return e().w(function(e){for(;;)switch(e.n){case 0:if(r.value||u(!0),!r.value.photo){e.n=2;break}return e.n=1,g();case 1:a=e.v,i.value=`${a}${r.value.photo}`;case 2:return e.a(2)}},t)}))),{user:r,showDialog:t,confirmLogout:()=>{t.value=!0},logout:u,photoURL:i,isEditingName:c,editingName:l,nameInput:d,startEditName:()=>{l.value=r.value.name,c.value=!0,x(()=>{var e,t;null===(e=d.value)||void 0===e||e.focus(),null===(t=d.value)||void 0===t||t.select()})},saveName:s,cancelEditName:()=>{c.value=!1,l.value=""}}}},w={class:"profile-container"},N={key:0,class:"profile-content"},j={class:"profile-photo"},E={key:0,alt:"Profile Photo"},P={key:1,class:"photo-placeholder"},C={class:"profile-info"},O={class:"info-item"},_={class:"editable-field"},z={key:1,class:"edit-input-container"},L={key:1,class:"loading"},S={key:2,class:"dialog-overlay"},G={class:"dialog modern-dark-dialog"},T={class:"dialog-footer"};t("default",n(k,[["render",function(e,t,a,o,n,f){var b=m("lazy");return y(),r("div",w,[t[14]||(t[14]=i("div",{class:"profile-header"},[i("h1",null,"Профиль")],-1)),o.user?(y(),r("div",N,[i("div",j,[o.user.photo&&o.photoURL?c((y(),r("img",E,null,512)),[[b,o.photoURL]]):(y(),r("div",P,l(String.fromCodePoint(o.user.name.codePointAt(0)).toLocaleUpperCase()),1))]),i("div",C,[i("div",O,[t[11]||(t[11]=i("label",null,"Имя:",-1)),i("div",_,[o.isEditingName?(y(),r("div",z,[c(i("input",{ref:"nameInput","onUpdate:modelValue":t[1]||(t[1]=e=>o.editingName=e),class:"edit-input",maxlength:"50",onKeyup:[t[2]||(t[2]=s(function(){return o.saveName&&o.saveName(...arguments)},["enter"])),t[3]||(t[3]=s(function(){return o.cancelEditName&&o.cancelEditName(...arguments)},["esc"]))],onBlur:t[4]||(t[4]=function(){return o.saveName&&o.saveName(...arguments)})},null,544),[[u,o.editingName]]),i("button",{class:"save-btn",onClick:t[5]||(t[5]=function(){return o.saveName&&o.saveName(...arguments)})},"✓"),i("button",{class:"cancel-btn",onClick:t[6]||(t[6]=function(){return o.cancelEditName&&o.cancelEditName(...arguments)})},"✕")])):(y(),r("span",{key:0,class:"editable-text",onClick:t[0]||(t[0]=function(){return o.startEditName&&o.startEditName(...arguments)})},[d(l(o.user.name)+" ",1),t[10]||(t[10]=i("i",{class:"fas fa-edit edit-icon"},null,-1))]))])])]),i("button",{class:"logout-btn",onClick:t[7]||(t[7]=function(){return o.confirmLogout&&o.confirmLogout(...arguments)})},"Выйти")])):(y(),r("div",L,"Загрузка профиля...")),o.showDialog?(y(),r("div",S,[i("div",G,[t[12]||(t[12]=i("div",{class:"dialog-header"},[i("h3",null,"Выход")],-1)),t[13]||(t[13]=i("div",{class:"dialog-body"},[i("p",null,"Вы уверены?")],-1)),i("div",T,[i("button",{class:"modern-dark-btn",onClick:t[8]||(t[8]=e=>o.showDialog=!1)},"Отмена"),i("button",{class:"modern-dark-btn danger",onClick:t[9]||(t[9]=function(){return o.logout&&o.logout(...arguments)})},"Выйти")])])])):p("",!0)])}],["__scopeId","data-v-27307cba"]]))}}})}();
