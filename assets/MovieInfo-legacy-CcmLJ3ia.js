!function(){function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}function a(e,a){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return t(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function t(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach(function(a){i(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function i(a,t,n){return(t=function(a){var t=function(a,t){if("object"!=e(a)||!a)return a;var n=a[Symbol.toPrimitive];if(void 0!==n){var o=n.call(a,t||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(a,"string");return"symbol"==e(t)?t:t+""}(t))in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,a,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var r=n&&n.prototype instanceof s?n:s,d=Object.create(r.prototype);return l(d,"_invoke",function(t,n,o){var i,r,l,s=0,d=o||[],u=!1,v={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(a,t){return i=a,r=0,l=e,v.n=t,c}};function m(t,n){for(r=t,l=n,a=0;!u&&s&&!o&&a<d.length;a++){var o,i=d[a],m=v.p,p=i[2];t>3?(o=p===n)&&(l=i[(r=i[4])?5:(r=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=t<2&&m<i[1])?(r=0,v.v=n,v.n=i[1]):m<p&&(o=t<3||i[0]>n||n>p)&&(i[4]=t,i[5]=n,v.n=p,r=0))}if(o||t>1)return c;throw u=!0,n}return function(o,d,p){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&m(d,p),r=d,l=p;(a=r<2?e:l)||!u;){i||(r?r<3?(r>1&&(v.n=-1),m(r,l)):v.n=l:v.v=l);try{if(s=2,i){if(r||(o="next"),a=i[o]){if(!(a=a.call(i,l)))throw TypeError("iterator result is not an object");if(!a.done)return a;l=a.value,r<2&&(r=0)}else 1===r&&(a=i.return)&&a.call(i),r<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),r=1);i=e}else if((a=(u=v.n<0)?l:t.call(n,v))!==c)break}catch(a){i=e,r=1,l=a}finally{s=1}}return{value:a,done:u}}}(t,o,i),!0),d}var c={};function s(){}function d(){}function u(){}a=Object.getPrototypeOf;var v=[][n]?a(a([][n]())):(l(a={},n,function(){return this}),a),m=u.prototype=s.prototype=Object.create(v);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,l(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return d.prototype=u,l(m,"constructor",u),l(u,"constructor",d),d.displayName="GeneratorFunction",l(u,o,"GeneratorFunction"),l(m),l(m,o,"Generator"),l(m,n,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:p}})()}function l(e,a,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,a,t,n){function i(a,t){l(e,a,function(e){return this._invoke(a,t,e)})}a?o?o(e,a,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[a]=t:(i("next",0),i("throw",1),i("return",2))},l(e,a,t,n)}function c(e,a,t,n,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void t(e)}l.done?a(c):Promise.resolve(c).then(n,o)}function s(e){return function(){var a=this,t=arguments;return new Promise(function(n,o){var i=e.apply(a,t);function r(e){c(i,n,o,r,l,"next",e)}function l(e){c(i,n,o,r,l,"throw",e)}r(void 0)})}}System.register(["./index-legacy-CWOvJdlX.js","./icon-imdb-logo-legacy-DY9dgmyD.js","./MovieRating-legacy-gO0FFvnb.js","./MovieList-legacy-ZqUf0BaW.js","./SpinnerLoading-legacy-BWMDbUrA.js","./player-legacy-CKALqLUM.js","./ToastMessage-legacy-BP2W2zgz.js","./trailer-legacy-Fw8Qlneb.js","./useCommentFormatting-legacy-r_EoyfUF.js","./htmlSanitizer-legacy-BuNrU8dK.js"],function(e,t){"use strict";var n,i,l,c,d,u,v,m,p,f,g,b,h,x,k,y,w,_,C,j,E,z,L,M,I,S,P,B,R,T,U,$,O,N,A,H,F,D,V,q,Y,K,W,G,Z,Q,X,J,ee,ae,te,ne,oe,ie,re,le,ce,se,de,ue,ve,me,pe,fe,ge,be,he,xe,ke,ye,we,_e,Ce,je,Ee,ze,Le,Me,Ie,Se,Pe,Be,Re,Te,Ue,$e;return{setters:[e=>{n=e._,i=e.v,l=e.l,c=e.o,d=e.A,u=e.X,v=e.b,m=e.c,p=e.d,f=e.u,g=e.Y,b=e.F,h=e.r,x=e.t,k=e.g,y=e.k,w=e.n,_=e.Z,C=e.z,j=e.B,E=e.s,z=e.$,L=e.M,M=e.a0,I=e.a1,S=e.a2,P=e.a3,B=e.e,R=e.w,T=e.h,U=e.a4,$=e.p,O=e.f,N=e.m,A=e.x,H=e.a5,F=e.a6,D=e.a7,V=e.a8,q=e.a9,Y=e.aa,K=e.ab,W=e.ac,G=e.a,Z=e.E,Q=e.D,X=e.ad,J=e.U,ee=e.ae,ae=e.af,te=e.ag,ne=e.S,oe=e.ah,ie=e.O,re=e.ai,le=e.J,ce=e.aj,se=e.ak,de=e.al,ue=e.am,ve=e.an,me=e.ao,pe=e.ap,fe=e.aq,ge=e.ar,be=e.as,he=e.at,xe=e.au,ke=e.av,ye=e.aw,we=e.ax,_e=e.ay,Ce=e.az,je=e.aA},e=>{Ee=e.a,ze=e.b},e=>{Le=e.P,Me=e.M,Ie=e._,Se=e.a},e=>{Pe=e.M},e=>{Be=e.S},e=>{Re=e.u},e=>{Te=e.N},e=>{Ue=e.u},e=>{$e=e.u},null],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.carousel-container[data-v-4a5806b3]{margin:2rem 0;padding:0}.carousel-wrapper[data-v-4a5806b3]{position:relative;overflow:hidden}.carousel[data-v-4a5806b3]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:8px 0;user-select:none}.carousel[data-v-4a5806b3]::-webkit-scrollbar{width:5px;height:5px}.carousel[data-v-4a5806b3]::-webkit-scrollbar-track{background:transparent;border-radius:10px}.carousel[data-v-4a5806b3]::-webkit-scrollbar-thumb{background:#494949;border-radius:10px;border:0}.carousel[data-v-4a5806b3]::-webkit-scrollbar-thumb:hover{background:#555}.scroll-button[data-v-4a5806b3]{position:absolute;top:0;bottom:0;width:50px;border:none;background:rgba(0,0,0,.5);color:#fff;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;transition:opacity .3s;opacity:0;pointer-events:none}.carousel-wrapper:hover .scroll-button[data-v-4a5806b3]{opacity:1;pointer-events:auto}.scroll-button[data-v-4a5806b3]:hover{background:rgba(0,0,0,.7)}.scroll-button.left[data-v-4a5806b3]{left:0}.scroll-button.right[data-v-4a5806b3]{right:0}.carousel-item[data-v-4a5806b3]{flex:0 0 auto;scroll-snap-align:start;width:260px;background:#161616;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.2);transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;overflow:hidden}.carousel-item[data-v-4a5806b3]:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,.3),0 0 20px var(--accent-semi-transparent)}.carousel-item img[data-v-4a5806b3]{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;border-top-left-radius:12px;border-top-right-radius:12px}.video-name[data-v-4a5806b3]{padding:12px;background:#202020;color:#fff;font-size:14px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.video-player[data-v-4a5806b3]{max-width:1200px;width:100%;aspect-ratio:16/9;margin:20px auto 0;box-shadow:0 4px 12px rgba(0,0,0,.3);border-radius:8px;overflow:hidden}.video-player iframe[data-v-4a5806b3]{width:100%;height:100%;border:none}.emoji-picker[data-v-c92f1773]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#2a2a2a;border:1px solid #444;border-radius:.5rem;padding:.75rem;z-index:99999;width:280px;box-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:.5rem}.close-btn[data-v-c92f1773]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:.875rem;transition:color .2s;z-index:10000}.close-btn[data-v-c92f1773]:hover{color:#fff}.mobile-only[data-v-c92f1773]{display:none}@media(max-width:768px){.mobile-only[data-v-c92f1773]{display:block}.emoji-picker[data-v-c92f1773]{width:260px;padding-top:2rem}}.emoji-categories[data-v-c92f1773]{display:flex;gap:.25rem;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #444}.category-btn[data-v-c92f1773]{background:none;border:none;font-size:1.2rem;padding:.5rem;border-radius:.375rem;cursor:pointer;transition:background-color .2s}.category-btn[data-v-c92f1773]:hover{background:rgba(255,255,255,.1)}.category-btn.active[data-v-c92f1773]{background:rgba(76,175,80,.2)}.emoji-grid[data-v-c92f1773]{display:grid;grid-template-columns:repeat(8,1fr);gap:.25rem;max-height:200px;overflow-y:auto}.emoji-btn[data-v-c92f1773]{background:none;border:none;font-size:1.25rem;padding:.5rem;border-radius:.25rem;cursor:pointer;transition:background-color .2s;display:flex;align-items:center;justify-content:center}.emoji-btn[data-v-c92f1773]:hover{background:rgba(255,255,255,.1)}.emoji-grid[data-v-c92f1773]::-webkit-scrollbar{width:4px}.emoji-grid[data-v-c92f1773]::-webkit-scrollbar-track{background:#333;border-radius:2px}.emoji-grid[data-v-c92f1773]::-webkit-scrollbar-thumb{background:#666;border-radius:2px}.emoji-grid[data-v-c92f1773]::-webkit-scrollbar-thumb:hover{background:#777}.image-picker[data-v-01784edf]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#2a2a2a;border:1px solid #444;border-radius:.5rem;padding:.75rem;z-index:99999;width:320px;box-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:.5rem}.close-btn[data-v-01784edf]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:.875rem;transition:color .2s;z-index:10000}.close-btn[data-v-01784edf]:hover{color:#fff}.mobile-only[data-v-01784edf]{display:none}@media(max-width:768px){.mobile-only[data-v-01784edf]{display:block}.image-picker[data-v-01784edf]{width:300px;padding-top:2rem}}.auth-required[data-v-01784edf]{min-height:240px;display:flex;align-items:center;justify-content:center}.auth-message[data-v-01784edf]{text-align:center;color:#999;padding:2rem 1rem}.auth-message i[data-v-01784edf]{font-size:2rem;color:#666;margin-bottom:1rem}.auth-message h3[data-v-01784edf]{color:#fff;margin:0 0 .5rem;font-size:1.1rem}.auth-message p[data-v-01784edf]{margin:0 0 1.5rem;font-size:.9rem;line-height:1.4}.login-button[data-v-01784edf]{background:var(--accent-color);color:#fff;border:none;border-radius:.375rem;padding:.5rem 1.5rem;font-size:.9rem;cursor:pointer;transition:background-color .2s}.login-button[data-v-01784edf]:hover{background:var(--accent-hover)}.image-picker-header[data-v-01784edf]{margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #444}.image-search-input[data-v-01784edf]{width:100%;padding:.5rem;background:#1a1a1a;border:1px solid #444;border-radius:.375rem;color:#fff;font-size:.9rem;box-sizing:border-box}.image-search-input[data-v-01784edf]:focus{outline:none;border-color:var(--accent-color)}.image-search-input[data-v-01784edf]::placeholder{color:#999}.image-content[data-v-01784edf]{min-height:240px;display:flex;flex-direction:column}.loading-spinner[data-v-01784edf]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:240px;color:#999}.spinner[data-v-01784edf]{width:32px;height:32px;border:3px solid #444;border-top:3px solid var(--accent-color);border-radius:50%;animation:spin-01784edf 1s linear infinite;margin-bottom:1rem}@keyframes spin-01784edf{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner p[data-v-01784edf]{font-size:.9rem;margin:0}.image-grid[data-v-01784edf]{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem;max-height:240px;overflow-y:auto}.image-item[data-v-01784edf]{min-height:60px;max-height:80px;cursor:pointer;border-radius:.375rem;overflow:hidden;transition:all .2s ease;border:2px solid transparent;display:flex;align-items:center;justify-content:center;background:#1a1a1a}.image-item[data-v-01784edf]:hover{transform:scale(1.05);border-color:var(--accent-semi-transparent);background:#333}.image-item img[data-v-01784edf]{max-width:100%;max-height:100%;object-fit:contain;display:block}.no-images[data-v-01784edf],.no-search[data-v-01784edf]{display:flex;align-items:center;justify-content:center;min-height:240px;text-align:center;color:#999;font-size:.9rem}.no-search[data-v-01784edf]{color:#666}.image-grid[data-v-01784edf]::-webkit-scrollbar{width:4px}.image-grid[data-v-01784edf]::-webkit-scrollbar-track{background:#333;border-radius:2px}.image-grid[data-v-01784edf]::-webkit-scrollbar-thumb{background:#666;border-radius:2px}.image-grid[data-v-01784edf]::-webkit-scrollbar-thumb:hover{background:#777}.link-modal-overlay[data-v-a794d83f]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.link-modal[data-v-a794d83f]{background:#2a2a2a;border-radius:.5rem;min-width:400px;max-width:500px;width:100%;box-shadow:0 10px 25px rgba(0,0,0,.5);border:1px solid #444}.link-modal-header[data-v-a794d83f]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #444}.link-modal-header h3[data-v-a794d83f]{margin:0;color:#fff;font-size:1.1rem}.close-button[data-v-a794d83f]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:color .2s}.close-button[data-v-a794d83f]:hover{color:#fff}.link-modal-content[data-v-a794d83f]{padding:1.5rem}.form-group[data-v-a794d83f]{margin-bottom:1rem}.form-group[data-v-a794d83f]:last-child{margin-bottom:0}.form-group label[data-v-a794d83f]{display:block;margin-bottom:.5rem;color:#fff;font-size:.9rem;font-weight:500}.link-input[data-v-a794d83f]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.375rem;background:#333;color:#fff;font-size:.9rem;box-sizing:border-box;transition:border-color .2s}.link-input[data-v-a794d83f]:focus{outline:none;border-color:var(--accent-color)}.link-input[data-v-a794d83f]::placeholder{color:#999}.link-modal-footer[data-v-a794d83f]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid #444}.cancel-button[data-v-a794d83f]{padding:.5rem 1rem;background:none;border:1px solid #666;border-radius:.375rem;color:#999;cursor:pointer;font-size:.9rem;transition:all .2s}.cancel-button[data-v-a794d83f]:hover{background:#333;color:#fff;border-color:#777}.submit-button[data-v-a794d83f]{padding:.5rem 1rem;background:var(--accent-color);color:#fff;border:none;border-radius:.375rem;cursor:pointer;font-size:.9rem;transition:background-color .2s}.submit-button[data-v-a794d83f]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-a794d83f]:disabled{background:#666;cursor:not-allowed;opacity:.6}@media(max-width:480px){.link-modal[data-v-a794d83f]{min-width:auto;margin:1rem}.link-modal-header[data-v-a794d83f],.link-modal-content[data-v-a794d83f],.link-modal-footer[data-v-a794d83f]{padding:1rem}}.comment-item[data-v-45c64539]{background:#2a2a2a;border-radius:.5rem;padding:1rem;margin-bottom:1rem;transition:all .2s ease-in-out;max-width:100%;overflow:visible;word-wrap:break-word}.comment-item[data-v-45c64539]:hover{box-shadow:0 3px 6px rgba(0,0,0,.15)}.comment-header[data-v-45c64539]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.5rem}.user-info[data-v-45c64539]{display:flex;align-items:center;gap:.5rem}.user-avatar-link[data-v-45c64539]{text-decoration:none;color:inherit;display:block}.user-avatar-link:hover .user-avatar[data-v-45c64539]{transform:scale(1.05);box-shadow:0 0 10px rgba(74,144,226,.3)}.user-avatar[data-v-45c64539]{width:2rem;height:2rem;border-radius:50%;overflow:hidden;background-color:var(--accent-color);display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.user-avatar img[data-v-45c64539]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-45c64539]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:.75rem;color:#fff;background-color:var(--accent-color);font-weight:600}.username[data-v-45c64539]{font-weight:600;color:#fff;font-size:.9rem}.date[data-v-45c64539]{font-size:.8rem;color:#999;margin-left:.375rem;display:inline-flex;align-items:center;gap:.25rem}.edit-icon[data-v-45c64539]{font-size:.7rem;color:#666;vertical-align:baseline;position:relative;top:.02em}.edited-indicator[data-v-45c64539]{font-style:italic;color:#777}.comment-content[data-v-45c64539]{margin-bottom:.75rem;width:100%;box-sizing:border-box;overflow:visible;word-wrap:break-word}.comment-text[data-v-45c64539]{color:#fff;line-height:1.5;font-size:.9rem;margin:0;word-wrap:break-word;word-break:break-word;overflow-wrap:anywhere;width:100%;max-width:100%;white-space:pre-wrap;padding:.2em 0}.comment-text[data-v-45c64539] img.inline-emoji{display:inline-block;vertical-align:middle;height:2em;width:auto;margin:0 .3em;max-height:32px}.edit-form[data-v-45c64539]{position:relative;margin-bottom:.5rem;width:100%;box-sizing:border-box;overflow:visible;z-index:5}.edit-textarea-container[data-v-45c64539]{position:relative;width:100%;overflow:visible}.edit-textarea[data-v-45c64539]{width:100%;padding:.5rem;border:1px solid #444;border-radius:.375rem;background:#333;color:#fff;resize:none;font-size:.9rem;box-sizing:border-box;margin:0;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease}.edit-textarea[data-v-45c64539]:focus{outline:none;border-color:var(--accent-color)}.edit-footer[data-v-45c64539]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:10}.edit-actions[data-v-45c64539]{display:flex;gap:.5rem;position:relative;overflow:visible}.emoji-button-inline[data-v-45c64539]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s;display:flex;align-items:center;justify-content:center}.emoji-button-inline[data-v-45c64539]:hover{color:#fff}.emoji-button-inline.active[data-v-45c64539]{color:var(--accent-color)}.character-counter-container[data-v-45c64539]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:15;overflow:visible}.character-counter-inline[data-v-45c64539]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-45c64539]{color:gold}.character-counter-inline.at-limit[data-v-45c64539]{color:var(--error-color)}.cancel-button[data-v-45c64539]{padding:.25rem .5rem;color:#999;background:none;border:none;cursor:pointer;font-size:.8rem}.cancel-button[data-v-45c64539]:hover{color:#fff}.save-button[data-v-45c64539]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem}.save-button[data-v-45c64539]:hover:not(:disabled){background:var(--accent-hover)}.save-button[data-v-45c64539]:disabled{background:#666;cursor:not-allowed}.comment-footer[data-v-45c64539]{display:flex;align-items:center;justify-content:flex-start}.comment-actions[data-v-45c64539]{display:flex;align-items:center;gap:.75rem}.rating-buttons[data-v-45c64539]{display:flex;align-items:center;gap:.5rem}.rating-button[data-v-45c64539]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;transition:color .2s;font-size:.8rem}.rating-button[data-v-45c64539]:hover{color:#fff}.rating-button.rated-up[data-v-45c64539]{color:var(--accent-color)}.rating-button.rated-down[data-v-45c64539]{color:var(--error-color)}.rating-button.disabled[data-v-45c64539]{opacity:.5;cursor:not-allowed}.rating-button[data-v-45c64539]:disabled{pointer-events:none}.rating-count[data-v-45c64539]{color:#999;font-size:.8rem;font-weight:500;min-width:1.5rem;text-align:center;display:flex;align-items:center;justify-content:center;line-height:1;transition:color .2s ease}.rating-count.rating-positive[data-v-45c64539]{color:var(--accent-color)}.rating-count.rating-negative[data-v-45c64539]{color:var(--error-color)}.action-buttons[data-v-45c64539]{display:flex;align-items:center;gap:.5rem}.action-button[data-v-45c64539]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;transition:color .2s;font-size:.8rem;display:flex;align-items:center;justify-content:center}.action-button[data-v-45c64539]:hover{color:#fff}.reply-button[data-v-45c64539]{background:none;border:none;color:#999}.reply-button[data-v-45c64539]:hover,.edit-button[data-v-45c64539]:hover{color:var(--accent-color)}.delete-button[data-v-45c64539]:hover{color:var(--error-color)}.username-link[data-v-45c64539]{text-decoration:none;color:inherit;transition:color .2s}.username-link[data-v-45c64539]:hover{color:#4a90e2}.hidden-comment-warning[data-v-45c64539]{background:linear-gradient(135deg,#1a1a1b,#2d2d2e);border:1px solid #343536;border-radius:6px;margin-bottom:.375rem;overflow:hidden;position:relative}.warning-text[data-v-45c64539]{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;margin:0;color:#d7dadc;cursor:pointer;font-size:.75rem;font-weight:500;transition:all .2s ease;border:none;background:none;width:100%;text-align:center;position:relative}.warning-text[data-v-45c64539]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 49%,rgba(255,255,255,.03) 50%,transparent 51%);opacity:0;transition:opacity .2s ease}.warning-text i[data-v-45c64539]{font-size:12px;color:#878a8c;transition:all .2s ease}.warning-text[data-v-45c64539]:hover{background:linear-gradient(135deg,#272729,#343536);color:#fff;transform:translateY(-.5px);box-shadow:0 1px 4px rgba(0,0,0,.3)}.warning-text[data-v-45c64539]:hover:before{opacity:1}.warning-text:hover i[data-v-45c64539]{color:#ff6b35;transform:scale(1.05)}.warning-text[data-v-45c64539]:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.4)}.deleted-comment[data-v-45c64539]{background:#1a1a1b;border:1px solid #343536;border-radius:6px;margin-bottom:.375rem}.deleted-message[data-v-45c64539]{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;margin:0;color:#878a8c;font-size:.75rem;font-style:italic;text-align:center}.deleted-message i[data-v-45c64539]{font-size:12px;color:#878a8c}.comment-text-container[data-v-45c64539]{position:relative;max-width:100%;overflow:hidden;word-wrap:break-word}.expand-button[data-v-45c64539]{background:none;border:none;color:var(--accent-color);cursor:pointer;padding:.25rem 0;font:inherit;outline:inherit;font-size:.875rem;margin-top:.5rem;transition:color .2s ease}.expand-button[data-v-45c64539]:hover{color:var(--accent-hover);text-decoration:underline}@keyframes spoiler-shimmer-45c64539{0%{background-position:-200% 0}to{background-position:200% 0}}.seven-tv-icon[data-v-45c64539]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}[data-v-45c64539] .spoiler-text{background-color:#333;color:transparent;cursor:pointer;padding:.2em .6em;margin:.2em 0;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;min-width:60px;min-height:1.5em;text-align:center;overflow:hidden;line-height:1.5;font-size:.9rem;vertical-align:middle}[data-v-45c64539] .spoiler-text:not(.revealed){background-image:linear-gradient(110deg,transparent 25%,rgba(255,255,255,.05) 40%,rgba(255,255,255,.05) 60%,transparent 75%);background-size:200% 100%;background-repeat:no-repeat;animation:spoiler-shimmer-45c64539 3s linear infinite;color:transparent}[data-v-45c64539] .spoiler-text:not(.revealed) .spoiler-hidden-content{display:none}[data-v-45c64539] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-45c64539] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;min-height:auto;text-align:left;padding:0;margin:0;animation:none;display:inline;line-height:inherit;font-size:inherit;vertical-align:baseline}[data-v-45c64539] .spoiler-text.revealed:before{display:none}.spoiler-button[data-v-45c64539]{color:#999}.spoiler-button[data-v-45c64539]:hover{color:var(--accent-hover)}.spoiler-button[data-v-45c64539]:disabled{opacity:.5;cursor:not-allowed}.user-details[data-v-45c64539]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.user-rating[data-v-45c64539]{display:flex;align-items:center;gap:.25rem;color:gold;font-size:.8rem;font-weight:500}.user-rating i[data-v-45c64539]{font-size:.75rem}.link-button[data-v-45c64539]{color:#999}.link-button[data-v-45c64539]:hover{color:var(--accent-hover)}.link-button[data-v-45c64539]:disabled{opacity:.5;cursor:not-allowed}[data-v-45c64539] .comment-link{color:#4a90e2;text-decoration:none;transition:color .2s ease;border-bottom:1px solid transparent}[data-v-45c64539] .comment-link:hover{color:#66a3e0;border-bottom-color:#66a3e0;text-decoration:none}[data-v-45c64539] .comment-link:visited{color:#8a7ca8}[data-v-45c64539] .comment-link:visited:hover{color:#a393c2;border-bottom-color:#a393c2}@media(max-width:768px){.edit-footer[data-v-45c64539]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-45c64539]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.edit-actions[data-v-45c64539]{justify-content:flex-start}.character-counter-inline[data-v-45c64539]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-45c64539]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center}}@media(max-width:480px){.character-counter-container[data-v-45c64539]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-45c64539]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-45c64539]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.save-button[data-v-45c64539]{min-height:44px;padding:.5rem 1rem;width:auto;min-width:90px}.cancel-button[data-v-45c64539]{min-height:44px;padding:.5rem 1rem;min-width:70px}.edit-form[data-v-45c64539]{margin-bottom:1rem}.edit-textarea[data-v-45c64539]{font-size:16px}}@media(max-width:360px){.emoji-button-inline[data-v-45c64539]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-45c64539]{font-size:.65rem}}.upvote-button.voted[data-v-45c64539]{color:var(--accent-color);background:var(--accent-transparent)}.downvote-button.voted[data-v-45c64539]{color:var(--error-color);background:rgba(231,112,85,.1)}.comment-thread[data-v-597bf6f3]{display:flex;flex-direction:column;gap:1rem;width:100%;overflow:visible}.replies-container[data-v-597bf6f3]{margin-left:1rem;margin-right:1rem;display:flex;flex-direction:column;gap:1rem;width:calc(100% - 3rem);position:relative;border-left:3px solid var(--accent-transparent);padding-left:1rem;margin-top:.5rem;overflow:visible}.reply-form[data-v-597bf6f3]{margin-left:1rem;margin-right:1rem;margin-top:1rem;padding:1rem;background:#2a2a2a;border-radius:.5rem;border-left:3px solid var(--accent-semi-transparent);width:calc(100% - 3rem);overflow:visible;position:relative;z-index:5}.reply-footer[data-v-597bf6f3]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:10}.reply-actions[data-v-597bf6f3]{display:flex;gap:.5rem;position:relative;overflow:visible}.character-counter-container[data-v-597bf6f3]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:15;overflow:visible}.character-counter-inline[data-v-597bf6f3]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-597bf6f3]{color:gold}.character-counter-inline.at-limit[data-v-597bf6f3]{color:red}.cancel-reply[data-v-597bf6f3]{padding:.25rem .5rem;color:#999;background:none;border:none;cursor:pointer;font-size:.8rem}.cancel-reply[data-v-597bf6f3]:hover{color:#fff}.submit-button[data-v-597bf6f3]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem}.submit-button[data-v-597bf6f3]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-597bf6f3]:disabled{background:#666;cursor:not-allowed}.textarea-container[data-v-597bf6f3]{position:relative;overflow:visible}.comment-textarea[data-v-597bf6f3]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.5rem;background:#2a2a2a;color:#fff;resize:none;box-sizing:border-box;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease;font-size:.9rem}.comment-textarea[data-v-597bf6f3]:focus{outline:none;border-color:var(--accent-color)}.comment-textarea[data-v-597bf6f3]:disabled{background:#1a1a1a;color:#666;cursor:not-allowed;border-color:#333}.emoji-button-inline[data-v-597bf6f3]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s}.emoji-button-inline[data-v-597bf6f3]:hover{color:#fff}.emoji-button-inline.active[data-v-597bf6f3]{color:var(--accent-color)}.emoji-button-inline[data-v-597bf6f3]:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.collapse-toggle[data-v-597bf6f3]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid var(--accent-transparent);border-radius:.5rem;padding:.5rem .75rem;margin:.5rem 0;color:#999;cursor:pointer;transition:all .2s ease;font-size:.85rem;min-width:fit-content;position:relative;left:0;z-index:2}.collapse-toggle[data-v-597bf6f3]:hover{background:var(--accent-transparent);border-color:var(--accent-semi-transparent);color:#fff;transform:translateY(-1px)}.collapse-icon[data-v-597bf6f3]{display:flex;align-items:center;justify-content:center;transition:transform .3s ease;color:var(--accent-color)}.collapse-icon.expanded[data-v-597bf6f3]{transform:rotate(180deg)}.replies-count[data-v-597bf6f3]{font-size:.85rem;font-weight:500;color:inherit;user-select:none}.replies-content[data-v-597bf6f3]{display:flex;flex-direction:column;gap:1rem;padding-top:1rem;margin-left:0;width:100%;overflow:visible}.vertical-line-clickable[data-v-597bf6f3]{position:absolute;left:-8px;top:0;width:16px;height:100%;cursor:pointer;z-index:1;transition:all .2s ease}.vertical-line-clickable[data-v-597bf6f3]:hover{background:var(--accent-transparent)}.vertical-line-visual[data-v-597bf6f3]{position:absolute;left:50%;top:0;width:3px;height:100%;background:var(--accent-transparent);transform:translate(-50%);transition:all .2s ease}.vertical-line-clickable:hover .vertical-line-visual[data-v-597bf6f3]{background:var(--accent-semi-transparent);width:4px}.vertical-line-visual.collapsed[data-v-597bf6f3]{background:var(--accent-semi-transparent)}.comment-content[data-v-597bf6f3]{white-space:pre-wrap;word-break:break-word;line-height:1.5;color:#fff}.comment-content[data-v-597bf6f3] img.inline-emoji{display:inline-block;vertical-align:middle;height:1.2em;width:auto;margin:0 .1em}.seven-tv-icon[data-v-597bf6f3]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}[data-v-597bf6f3] .spoiler-text{background:rgba(64,64,64,.8);color:transparent;cursor:pointer;padding:.2em .6em;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-block;min-width:60px;text-align:center}[data-v-597bf6f3] .spoiler-text:hover{background:rgba(64,64,64,.9)}[data-v-597bf6f3] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-597bf6f3] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;text-align:left;padding:0}[data-v-597bf6f3] .spoiler-text.revealed:before{display:none}.spoiler-button[data-v-597bf6f3]{color:#999}.spoiler-button[data-v-597bf6f3]:hover{color:var(--accent-hover)}.spoiler-button[data-v-597bf6f3]:disabled{opacity:.5;cursor:not-allowed}.link-button[data-v-597bf6f3]{color:#999}.link-button[data-v-597bf6f3]:hover{color:var(--accent-hover)}.link-button[data-v-597bf6f3]:disabled{opacity:.5;cursor:not-allowed}@media(max-width:768px){.reply-footer[data-v-597bf6f3]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-597bf6f3]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.reply-actions[data-v-597bf6f3]{justify-content:flex-start}.character-counter-inline[data-v-597bf6f3]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-597bf6f3]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center}}@media(max-width:480px){.character-counter-container[data-v-597bf6f3]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-597bf6f3]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-597bf6f3]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.submit-button[data-v-597bf6f3]{min-height:44px;padding:.5rem 1rem;width:auto;min-width:80px}.cancel-reply[data-v-597bf6f3]{min-height:44px;padding:.5rem 1rem;min-width:60px}.reply-form[data-v-597bf6f3]{margin-bottom:1rem}.comment-textarea[data-v-597bf6f3]{font-size:16px}}@media(max-width:360px){.emoji-button-inline[data-v-597bf6f3]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-597bf6f3]{font-size:.65rem}}.comments-section[data-v-d87a073c]{margin:0;padding:20px 0;overflow:visible}.comments-title[data-v-d87a073c]{font-size:1.4rem;font-weight:700;margin-bottom:1rem;color:#fff}.comment-form[data-v-d87a073c]{margin-bottom:1.25rem;width:100%;overflow:visible;position:relative;z-index:1}.textarea-container[data-v-d87a073c]{position:relative;width:100%;overflow:visible}.comment-textarea[data-v-d87a073c]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.5rem;background:#2a2a2a;color:#fff;resize:none;box-sizing:border-box;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease;font-size:.9rem}.comment-textarea[data-v-d87a073c]:focus{outline:none;border-color:var(--accent-color)}.comment-textarea[data-v-d87a073c]:disabled{background:#1a1a1a;color:#666;cursor:not-allowed;border-color:#333}.submit-button[data-v-d87a073c]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;transition:background-color .2s;font-size:.8rem}.submit-button[data-v-d87a073c]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-d87a073c]:disabled{background:#666;cursor:not-allowed}.comments-list[data-v-d87a073c],.comment-group[data-v-d87a073c]{display:flex;flex-direction:column;gap:1rem;width:100%;overflow:visible}.replies-container[data-v-d87a073c]{margin-left:2rem;margin-right:1rem;padding-left:1rem;border-left:2px solid var(--accent-transparent);display:flex;flex-direction:column;gap:1rem;width:calc(100% - 3rem);overflow:visible}.reply-form[data-v-d87a073c]{margin-left:2rem;margin-right:1rem;padding:1rem;background:#2a2a2a;border-radius:.5rem;border-left:2px solid var(--accent-semi-transparent);width:calc(100% - 3rem);overflow:visible}.reply-form.nested[data-v-d87a073c]{margin-left:0;background:#333;border-left:none;width:100%;overflow:visible}.reply-header[data-v-d87a073c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.85rem}.cancel-reply[data-v-d87a073c]{color:#999;background:none;border:none;cursor:pointer;padding:.25rem .5rem;font-size:.85rem}.cancel-reply[data-v-d87a073c]:hover{color:#fff}.auth-link[data-v-d87a073c]{color:var(--accent-color);cursor:pointer;text-decoration:underline;transition:color .2s ease}.auth-link[data-v-d87a073c]:hover{color:var(--accent-hover)}.spoiler-warning[data-v-d87a073c]{background:linear-gradient(135deg,#1a1a1b,#2d2d2e);border:1px solid #343536;border-radius:8px;padding:1rem 1.5rem;margin-bottom:1rem;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.spoiler-warning[data-v-d87a073c]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 49%,rgba(255,255,255,.03) 50%,transparent 51%);opacity:0;transition:opacity .3s ease}.spoiler-warning[data-v-d87a073c]:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,0,0,.2);border-color:var(--accent-color)}.spoiler-warning[data-v-d87a073c]:hover:before{opacity:1}.spoiler-content[data-v-d87a073c]{display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;z-index:1;gap:.5rem}.spoiler-content i[data-v-d87a073c]{font-size:1.5rem;color:var(--accent-color);margin-bottom:.25rem;transition:all .3s ease}.spoiler-warning:hover .spoiler-content i[data-v-d87a073c]{transform:scale(1.05);color:var(--accent-hover)}.spoiler-content h3[data-v-d87a073c]{font-size:1rem;font-weight:600;color:#fff;margin:0}.spoiler-content p[data-v-d87a073c]{font-size:.875rem;color:#999;margin:0;line-height:1.4}.comments-count[data-v-d87a073c]{background:var(--accent-transparent);color:var(--accent-color);padding:.25rem .75rem;border-radius:15px;font-size:.75rem;font-weight:500;border:1px solid var(--accent-semi-transparent);transition:all .3s ease}.comments-count.no-comments[data-v-d87a073c]{background:rgba(128,128,128,.2);color:gray;border:1px solid rgba(128,128,128,.3)}.spoiler-warning:hover .comments-count.no-comments[data-v-d87a073c]{background:rgba(128,128,128,.3);border-color:rgba(128,128,128,.5);color:#999}.comments-container[data-v-d87a073c]{margin-bottom:1rem;overflow:visible}.comments-header[data-v-d87a073c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;gap:1rem}.comments-header h3[data-v-d87a073c]{margin:0;color:#fff;font-size:1.1rem}.comments-controls[data-v-d87a073c]{display:flex;align-items:center;gap:.5rem}.sort-button[data-v-d87a073c]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.5rem 1rem;cursor:pointer;color:#999;font-size:.85rem;transition:all .2s ease;position:relative}.sort-button[data-v-d87a073c]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);color:var(--accent-color);transform:translateY(-1px)}.sort-button i[data-v-d87a073c]{opacity:.8;transition:opacity .2s ease}.sort-button:hover i[data-v-d87a073c]{opacity:1}.sort-button.active[data-v-d87a073c]{background:var(--accent-color);border-color:var(--accent-color);color:#fff}.sort-button.active[data-v-d87a073c]:hover{background:var(--accent-hover);border-color:var(--accent-hover);color:#fff}.hide-comments-btn[data-v-d87a073c]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.5rem 1rem;cursor:pointer;color:#999;font-size:.85rem;transition:all .2s ease}.hide-comments-btn[data-v-d87a073c]:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);color:#fff;transform:translateY(-1px)}.character-counter-container[data-v-d87a073c]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:10;overflow:visible}.character-counter-inline[data-v-d87a073c]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-d87a073c]{color:gold}.character-counter-inline.at-limit[data-v-d87a073c]{color:red}.comment-footer[data-v-d87a073c]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:5}.comment-actions[data-v-d87a073c]{display:flex;gap:.5rem;position:relative;overflow:visible}.emoji-button-inline[data-v-d87a073c]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s ease;margin-left:.25rem}.emoji-button-inline[data-v-d87a073c]:hover{color:#fff}.emoji-button-inline.active[data-v-d87a073c]{color:var(--accent-color)}.emoji-button-inline[data-v-d87a073c]:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.comment-form-header[data-v-d87a073c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid #444}.comment-form-header h3[data-v-d87a073c]{margin:0;color:#fff;font-size:1.1rem}.seven-tv-icon[data-v-d87a073c]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}.inline-emoji[data-v-d87a073c]{display:inline-block;vertical-align:middle;height:1.2em;width:auto;margin:0 .1em}[data-v-d87a073c] .spoiler-text{background:rgba(64,64,64,.8);color:transparent;cursor:pointer;padding:.2em .6em;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-block;min-width:60px;text-align:center}[data-v-d87a073c] .spoiler-text:hover{background:rgba(64,64,64,.9)}[data-v-d87a073c] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-d87a073c] .spoiler-text a{color:transparent!important;text-decoration:none!important;border-bottom:none!important;pointer-events:none!important}[data-v-d87a073c] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;text-align:left;padding:0}[data-v-d87a073c] .spoiler-text.revealed:before{display:none}[data-v-d87a073c] .spoiler-text.revealed a{color:#4a90e2!important;text-decoration:none!important;border-bottom:1px solid transparent!important;transition:color .2s ease,border-bottom-color .2s ease!important;pointer-events:auto!important}[data-v-d87a073c] .spoiler-text.revealed a:hover{color:#66a3e0!important;border-bottom-color:#66a3e0!important}[data-v-d87a073c] .spoiler-text.revealed a:visited{color:#8a7ca8!important}[data-v-d87a073c] .spoiler-text.revealed a:visited:hover{color:#a393c2!important;border-bottom-color:#a393c2!important}.spoiler-button[data-v-d87a073c]{color:#999}.spoiler-button[data-v-d87a073c]:hover{color:var(--accent-hover)}.spoiler-button[data-v-d87a073c]:disabled{opacity:.5;cursor:not-allowed}.link-button[data-v-d87a073c]{color:#999}.link-button[data-v-d87a073c]:hover{color:var(--accent-hover)}.link-button[data-v-d87a073c]:disabled{opacity:.5;cursor:not-allowed}.show-more-comments[data-v-d87a073c]{text-align:center;margin-top:1rem}.show-more-btn[data-v-d87a073c]{padding:.5rem 1rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;transition:all .3s ease;font-size:.8rem;border:1px solid var(--accent-semi-transparent)}.show-more-btn[data-v-d87a073c]:hover:not(:disabled){background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 2px 8px var(--accent-transparent)}.show-more-btn[data-v-d87a073c]:disabled{background:#666;cursor:not-allowed;border-color:rgba(128,128,128,.3)}@media(max-width:768px){.comments-header[data-v-d87a073c]{flex-direction:column;align-items:stretch;gap:.5rem}.comments-controls[data-v-d87a073c]{justify-content:center;order:2}.sort-button[data-v-d87a073c]{flex:1;justify-content:center;min-height:44px}.hide-comments-btn[data-v-d87a073c]{order:1;align-self:flex-end;min-height:44px}.comment-footer[data-v-d87a073c]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-d87a073c]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.comment-actions[data-v-d87a073c]{justify-content:flex-start}.character-counter-inline[data-v-d87a073c]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-d87a073c]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center;margin-left:0}}@media(max-width:480px){.character-counter-container[data-v-d87a073c]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-d87a073c]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-d87a073c]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.submit-button[data-v-d87a073c]{min-height:44px;padding:.5rem 1rem;width:100%}.comment-form[data-v-d87a073c]{margin-bottom:1rem}.comment-textarea[data-v-d87a073c]{font-size:16px}}@media(max-width:360px){.sort-button[data-v-d87a073c],.hide-comments-btn[data-v-d87a073c]{font-size:.8rem;padding:.4rem .8rem}.emoji-button-inline[data-v-d87a073c]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-d87a073c]{font-size:.65rem}}.comment-preview[data-v-d87a073c]{background:rgba(255,255,255,.05);border-radius:6px;padding:8px;margin-bottom:6px;border-left:2px solid var(--accent-color);cursor:pointer;transition:all .2s ease}.reply-btn[data-v-d87a073c]{background:var(--accent-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.content[data-v-ecca24ce]{min-height:100vh}.content-card[data-v-ecca24ce]{overflow:hidden;padding:20px;color:#e0e0e0}.content-header[data-v-ecca24ce]{height:80px;width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-wrap:wrap;height:auto;min-height:80px}.content-logo[data-v-ecca24ce]{max-height:80px;height:80px;width:auto;object-fit:contain;max-width:100%;transition:all .3s ease;cursor:pointer;padding:10px 0 30px}.content-logo[data-v-ecca24ce]:hover{filter:drop-shadow(0 0 10px var(--accent-color))}.content-title-container[data-v-ecca24ce]{display:flex;align-items:center;gap:20px;width:100%;justify-content:center}.movie-poster-thumbnail[data-v-ecca24ce]{width:60px;height:90px;flex-shrink:0;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:transform .2s ease}.movie-poster-thumbnail[data-v-ecca24ce]:hover{transform:scale(1.05)}.movie-poster-thumbnail img[data-v-ecca24ce]{width:100%;height:100%;object-fit:cover}.content-title[data-v-ecca24ce]{font-size:55px;margin:0;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;text-align:center;white-space:normal;word-break:break-word;overflow-wrap:anywhere;transition:all .3s ease;cursor:pointer}.content-title[data-v-ecca24ce]:hover{text-shadow:0 0 20px var(--accent-color);color:var(--accent-color)}.content-subtitle[data-v-ecca24ce]{font-size:20px;color:#bbb}.ratings-links[data-v-ecca24ce]{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0}.action-buttons-group[data-v-ecca24ce]{display:inline-flex;align-items:center;gap:15px}.action-buttons-group .mobile-text[data-v-ecca24ce]{display:none}.rating-link[data-v-ecca24ce]{display:inline-flex;align-items:center;color:#fff;text-decoration:none;font-weight:700;background:rgba(0,0,0,.7);padding:5px 10px;border-radius:5px;gap:5px;transition:all .2s ease;vertical-align:middle}.rating-link[data-v-ecca24ce]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.rating-logo[data-v-ecca24ce]{width:20px;height:20px;margin-right:5px}.external-link-icon[data-v-ecca24ce]{width:20px;height:auto;margin-left:5px}.additional-info[data-v-ecca24ce]{border-radius:8px;margin-bottom:20px;font-size:16px}.additional-info-title[data-v-ecca24ce]{margin:15px 0;text-align:left;color:#fff}.info-content[data-v-ecca24ce]{display:flex;gap:15px;align-items:flex-start}.movie-poster-container[data-v-ecca24ce]{flex-shrink:0;width:200px;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:transform .2s ease}.movie-poster-container[data-v-ecca24ce]:hover{transform:scale(1.02);box-shadow:0 6px 20px var(--accent-semi-transparent)}.movie-poster[data-v-ecca24ce]{width:100%;height:auto;display:block}.details-container[data-v-ecca24ce]{flex:1;min-width:0}.info-list[data-v-ecca24ce]{list-style:none;padding:0;margin:0}.info-list li[data-v-ecca24ce]{margin-bottom:8px}.content-info[data-v-ecca24ce]{font-size:16px;line-height:1.6;color:#ccc;margin-top:20px}.content-description-text[data-v-ecca24ce]{margin:0;white-space:pre-wrap}.error-message[data-v-ecca24ce]{color:var(--accent-color);text-align:center;padding:20px;font-size:1.2rem;border:1px solid var(--accent-color);border-radius:5px;margin:20px auto;max-width:500px;background:var(--accent-transparent)}.related-movies[data-v-ecca24ce]{margin-top:30px;position:relative}.related-movies h2[data-v-ecca24ce]{color:#fff;margin-bottom:15px}.title-copy-tooltip[data-v-ecca24ce]{position:absolute;background-color:#333;color:#fff;padding:5px 10px;border-radius:5px;font-size:14px;white-space:nowrap;pointer-events:none}@media(max-width:600px){.content-card[data-v-ecca24ce]{padding:0 2px}.content-header[data-v-ecca24ce],.content-logo[data-v-ecca24ce],.content-title[data-v-ecca24ce]{display:none}.content-subtitle[data-v-ecca24ce]{font-size:16px}.ratings-links[data-v-ecca24ce]{margin:5px 0;gap:8px;flex-wrap:wrap}.rating-link[data-v-ecca24ce]{padding:3px 6px;font-size:14px}.rating-logo[data-v-ecca24ce]{width:16px;height:16px;margin-right:3px}.external-link-icon[data-v-ecca24ce]{width:16px;margin-left:3px}.action-buttons-group[data-v-ecca24ce]{width:100%;justify-content:center;gap:10px;margin-top:10px}.action-buttons-group .nudity-info-btn[data-v-ecca24ce]{background:rgba(0,0,0,.7);padding:12px 16px;border-radius:8px;min-height:44px;font-size:14px}.action-buttons-group .mobile-text[data-v-ecca24ce]{display:inline}.action-buttons-group .desktop-text[data-v-ecca24ce]{display:none}.action-buttons-group .nudity-info-btn i[data-v-ecca24ce]{font-size:18px}.additional-info-title[data-v-ecca24ce]{font-size:20px}.info-content[data-v-ecca24ce]{flex-direction:column;align-items:center}.content-title-container[data-v-ecca24ce]{flex-direction:column;gap:10px}.movie-poster-thumbnail[data-v-ecca24ce]{width:50px;height:75px}}.controls[data-v-ecca24ce]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:40px;border-radius:10px}.controls button[data-v-ecca24ce]{display:flex;align-items:center;justify-content:center;background-color:#444;color:#fff;border:none;padding:12px;font-size:18px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease,box-shadow .3s ease;z-index:4;width:50px;height:50px}.controls button[data-v-ecca24ce]:hover{background-color:var(--accent-color);transform:translateY(-3px);box-shadow:0 4px 10px var(--accent-semi-transparent)}.controls button[data-v-ecca24ce]:active{transform:translateY(0);box-shadow:none}.controls button.active[data-v-ecca24ce]{background-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.material-icons[data-v-ecca24ce]{font-size:24px}.tooltip-container[data-v-ecca24ce]{position:relative;display:inline-block}.custom-tooltip[data-v-ecca24ce]{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:5px;border-radius:4px;font-size:16px;white-space:nowrap;margin-top:8px;pointer-events:none;text-align:center}.advanced-tooltip[data-v-ecca24ce]{white-space:normal;padding:15px;display:flex;flex-direction:column;align-items:center;gap:10px;top:calc(100% + 5px);pointer-events:all;text-align:center}.tooltip-title[data-v-ecca24ce]{font-size:16px;text-align:center}.movie-skeleton[data-v-ecca24ce]{padding:0 20px 20px;color:#e0e0e0}.movie-skeleton__header[data-v-ecca24ce]{height:80px;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px}.movie-skeleton__logo[data-v-ecca24ce]{width:200px;height:80px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:8px}.movie-skeleton__title[data-v-ecca24ce]{width:30%;height:40px;background:linear-gradient(90deg,rgba(40,40,40,.8),rgba(60,60,60,.8),rgba(40,40,40,.8));background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:12px;margin:0 auto;box-shadow:0 2px 8px rgba(0,0,0,.15);position:relative;overflow:hidden}.movie-skeleton__title[data-v-ecca24ce]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.05) 50%,transparent 100%);animation:shine-ecca24ce 1.5s infinite}@keyframes shine-ecca24ce{0%{transform:translate(-100%)}to{transform:translate(100%)}}.movie-skeleton__ratings[data-v-ecca24ce]{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0}.movie-skeleton__rating-item[data-v-ecca24ce]{width:120px;height:30px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:8px}.movie-skeleton__player[data-v-ecca24ce]{width:60%;height:500px;background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:12px;margin:20px auto;box-shadow:0 4px 12px rgba(0,0,0,.2);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.movie-skeleton__player[data-v-ecca24ce]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:4px solid rgba(255,255,255,.1);border-top:4px solid rgba(255,255,255,.5);border-radius:50%;animation:spin-ecca24ce 1s linear infinite}@keyframes spin-ecca24ce{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.movie-skeleton__additional-info[data-v-ecca24ce]{margin:20px 0}.movie-skeleton__section-title[data-v-ecca24ce]{width:150px;height:24px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:8px;margin-bottom:15px}.movie-skeleton__info-list[data-v-ecca24ce]{display:flex;flex-direction:column;gap:10px}.movie-skeleton__info-item[data-v-ecca24ce]{width:100%;height:20px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:8px}.movie-skeleton__description[data-v-ecca24ce]{margin:20px 0}.movie-skeleton__description-line[data-v-ecca24ce]{width:100%;height:16px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-ecca24ce 2s infinite linear;border-radius:8px;margin-bottom:10px}.movie-skeleton__description-line[data-v-ecca24ce]:nth-child(2){width:90%}.movie-skeleton__description-line[data-v-ecca24ce]:nth-child(3){width:95%}.movie-skeleton__description-line[data-v-ecca24ce]:nth-child(4){width:85%}@keyframes shimmer-ecca24ce{0%{background-position:-200% 0}to{background-position:200% 0}}@media(max-width:600px){.movie-skeleton[data-v-ecca24ce]{padding:10px}.movie-skeleton__header[data-v-ecca24ce]{height:60px}.movie-skeleton__logo[data-v-ecca24ce]{width:150px;height:60px}.movie-skeleton__title[data-v-ecca24ce]{width:70%;height:30px}.movie-skeleton__player[data-v-ecca24ce]{height:250px}.movie-skeleton__rating-item[data-v-ecca24ce]{width:80px;height:25px}.movie-skeleton__control-btn[data-v-ecca24ce]{width:40px;height:40px}}.staff-section[data-v-ecca24ce]{border-radius:8px}.staff-categories[data-v-ecca24ce]{display:flex;flex-direction:column;gap:20px}.staff-category h3[data-v-ecca24ce]{color:#fff;margin-bottom:10px;font-size:18px}.staff-list[data-v-ecca24ce]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px;align-items:start;margin-bottom:10px}.staff-item[data-v-ecca24ce]{display:flex;flex-direction:column;align-items:center;text-align:center;height:100%}.staff-link[data-v-ecca24ce]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit;transition:transform .2s;height:100%}.staff-link[data-v-ecca24ce]:hover{transform:translateY(-3px);filter:drop-shadow(0 4px 8px var(--accent-semi-transparent))}.staff-photo[data-v-ecca24ce]{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:8px;border:2px solid rgba(255,255,255,.1);flex-shrink:0;transition:all .2s ease}.staff-link:hover .staff-photo[data-v-ecca24ce]{border-color:var(--accent-color);box-shadow:0 0 12px var(--accent-semi-transparent)}.staff-name[data-v-ecca24ce]{font-size:14px;color:#fff;margin-bottom:4px;min-height:2.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 4px}.staff-role[data-v-ecca24ce]{font-size:12px;color:#aaa;min-height:1.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 4px}@media(max-width:600px){.staff-list[data-v-ecca24ce]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.staff-photo[data-v-ecca24ce]{width:60px;height:60px}.staff-name[data-v-ecca24ce]{font-size:12px;min-height:2.4em}.staff-role[data-v-ecca24ce]{font-size:10px;min-height:1.6em}}.show-all-link[data-v-ecca24ce]{display:inline-block;color:#aaa;text-decoration:none;margin-top:10px;cursor:pointer;transition:color .2s}.show-all-link[data-v-ecca24ce]:hover{color:#fff;text-decoration:underline}.expand-actors-circle-button[data-v-ecca24ce]{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:24px;text-decoration:none;flex-shrink:0}.expand-circle-button[data-v-ecca24ce]{position:absolute;top:0;right:15px;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:20px;text-decoration:none}.expand-circle-button[data-v-ecca24ce]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}@media(max-width:600px){.expand-circle-button[data-v-ecca24ce]{width:35px;height:35px;font-size:16px}}.show-more-btn[data-v-ecca24ce]{display:block;margin:15px auto;padding:8px 16px;background:#3a3a3a;color:#fff;border:1px solid #505050;border-radius:4px;cursor:pointer;transition:all .2s ease}.show-more-btn[data-v-ecca24ce]:hover{background:var(--accent-color);border-color:var(--accent-color);box-shadow:0 4px 8px var(--accent-semi-transparent)}.show-more-btn[data-v-ecca24ce]:active{background:var(--accent-color);border-color:var(--accent-color)}.nudity-info-btn[data-v-ecca24ce]{position:relative;background:none;border:none;padding:0;cursor:pointer;color:inherit;font:inherit;display:flex;align-items:center;gap:5px}.nudity-info-btn:hover i[data-v-ecca24ce]{color:var(--accent-color)}.nudity-info-btn[data-v-ecca24ce]:hover,.parents-guide-btn[data-v-ecca24ce]:hover{background:rgba(255,255,255,.1)!important;border-color:var(--accent-color)!important;box-shadow:0 0 10px var(--accent-semi-transparent)!important}.parents-guide-btn[data-v-ecca24ce]{background:rgba(0,0,0,.7);border:none;cursor:pointer;transition:all .2s ease}.parents-guide-btn i[data-v-ecca24ce]{margin-left:5px}.nudity-info-btn i[data-v-ecca24ce]{font-size:20px;color:#fff}.nudity-info-btn .fa-spinner[data-v-ecca24ce]{color:#fff}.nudity-info-popup[data-v-ecca24ce]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.95);border:1px solid #333;border-radius:8px;padding:20px;min-width:900px;max-width:1500px;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.3)}.nudity-info-content[data-v-ecca24ce]{color:#fff;font-size:14px;line-height:1.5;white-space:pre-wrap;margin-bottom:15px;max-height:80vh;overflow-y:auto}.nudity-info-loading[data-v-ecca24ce]{display:flex;align-items:center;gap:10px;justify-content:center;padding:20px;color:#fff}.nudity-info-loading i[data-v-ecca24ce]{font-size:20px;color:var(--accent-color)}.nudity-info-actions[data-v-ecca24ce]{display:flex;gap:10px;justify-content:flex-start;margin-top:10px}.nudity-info-button[data-v-ecca24ce]{display:flex;align-items:center;gap:5px;padding:8px 12px;background:rgba(255,255,255,.1);border:none;border-radius:4px;color:#fff;font-size:14px;cursor:pointer;transition:all .2s ease;pointer-events:all}.nudity-info-button[data-v-ecca24ce]:hover{background:var(--accent-color);transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.nudity-info-button i[data-v-ecca24ce]{font-size:16px}@media(max-width:600px){.nudity-info-popup[data-v-ecca24ce]{min-width:300px;max-width:95vw;margin:0 10px}}.staff-names-container[data-v-ecca24ce]{display:flex;align-items:flex-start;gap:15px;margin-bottom:15px;width:100%}.staff-names-list[data-v-ecca24ce]{display:flex;flex-wrap:wrap;gap:10px;flex:1;min-width:0;align-items:center}.staff-name-link[data-v-ecca24ce]{color:#fff;text-decoration:none;padding:5px 10px;background:rgba(255,255,255,.1);border-radius:4px;transition:all .2s ease;white-space:nowrap;flex-shrink:0}.staff-name-link[data-v-ecca24ce]:hover{background:var(--accent-color);color:#fff;transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.staff-list .expand-actors-circle-button[data-v-ecca24ce]{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:24px;text-decoration:none;flex-shrink:0}.staff-list .expand-actors-circle-button[data-v-ecca24ce]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}.staff-names-list .expand-actors-circle-button[data-v-ecca24ce]{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:16px;text-decoration:none;flex-shrink:0}.staff-names-list .expand-actors-circle-button[data-v-ecca24ce]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}@media(max-width:600px){.staff-names-container[data-v-ecca24ce]{flex-direction:row;align-items:flex-start;gap:10px}.staff-names-list[data-v-ecca24ce]{width:auto;flex:1}.staff-name-link[data-v-ecca24ce]{font-size:14px;padding:4px 8px}.staff-list .expand-actors-circle-button[data-v-ecca24ce]{width:60px;height:60px;font-size:20px}.staff-names-list .expand-actors-circle-button[data-v-ecca24ce]{width:35px;height:35px;font-size:14px}}.related-movies-list[data-v-ecca24ce] .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.related-movies-list[data-v-ecca24ce] .grid.card-size-small{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}.related-movies-list[data-v-ecca24ce] .grid.card-size-medium{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.related-movies-list[data-v-ecca24ce] .grid.card-size-large{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}@media(max-width:620px){.related-movies-list[data-v-ecca24ce] .grid{grid-template-columns:1fr}}@media(max-width:768px){.info-content[data-v-ecca24ce]{flex-direction:column;align-items:flex-start}.desktop-only[data-v-ecca24ce]{display:none}}.rating-value.low[data-v-ecca24ce]{color:#ff6b6b!important}.rating-value.medium[data-v-ecca24ce]{color:#ffd93d!important}.rating-value.high[data-v-ecca24ce]{color:#51cf66!important}.desktop-text[data-v-ecca24ce]{display:inline}.mobile-text[data-v-ecca24ce]{display:none}@media(max-width:600px){.desktop-text[data-v-ecca24ce]{display:none}.mobile-text[data-v-ecca24ce]{display:inline}}.mobile-list-dropdown[data-v-ecca24ce]{position:relative;margin:15px 0}.mobile-list-toggle[data-v-ecca24ce]{display:flex;align-items:center;gap:10px;background:transparent;border:none;padding:12px 15px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;transition:all .2s ease;width:100%;text-align:left}.mobile-list-toggle[data-v-ecca24ce]:active{transform:scale(.98)}.mobile-list-toggle .material-icons[data-v-ecca24ce]{font-size:24px}.mobile-list-toggle.active[data-v-ecca24ce]{background:transparent;box-shadow:none}.mobile-list-toggle[data-v-ecca24ce]:not(.active):hover{background:rgba(255,255,255,.2)}.mobile-list-toggle .button-label[data-v-ecca24ce]{flex:1}.mobile-list-toggle .material-icons.active[data-v-ecca24ce]{color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.mobile-list-content[data-v-ecca24ce]{position:absolute;top:calc(100% + 5px);left:0;width:100%;background:rgba(0,0,0,.95);border-radius:8px;padding:10px;z-index:1000;box-shadow:0 4px 15px rgba(0,0,0,.3);transform-origin:top center;animation:dropdownSlide-ecca24ce .2s ease;border:1px solid rgba(255,255,255,.1)}@keyframes dropdownSlide-ecca24ce{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.mobile-list-btn[data-v-ecca24ce]{display:flex;align-items:center;gap:10px;background:transparent;border:none;padding:12px 15px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;transition:all .2s ease;width:100%;text-align:left;margin-bottom:5px}.mobile-list-btn[data-v-ecca24ce]:last-child{margin-bottom:0}.mobile-list-btn[data-v-ecca24ce]:active{transform:scale(.98)}.mobile-list-btn .material-icons[data-v-ecca24ce]{font-size:24px}.mobile-list-btn.active[data-v-ecca24ce]{background:transparent;box-shadow:none}.mobile-list-btn .material-icons.active[data-v-ecca24ce]{color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.dropdown-arrow[data-v-ecca24ce]{transition:transform .2s ease}.dropdown-arrow.expanded[data-v-ecca24ce]{transform:rotate(180deg)}.rating-boxes[data-v-ecca24ce]{display:flex;gap:10px;margin:10px 0}.rating-box[data-v-ecca24ce]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:4px;font-weight:700;gap:5px}.rating-box.mpaa[data-v-ecca24ce]{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.rating-box.mpaa span[data-v-ecca24ce]{font-size:.9em}.rating-box.age[data-v-ecca24ce]{background:rgba(255,0,0,.1);border:1px solid rgba(255,0,0,.3)}.rating-box strong[data-v-ecca24ce]{font-size:.9em;opacity:.8}.rating-box span[data-v-ecca24ce]{font-size:1.1em}@media(max-width:600px){.rating-boxes[data-v-ecca24ce]{flex-wrap:wrap}.rating-box[data-v-ecca24ce]{font-size:14px;padding:3px 6px}}.text-red[data-v-ecca24ce]{color:#f44!important}.text-red-blink[data-v-ecca24ce]{color:#f44!important;animation:blink-red-streamer-ecca24ce .8s ease-in-out infinite}@keyframes blink-red-streamer-ecca24ce{0%,to{color:#f44;text-shadow:0 0 15px #ff4444,0 0 25px #ff4444;transform:scale(1)}50%{color:#f88;text-shadow:0 0 20px #ff4444,0 0 35px #ff4444,0 0 45px #ff4444;transform:scale(1.15)}}.acknowledgment-row[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;padding:2px 0}.acknowledgment-row.clickable[data-v-ecca24ce]{cursor:pointer;transition:all .2s ease}.acknowledgment-row.clickable[data-v-ecca24ce]:hover{transform:translate(4px)}.community-link[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;color:#9146ff;font-weight:500}.community-link i[data-v-ecca24ce]{font-size:20px}.twitch-link[data-v-ecca24ce]{display:inline-flex;align-items:center;gap:8px;color:#9146ff;text-decoration:none;font-weight:500;transition:all .2s ease}.acknowledgment-text[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:13px}@media(max-width:600px){.acknowledgment-row[data-v-ecca24ce]{flex-direction:column;align-items:flex-start;gap:4px;padding:8px 0}.acknowledgment-text[data-v-ecca24ce]{font-size:12px}.twitch-link[data-v-ecca24ce],.community-link[data-v-ecca24ce]{font-size:14px}.twitch-link i[data-v-ecca24ce],.community-link i[data-v-ecca24ce]{font-size:16px}}.timings-content[data-v-ecca24ce]{border-top:1px solid rgba(255,255,255,.1);padding-top:15px;display:flex;flex-direction:column;gap:15px}.timings-warning[data-v-ecca24ce]{background:rgba(255,193,7,.1);border:1px solid rgba(255,193,7,.3);border-radius:8px;padding:12px;display:flex;align-items:center;gap:8px;color:#ffc107;font-weight:500;margin-bottom:10px}.timings-warning i[data-v-ecca24ce]{font-size:16px}.verified-icon[data-v-ecca24ce]{color:#28a745;margin-left:4px;font-size:12px}.edit-button[data-v-ecca24ce]{background:rgba(40,167,69,.1)!important;border:1px solid rgba(40,167,69,.3)!important}.edit-button[data-v-ecca24ce]:hover{background:rgba(40,167,69,.2)!important}.delete-button[data-v-ecca24ce]{background:rgba(220,53,69,.1)!important;border:1px solid rgba(220,53,69,.3)!important}.delete-button[data-v-ecca24ce]:hover{background:rgba(220,53,69,.2)!important}.report-button[data-v-ecca24ce]{background:rgba(255,193,7,.1)!important;border:1px solid rgba(255,193,7,.3)!important}.report-button[data-v-ecca24ce]:hover{background:rgba(255,193,7,.2)!important}.timings-content.no-border[data-v-ecca24ce]{border-top:none;padding-top:0}.timings-text[data-v-ecca24ce]{white-space:pre-wrap;margin-bottom:10px}.nudity-info-actions[data-v-ecca24ce],.timing-form-actions[data-v-ecca24ce]{display:flex;gap:10px;justify-content:flex-start}.timing-form-actions[data-v-ecca24ce]{padding:0}.timing-submission-form[data-v-ecca24ce],.timing-login-prompt[data-v-ecca24ce]{margin-top:15px;border-top:1px solid rgba(255,255,255,.1);padding-top:15px}.timing-submission-form[data-v-ecca24ce]{display:flex;flex-direction:column;gap:15px;padding-right:20px}.timing-login-prompt[data-v-ecca24ce]{text-align:center}.timing-input[data-v-ecca24ce],.timing-textarea[data-v-ecca24ce]{width:100%;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:4px;color:#fff;padding:8px 12px;font-size:14px;transition:all .2s ease}.timing-input[data-v-ecca24ce]:focus,.timing-textarea[data-v-ecca24ce]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.timing-textarea[data-v-ecca24ce]{min-height:200px;max-height:400px;padding:10px 12px;resize:vertical;overflow-y:auto}.submit-timing-btn[data-v-ecca24ce],.close-modal-btn[data-v-ecca24ce]{background:var(--accent-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease}.submit-timing-btn[data-v-ecca24ce]{padding:8px 16px;display:flex;align-items:center;gap:8px}.submit-timing-btn[data-v-ecca24ce]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.submit-timing-btn[data-v-ecca24ce]:disabled{opacity:.6;cursor:not-allowed}.close-modal-btn[data-v-ecca24ce]{background:none;font-size:20px;padding:5px}.close-modal-btn[data-v-ecca24ce]:hover{color:var(--accent-color);transform:scale(1.1)}.login-link[data-v-ecca24ce],.twitch-link[data-v-ecca24ce]{color:var(--accent-color);text-decoration:none;cursor:pointer;transition:all .2s ease}.login-link[data-v-ecca24ce]:hover{text-decoration:underline;text-shadow:0 0 8px var(--accent-semi-transparent)}.twitch-link[data-v-ecca24ce]{display:inline-flex;align-items:center;gap:8px;color:#9146ff;font-weight:500}.twitch-link[data-v-ecca24ce]:hover{color:#a970ff;transform:translate(4px)}.twitch-link i[data-v-ecca24ce]{font-size:20px}.timing-modal[data-v-ecca24ce]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.timing-modal-content[data-v-ecca24ce]{background:#1a1a1a;border-radius:8px;padding:20px;width:90%;max-width:500px;max-height:90vh;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 20px rgba(0,0,0,.4);overflow-y:auto}.timing-modal-header[data-v-ecca24ce]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.timing-modal-header h3[data-v-ecca24ce]{margin:0;color:#fff;font-size:18px}.text-green[data-v-ecca24ce]{color:#51cf66!important}.clickable-acknowledgment[data-v-ecca24ce]{cursor:pointer;transition:background-color .2s ease}.clickable-acknowledgment[data-v-ecca24ce]:hover{background-color:rgba(255,255,255,.1)}.acknowledgment-table[data-v-ecca24ce]{background:rgba(255,255,255,.05);border-radius:8px;margin-bottom:15px;overflow:hidden;border:1px solid rgba(255,255,255,.1)}.acknowledgment-header[data-v-ecca24ce]{background:rgba(145,70,255,.15);padding:10px 15px;display:flex;align-items:center;gap:8px;font-weight:500;color:#fff;border-bottom:1px solid rgba(145,70,255,.2)}.acknowledgment-header i[data-v-ecca24ce]{color:#ff66ab}.acknowledgment-content[data-v-ecca24ce]{padding:15px;display:flex;flex-direction:column;gap:8px}.acknowledgment-text[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:13px;margin-top:4px}@media(max-width:600px){.timing-modal-content[data-v-ecca24ce]{width:95%;padding:15px}.timing-modal-header h3[data-v-ecca24ce]{font-size:16px}.timing-input[data-v-ecca24ce],.timing-textarea[data-v-ecca24ce]{font-size:13px}.timing-textarea[data-v-ecca24ce]{min-height:60px}.submit-timing-btn[data-v-ecca24ce]{padding:6px 12px;font-size:13px}.timing-submission-form[data-v-ecca24ce]{padding-right:15px;padding-left:15px}}.top-submitters[data-v-ecca24ce]{padding:10px 0}.top-submitters h3[data-v-ecca24ce]{margin:0 0 15px;color:#fff;font-size:18px;text-align:center}.top-submitters-list[data-v-ecca24ce]{display:flex;flex-direction:column;gap:10px}.top-submitter-item[data-v-ecca24ce]{display:flex;align-items:center;gap:15px;padding:8px;background:rgba(255,255,255,.05);border-radius:6px;transition:all .2s ease}.top-submitter-item[data-v-ecca24ce]:hover{background:rgba(255,255,255,.1);transform:translate(5px)}.submitter-rank[data-v-ecca24ce]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--accent-color);color:#fff;border-radius:50%;font-weight:700;font-size:14px}.submitter-info[data-v-ecca24ce]{flex:1}.submitter-count[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:13px;margin-top:2px}.modal-overlay[data-v-ecca24ce]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}.modal-content[data-v-ecca24ce]{background:#1a1a1a;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);animation:modalSlideIn-ecca24ce .3s ease}@keyframes modalSlideIn-ecca24ce{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[data-v-ecca24ce]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center}.modal-header h3[data-v-ecca24ce]{margin:0;font-size:24px;color:#fff}.modal-body[data-v-ecca24ce]{padding:20px}.top-submitters-list[data-v-ecca24ce]{display:flex;flex-direction:column;gap:15px}.top-submitter-item[data-v-ecca24ce]{display:flex;align-items:center;gap:15px;padding:15px;background:rgba(255,255,255,.05);border-radius:10px;transition:all .2s ease;position:relative;overflow:hidden}.top-submitter-item[data-v-ecca24ce]:hover{transform:translate(5px);background:rgba(255,255,255,.08)}.submitter-rank[data-v-ecca24ce]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--accent-color);color:#fff;border-radius:50%;font-weight:700;font-size:16px;flex-shrink:0}.submitter-rank.gold[data-v-ecca24ce]{background:linear-gradient(45deg,gold,orange);box-shadow:0 0 15px rgba(255,215,0,.5)}.submitter-rank.silver[data-v-ecca24ce]{background:linear-gradient(45deg,silver,#a9a9a9);box-shadow:0 0 15px rgba(192,192,192,.5)}.submitter-rank.bronze[data-v-ecca24ce]{background:linear-gradient(45deg,#cd7f32,#8b4513);box-shadow:0 0 15px rgba(205,127,50,.5)}.submitter-info[data-v-ecca24ce]{flex:1;min-width:0}.submitter-name[data-v-ecca24ce]{color:#fff;font-weight:500;font-size:16px;margin-bottom:4px}.submitter-name a[data-v-ecca24ce]{color:#9146ff;text-decoration:none;transition:all .2s ease}.submitter-name a[data-v-ecca24ce]:hover{color:#a970ff;text-decoration:underline}.submitter-name a i[data-v-ecca24ce]{margin-left:5px;font-size:14px}@media(max-width:600px){.submitter-name a i[data-v-ecca24ce]{font-size:12px}}.submitter-count[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:14px}.submitter-contribution[data-v-ecca24ce]{position:absolute;left:0;bottom:0;width:100%;height:3px;background:rgba(255,255,255,.1)}.contribution-bar[data-v-ecca24ce]{height:100%;background:var(--accent-color);transition:width 1s ease}@media(max-width:600px){.modal-content[data-v-ecca24ce]{width:95%;margin:10px}.modal-header h3[data-v-ecca24ce]{font-size:20px}.submitter-rank[data-v-ecca24ce]{width:28px;height:28px;font-size:14px}.submitter-name[data-v-ecca24ce]{font-size:14px}.submitter-count[data-v-ecca24ce]{font-size:12px}}.timing-entries[data-v-ecca24ce]{display:flex;flex-direction:column;gap:8px}.timing-entry[data-v-ecca24ce]{padding:8px;background:rgba(255,255,255,.05);border-radius:4px;transition:all .2s ease}.timing-entry.top-rated[data-v-ecca24ce]{background:rgba(34,197,94,.08);border:1px solid rgba(34,197,94,.2)}.timing-entry.highly-rated[data-v-ecca24ce]{background:rgba(34,197,94,.12);border:1px solid rgba(34,197,94,.3);box-shadow:0 0 10px rgba(34,197,94,.1)}.timing-content[data-v-ecca24ce]{display:flex;flex-direction:column;gap:4px}.timing-text[data-v-ecca24ce]{font-family:monospace;color:#fff;font-size:1.1em}.timing-vote-container[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;margin-top:8px}.vote-button[data-v-ecca24ce]{display:flex;align-items:center;gap:4px;padding:4px 8px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:4px;color:rgba(255,255,255,.7);cursor:pointer;transition:all .2s ease;font-size:.85em}.vote-button[data-v-ecca24ce]:hover:not(:disabled){background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2)}.vote-button[data-v-ecca24ce]:disabled{opacity:.5;cursor:not-allowed}.vote-button.upvote-button.active[data-v-ecca24ce]{background:rgba(34,197,94,.2);border-color:rgba(34,197,94,.4);color:#22c55e}.vote-button.upvote-button.active[data-v-ecca24ce]:hover{background:rgba(34,197,94,.3)}.vote-button.downvote-button.active[data-v-ecca24ce]{background:rgba(239,68,68,.2);border-color:rgba(239,68,68,.4);color:#ef4444}.vote-button.downvote-button.active[data-v-ecca24ce]:hover{background:rgba(239,68,68,.3)}.vote-count[data-v-ecca24ce]{font-weight:600;min-width:20px;text-align:center}.vote-score[data-v-ecca24ce]{font-weight:700;font-size:.9em;padding:4px 8px;border-radius:4px;min-width:30px;text-align:center}.vote-score.positive[data-v-ecca24ce]{color:#22c55e;background:rgba(34,197,94,.1)}.vote-score.negative[data-v-ecca24ce]{color:#ef4444;background:rgba(239,68,68,.1)}.vote-score.neutral[data-v-ecca24ce]{color:rgba(255,255,255,.5);background:rgba(255,255,255,.05)}.timing-entry.pending[data-v-ecca24ce],.timing-entry.clean-text[data-v-ecca24ce]{background:rgba(255,165,0,.1);border:1px solid rgba(255,165,0,.2)}.pending-badge[data-v-ecca24ce],.clean-text-badge[data-v-ecca24ce]{display:inline-block;background:rgba(255,165,0,.2);color:orange;padding:2px 6px;border-radius:4px;font-size:.8em;margin-bottom:4px}.top-rated-badge[data-v-ecca24ce]{display:inline-flex;align-items:center;gap:4px;background:rgba(34,197,94,.2);color:#22c55e;padding:2px 8px;border-radius:4px;font-size:.8em;margin-bottom:4px;font-weight:600}.highly-rated-badge[data-v-ecca24ce]{display:inline-flex;align-items:center;gap:4px;background:rgba(34,197,94,.3);color:#22c55e;padding:3px 10px;border-radius:4px;font-size:.8em;margin-bottom:4px;font-weight:700;box-shadow:0 0 8px rgba(34,197,94,.2)}.timing-hover-container.blurred[data-v-ecca24ce]{filter:blur(4px)}.timing-hover-container.blurred[data-v-ecca24ce]:hover{filter:blur(0);transition:filter .3s ease}.hint-text[data-v-ecca24ce]{font-size:.8em;color:rgba(255,255,255,.7);font-weight:400}.hint-text a[data-v-ecca24ce]{color:var(--accent-color);text-decoration:none;transition:all .2s ease}.hint-text a[data-v-ecca24ce]:hover{text-decoration:underline;text-shadow:0 0 8px var(--accent-semi-transparent)}.modal-header-controls[data-v-ecca24ce]{display:flex;align-items:center;gap:10px}.show-all-timings-btn[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--accent-color);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s ease;margin-bottom:20px;width:fit-content}.show-all-timings-btn[data-v-ecca24ce]:hover:not(:disabled){background:var(--accent-color-dark, #7a4cb8);transform:translateY(-1px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.show-all-timings-btn[data-v-ecca24ce]:disabled{opacity:.6;cursor:not-allowed;transform:none}.all-timings-modal[data-v-ecca24ce]{max-width:800px;width:95%;max-height:90vh}.all-timings-modal .modal-body[data-v-ecca24ce]{max-height:70vh;overflow-y:auto;padding:20px}.loading-spinner[data-v-ecca24ce]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:40px;color:#fff}.loading-spinner i[data-v-ecca24ce]{font-size:24px;color:var(--accent-color)}.no-timings[data-v-ecca24ce]{text-align:center;padding:40px;color:rgba(255,255,255,.7)}.all-timings-list[data-v-ecca24ce]{display:flex;flex-direction:column;gap:15px}.timing-item[data-v-ecca24ce]{background:rgba(255,255,255,.05);border-radius:8px;border:1px solid rgba(255,255,255,.1);overflow:hidden;transition:all .2s ease}.timing-item[data-v-ecca24ce]:hover{background:rgba(255,255,255,.08);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.all-timings-list .timing-item .timing-content[data-v-ecca24ce]{padding:15px}.timing-header[data-v-ecca24ce]{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;background:rgba(255,255,255,.03);border-bottom:1px solid rgba(255,255,255,.1)}.timing-meta[data-v-ecca24ce]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.timing-date[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:13px}.timing-movie-info[data-v-ecca24ce]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.timing-kp-id[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:13px;font-family:monospace;background:rgba(255,255,255,.1);padding:2px 6px;border-radius:3px;text-decoration:none;transition:all .2s ease}.timing-kp-id.clickable[data-v-ecca24ce]:hover{color:var(--accent-color);background:rgba(var(--accent-color-rgb),.2);transform:translateY(-1px);text-decoration:none}@media(max-width:768px){.modal-header-controls[data-v-ecca24ce]{flex-direction:column;align-items:stretch;gap:8px}.show-all-timings-btn[data-v-ecca24ce]{justify-content:center}.all-timings-modal[data-v-ecca24ce]{width:95%;margin:10px}.timing-header[data-v-ecca24ce]{flex-direction:column;align-items:stretch;gap:8px}.timing-meta[data-v-ecca24ce]{justify-content:space-between}.timing-movie-info[data-v-ecca24ce]{justify-content:flex-end}}.admin-controls[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;margin-left:auto}.approve-btn[data-v-ecca24ce],.reject-btn[data-v-ecca24ce],.clean-text-btn[data-v-ecca24ce]{width:32px;height:32px;border:none;border-radius:50%;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.approve-btn[data-v-ecca24ce]{background:rgba(81,207,102,.2);color:#51cf66;border:1px solid rgba(81,207,102,.3)}.approve-btn[data-v-ecca24ce]:hover:not(:disabled){background:rgba(81,207,102,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(81,207,102,.3)}.reject-btn[data-v-ecca24ce]{background:rgba(255,107,107,.2);color:#ff6b6b;border:1px solid rgba(255,107,107,.3)}.reject-btn[data-v-ecca24ce]:hover:not(:disabled){background:rgba(255,107,107,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(255,107,107,.3)}.approve-btn[data-v-ecca24ce]:disabled,.reject-btn[data-v-ecca24ce]:disabled{opacity:.6;cursor:not-allowed;transform:none}.clean-text-btn[data-v-ecca24ce]{background:rgba(255,165,0,.2);color:orange;border:1px solid rgba(255,165,0,.3)}.clean-text-btn[data-v-ecca24ce]:hover:not(:disabled){background:rgba(255,165,0,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(255,165,0,.3)}.clean-text-btn[data-v-ecca24ce]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media(max-width:600px){.admin-controls[data-v-ecca24ce]{margin-left:0;margin-top:8px}.approve-btn[data-v-ecca24ce],.reject-btn[data-v-ecca24ce],.clean-text-btn[data-v-ecca24ce]{width:28px;height:28px;font-size:12px}}.timing-preview[data-v-ecca24ce]{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:12px;margin-top:10px}.timing-preview-header[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;margin-bottom:8px;color:rgba(255,255,255,.8);font-size:14px;font-weight:500}.timing-preview-header i[data-v-ecca24ce]{color:var(--accent-color)}.timing-preview-content[data-v-ecca24ce]{display:flex;flex-direction:column;gap:4px}.timing-preview-item[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;padding:6px 8px;background:rgba(255,255,255,.05);border-radius:4px;font-size:13px}.timing-preview-range[data-v-ecca24ce]{color:#fff;font-weight:500;font-family:Courier New,monospace}.timing-preview-duration[data-v-ecca24ce]{color:rgba(255,255,255,.6);font-size:12px}.overlay-button[data-v-ecca24ce]{background:var(--accent-color)!important}.overlay-button[data-v-ecca24ce]:hover{background:var(--accent-color)!important;transform:translateY(-2px)!important;box-shadow:0 4px 8px var(--accent-semi-transparent)!important}.obs-button[data-v-ecca24ce]{background:linear-gradient(135deg,#ff6b35,#f7931e)!important;color:#fff!important}.obs-button[data-v-ecca24ce]:hover{background:linear-gradient(135deg,#e55a2b,#e68900)!important;transform:translateY(-1px);box-shadow:0 4px 12px rgba(255,107,53,.4)}.obs-modal[data-v-ecca24ce]{z-index:10001}.obs-modal-content[data-v-ecca24ce]{max-width:600px;width:90%;max-height:85vh;overflow-y:auto;padding:15px;box-sizing:border-box}.obs-settings-form[data-v-ecca24ce]{display:flex;flex-direction:column;gap:15px;padding:0}.obs-setting-group[data-v-ecca24ce]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.obs-setting-group[data-v-ecca24ce]:last-child{margin-bottom:0}.obs-checkbox-label[data-v-ecca24ce]{display:flex;align-items:center;gap:12px;cursor:pointer;font-size:16px;font-weight:500;color:#fff}.obs-checkbox-label input[type=checkbox][data-v-ecca24ce]{width:18px;height:18px;accent-color:#ff6b35}.obs-setting-description[data-v-ecca24ce]{font-size:13px;color:rgba(255,255,255,.7);margin-top:6px;line-height:1.3}.obs-connection-settings[data-v-ecca24ce]{background:rgba(255,255,255,.05);border-radius:12px;padding:15px;border:1px solid rgba(255,255,255,.1);overflow:hidden}.obs-setting-group label[data-v-ecca24ce]{color:#fff;font-size:14px;font-weight:500;margin-bottom:6px}.obs-input[data-v-ecca24ce],.obs-select[data-v-ecca24ce]{width:100%;padding:8px 10px;border:1px solid rgba(255,255,255,.2);border-radius:6px;background:rgba(255,255,255,.1);color:#fff;font-size:14px;transition:all .3s ease;margin-bottom:6px;box-sizing:border-box}.obs-input[data-v-ecca24ce]:focus,.obs-select[data-v-ecca24ce]:focus{outline:none;border-color:#ff6b35;box-shadow:0 0 0 2px rgba(255,107,53,.2)}.obs-range[data-v-ecca24ce]{width:100%;height:6px;border-radius:3px;background:rgba(255,255,255,.2);outline:none;accent-color:#ff6b35}.obs-status[data-v-ecca24ce]{padding:12px 16px;border-radius:8px;text-align:center;font-weight:500;background:rgba(244,67,54,.2);color:#f44336;border:1px solid rgba(244,67,54,.3)}.obs-status.connected[data-v-ecca24ce]{background:rgba(76,175,80,.2);color:#4caf50;border:1px solid rgba(76,175,80,.3)}.obs-actions[data-v-ecca24ce]{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}.obs-action-btn[data-v-ecca24ce]{display:flex;align-items:center;gap:8px;padding:8px 14px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;flex:1;min-width:140px;justify-content:center}.obs-action-btn[data-v-ecca24ce]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.connect-btn[data-v-ecca24ce]{background:linear-gradient(135deg,#9c27b0,#7b1fa2);color:#fff}.connect-btn[data-v-ecca24ce]:hover:not(:disabled){background:linear-gradient(135deg,#8e24aa,#6a1b9a);transform:translateY(-1px)}.test-btn[data-v-ecca24ce]{background:linear-gradient(135deg,#2196f3,#0b7dda);color:#fff}.test-btn[data-v-ecca24ce]:hover:not(:disabled){background:linear-gradient(135deg,#1976d2,#0b6cb7);transform:translateY(-1px)}.refresh-btn[data-v-ecca24ce]{background:linear-gradient(135deg,#ff9800,#e68900);color:#fff}.refresh-btn[data-v-ecca24ce]:hover:not(:disabled){background:linear-gradient(135deg,#f57c00,#bf6900);transform:translateY(-1px)}.obs-warning[data-v-ecca24ce]{padding:12px;background:rgba(255,152,0,.2);color:#ff9800;border:1px solid rgba(255,152,0,.3);border-radius:6px;font-size:14px;line-height:1.4}.obs-filters-list[data-v-ecca24ce]{display:flex;flex-direction:column;gap:8px}.obs-filter-selection[data-v-ecca24ce]{display:flex;flex-direction:column;gap:12px}.obs-filter-select[data-v-ecca24ce]{padding:10px 12px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.2);border-radius:6px;color:#fff;font-size:14px;outline:none;transition:all .3s ease}.obs-filter-select[data-v-ecca24ce]:focus{border-color:var(--accent-color);box-shadow:0 0 5px var(--accent-semi-transparent)}.obs-filter-select option[data-v-ecca24ce]{background:#2a2a2a;color:#fff}.selected-filter-info[data-v-ecca24ce]{padding:12px;background:rgba(255,255,255,.05);border-radius:6px;display:flex;flex-direction:column;gap:8px}.filter-details[data-v-ecca24ce]{font-size:14px;color:#fff;text-align:center}.filter-status[data-v-ecca24ce]{font-size:13px;color:#f44336;font-weight:500;text-align:center}.filter-status.enabled[data-v-ecca24ce]{color:#4caf50}.obs-info[data-v-ecca24ce]{padding:10px 12px;background:rgba(76,175,80,.1);border:1px solid rgba(76,175,80,.3);border-radius:6px;color:#4caf50;font-size:13px;text-align:center}@media(max-width:600px){.timing-actions-row[data-v-ecca24ce],.obs-button[data-v-ecca24ce]{display:none!important}.obs-actions[data-v-ecca24ce]{flex-direction:column}.obs-action-btn[data-v-ecca24ce]{min-width:unset}}.timing-author[data-v-ecca24ce]{color:rgba(255,255,255,.7);font-size:.85em;font-style:italic}.timing-count[data-v-ecca24ce]{color:var(--accent-color);font-weight:500;font-style:normal;margin-left:4px}.note-btn[data-v-ecca24ce]{transition:all .3s ease}.note-btn.has-note[data-v-ecca24ce]{color:gold;animation:pulse-note-ecca24ce 2s infinite}.note-btn.has-note i[data-v-ecca24ce]{color:gold;filter:drop-shadow(0 0 3px rgba(255,215,0,.5))}@keyframes pulse-note-ecca24ce{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}.movie-note-display[data-v-ecca24ce]{margin:30px 0;padding:20px;background:linear-gradient(135deg,rgba(255,107,53,.05),rgba(255,107,53,.02));border:2px solid rgba(255,107,53,.2);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.2);transition:all .3s ease}.movie-note-display[data-v-ecca24ce]:hover{box-shadow:0 6px 16px rgba(255,107,53,.15);transform:translateY(-2px)}.movie-note-header[data-v-ecca24ce]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,.1)}.movie-note-title[data-v-ecca24ce]{display:flex;align-items:center;gap:10px}.movie-note-title i[data-v-ecca24ce]{color:var(--accent-color);font-size:1.5em}.movie-note-title h3[data-v-ecca24ce]{margin:0;color:#fff;font-size:1.3em}.movie-note-actions[data-v-ecca24ce]{display:flex;gap:8px}.note-edit-btn[data-v-ecca24ce]{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:6px;padding:8px 12px;color:#fff;cursor:pointer;transition:all .2s ease}.note-edit-btn[data-v-ecca24ce]:hover{background:var(--accent-color);border-color:var(--accent-color);transform:scale(1.05)}.movie-note-content[data-v-ecca24ce]{color:rgba(255,255,255,.9);font-size:1.05em;line-height:1.7;white-space:pre-wrap;word-wrap:break-word;padding:15px;background:rgba(0,0,0,.2);border-radius:8px;margin-bottom:10px}.movie-note-footer[data-v-ecca24ce]{display:flex;justify-content:flex-end;align-items:center}.note-date[data-v-ecca24ce]{color:rgba(255,255,255,.5);font-size:.9em;display:flex;align-items:center;gap:6px}.note-modal .note-info[data-v-ecca24ce]{display:flex;align-items:center;gap:10px;padding:12px;background:rgba(33,150,243,.1);border:1px solid rgba(33,150,243,.3);border-radius:8px;color:rgba(255,255,255,.8);margin-bottom:15px;font-size:.95em}.note-info i[data-v-ecca24ce]{color:#2196f3;font-size:1.2em}.note-textarea[data-v-ecca24ce]{min-height:200px;font-family:inherit;line-height:1.6}.char-counter[data-v-ecca24ce]{text-align:right;color:rgba(255,255,255,.5);font-size:.85em;margin-top:-10px;margin-bottom:10px}.note-form-actions[data-v-ecca24ce]{display:flex;gap:10px;flex-wrap:wrap}.note-form-actions button[data-v-ecca24ce]{flex:1;min-width:120px;display:flex;align-items:center;justify-content:center;gap:8px}.delete-note-btn[data-v-ecca24ce]{background:rgba(239,68,68,.2);color:#ef4444;border:1px solid rgba(239,68,68,.3);padding:12px 20px;border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:1em;font-weight:600}.delete-note-btn[data-v-ecca24ce]:hover:not(:disabled){background:rgba(239,68,68,.3);border-color:rgba(239,68,68,.5);transform:scale(1.02)}.delete-note-btn[data-v-ecca24ce]:disabled{opacity:.5;cursor:not-allowed}.cancel-note-btn[data-v-ecca24ce]{background:rgba(255,255,255,.05);color:rgba(255,255,255,.7);border:1px solid rgba(255,255,255,.1);padding:12px 20px;border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:1em}.cancel-note-btn[data-v-ecca24ce]:hover{background:rgba(255,255,255,.1);color:#fff}@media(max-width:600px){.movie-note-display[data-v-ecca24ce]{margin:20px -10px;padding:15px}.movie-note-title h3[data-v-ecca24ce]{font-size:1.1em}.movie-note-content[data-v-ecca24ce]{font-size:1em;padding:12px}.note-form-actions[data-v-ecca24ce]{flex-direction:column}.note-form-actions button[data-v-ecca24ce]{width:100%;min-width:unset}}\n/*$vite$:1*/',document.head.appendChild(t);var Oe={key:0,class:"carousel-container"},Ne={class:"carousel-wrapper"},Ae=["onClick"],He=["src","alt"],Fe={class:"video-name"},De={key:0,class:"video-player"},Ve=["src"],qe={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(e,a){var t=a.emit,n=i(),o=y(()=>n.isMobile),w=e,_=t,C=l(w.activeVideoIndex),j=l(null),E=l(!1),z=l(!1),L=()=>{if(j.value){var e=j.value,a=e.scrollLeft,t=e.scrollWidth,n=e.clientWidth;E.value=a>0,z.value=a<t-n-1}},M=e=>{if(j.value){var a=j.value.querySelector(".carousel-item");if(a){var t=a.clientWidth+16;j.value.scrollBy({left:t*e,behavior:"smooth"})}}},I=()=>L(),S=l([]),P=function(){var e=s(r().m(function e(a){var t;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(`https://img.youtube.com/vi/${a}/0.jpg`);case 1:return t=e.v,e.a(2,t.ok);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}));return function(a){return e.apply(this,arguments)}}();return c(s(r().m(function e(){var a,t;return r().w(function(e){for(;;)switch(e.n){case 0:return a=w.videos.map(function(){var e=s(r().m(function e(a){var t;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,P(a.videoId);case 1:return t=e.v,e.a(2,t?a:null)}},e)}));return function(a){return e.apply(this,arguments)}}()),e.n=1,Promise.all(a);case 1:t=e.v,S.value=t.filter(Boolean),L(),window.addEventListener("resize",I);case 2:return e.a(2)}},e)}))),d(()=>w.videos,function(){var e=s(r().m(function e(a){var t,n;return r().w(function(e){for(;;)switch(e.n){case 0:return t=a.map(function(){var e=s(r().m(function e(a){var t;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,P(a.videoId);case 1:return t=e.v,e.a(2,t?a:null)}},e)}));return function(a){return e.apply(this,arguments)}}()),e.n=1,Promise.all(t);case 1:n=e.v,S.value=n.filter(Boolean);case 2:return e.a(2)}},e)}));return function(a){return e.apply(this,arguments)}}()),d(()=>w.activeVideoIndex,e=>{C.value=e}),u(()=>{window.removeEventListener("resize",I)}),(a,t)=>S.value.length?(v(),m("div",Oe,[t[4]||(t[4]=p("h2",null,"Трейлеры (YouTube)",-1)),p("div",Ne,[f(p("button",{class:"scroll-button left",onClick:t[0]||(t[0]=e=>M(-1))},[...t[2]||(t[2]=[p("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)])],512),[[g,!o.value&&E.value]]),p("div",{ref_key:"carousel",ref:j,class:"carousel",onScroll:L},[(v(!0),m(b,null,h(S.value,(e,a)=>(v(),m("div",{key:a,class:"carousel-item",onClick:e=>(e=>{C.value=e,_("select",w.videos[e])})(a)},[p("img",{src:`https://img.youtube.com/vi/${e.videoId}/0.jpg`,alt:e.name},null,8,He),p("div",Fe,x(e.name),1)],8,Ae))),128))],544),f(p("button",{class:"scroll-button right",onClick:t[1]||(t[1]=e=>M(1))},[...t[3]||(t[3]=[p("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)])],512),[[g,!o.value&&z.value]])]),null!==C.value?(v(),m("div",De,[p("iframe",{src:e.videos[C.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,Ve)])):k("",!0)])):k("",!0)}},Ye=n(qe,[["__scopeId","data-v-4a5806b3"]]),Ke={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data:()=>({activeCategory:"smileys",categories:[{name:"smileys",icon:"😀",emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳"]},{name:"emotions",icon:"😢",emojis:["😥","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲"]},{name:"gestures",icon:"👍",emojis:["👍","👎","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👏","🙌","👐","🤲","🤝","🙏","✍️","💪","🦾","🦿","🦵","🦶","👂","🦻","👃"]},{name:"hearts",icon:"❤️",emojis:["❤️","🧡","💛","💚","💙","💜","🤎","🖤","🤍","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","♥️","💯","💢","💥","💫","💦","💨","🕳️","💣","💬","👁️‍🗨️","🗨️"]},{name:"objects",icon:"🎉",emojis:["🎉","🎊","🎈","🎁","🎀","🎂","🍰","🧁","🍭","🍬","🍫","🍩","🍪","🍕","🍔","🍟","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥗","🍿","🧈","🧀","🥨","🥯"]}]}),computed:{currentEmojis(){var e=this.categories.find(e=>e.name===this.activeCategory);return e?e.emojis:[]}},methods:{selectEmoji(e){this.$emit("emoji-selected",e)}}},We={class:"emoji-categories"},Ge=["onClick"],Ze={class:"emoji-grid"},Qe=["onClick"];var Xe=n(Ke,[["render",function(e,a,t,n,o,i){return t.isVisible?(v(),m("div",{key:0,class:"emoji-picker",onMouseenter:a[1]||(a[1]=a=>e.$emit("mouse-enter")),onMouseleave:a[2]||(a[2]=a=>e.$emit("mouse-leave"))},[p("button",{class:"close-btn mobile-only",onClick:a[0]||(a[0]=a=>e.$emit("close"))},[...a[3]||(a[3]=[p("i",{class:"fas fa-times"},null,-1)])]),p("div",We,[(v(!0),m(b,null,h(o.categories,e=>(v(),m("button",{key:e.name,class:w([{active:o.activeCategory===e.name},"category-btn"]),type:"button",onClick:a=>o.activeCategory=e.name},x(e.icon),11,Ge))),128))]),p("div",Ze,[(v(!0),m(b,null,h(i.currentEmojis,e=>(v(),m("button",{key:e,class:"emoji-btn",type:"button",onClick:a=>i.selectEmoji(e)},x(e),9,Qe))),128))])],32)):k("",!0)}],["__scopeId","data-v-c92f1773"]]),Je=function(){var e=s(r().m(function e(a){var t;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,_();case 1:return t=e.v,e.n=2,a(t);case 2:return e.a(2,e.v)}},e)}));return function(a){return e.apply(this,arguments)}}(),ea=function(){var e=s(r().m(function e(a){var t,n;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Je(e=>e.get(`/search_emotes/${a}`));case 1:return t=e.v,n=t.data,e.a(2,n.emotes||[])}},e)}));return function(a){return e.apply(this,arguments)}}(),aa={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(e,a){var t=a.emit,n=l(""),o=l([]),i=l(null),c=l(!1),u=function(){var a=s(r().m(function a(t){var n;return r().w(function(a){for(;;)switch(a.p=a.n){case 0:if(e.currentUser){a.n=1;break}return console.warn("Попытка поиска изображений без авторизации"),a.a(2);case 1:if(t.trim()){a.n=2;break}return o.value=[],c.value=!1,a.a(2);case 2:return c.value=!0,a.p=3,a.n=4,ea(t);case 4:o.value=a.v,a.n=6;break;case 5:a.p=5,n=a.v,console.error("Error searching images:",n),o.value=[];case 6:return a.p=6,c.value=!1,a.f(6);case 7:return a.a(2)}},a,null,[[3,5,6,7]])}));return function(e){return a.apply(this,arguments)}}(),v=C(u,300);return d(()=>e.isVisible,e=>{e&&(n.value="",o.value=[],c.value=!1)}),{searchQuery:n,images:o,searchInput:i,isLoading:c,handleSearch:()=>{e.currentUser?(n.value.trim()&&(c.value=!0),v(n.value)):t("login-required")},selectImage:a=>{e.currentUser?(t("image-selected",a),t("close")):t("login-required")},handleInputBlur:()=>{setTimeout(()=>{e.isVisible&&t("mouse-leave")},100)}}}},ta={key:0,class:"auth-required"},na={class:"auth-message"},oa={key:1},ia={class:"image-picker-header"},ra={class:"image-content"},la={key:0,class:"loading-spinner"},ca={key:1,class:"image-grid"},sa=["onClick"],da=["src","alt"],ua={key:2,class:"no-images"},va={key:3,class:"no-search"};var ma=n(aa,[["render",function(e,a,t,n,o,i){return t.isVisible?(v(),m("div",{key:0,class:"image-picker",onMouseenter:a[7]||(a[7]=a=>e.$emit("mouse-enter")),onMouseleave:a[8]||(a[8]=a=>e.$emit("mouse-leave")),onClick:a[9]||(a[9]=E(()=>{},["stop"]))},[p("button",{class:"close-btn mobile-only",onClick:a[0]||(a[0]=a=>e.$emit("close"))},[...a[10]||(a[10]=[p("i",{class:"fas fa-times"},null,-1)])]),t.currentUser?(v(),m("div",oa,[p("div",ia,[f(p("input",{ref:"searchInput","onUpdate:modelValue":a[2]||(a[2]=e=>n.searchQuery=e),type:"text",placeholder:"Введите название смайла 7tv",class:"image-search-input",onInput:a[3]||(a[3]=function(){return n.handleSearch&&n.handleSearch(...arguments)}),onClick:a[4]||(a[4]=E(()=>{},["stop"])),onFocus:a[5]||(a[5]=a=>e.$emit("mouse-enter")),onBlur:a[6]||(a[6]=function(){return n.handleInputBlur&&n.handleInputBlur(...arguments)})},null,544),[[j,n.searchQuery]])]),p("div",ra,[n.isLoading?(v(),m("div",la,[...a[14]||(a[14]=[p("div",{class:"spinner"},null,-1),p("p",null,"Поиск изображений...",-1)])])):n.images.length>0?(v(),m("div",ca,[(v(!0),m(b,null,h(n.images,(e,a)=>(v(),m("div",{key:a,class:"image-item",onClick:a=>n.selectImage(e)},[p("img",{src:e,alt:"Image "+(a+1)},null,8,da)],8,sa))),128))])):n.searchQuery.trim()?(v(),m("div",ua,[...a[15]||(a[15]=[p("p",null,"Нет результатов",-1)])])):(v(),m("div",va,[...a[16]||(a[16]=[p("p",null,"Введите запрос для поиска",-1)])]))])])):(v(),m("div",ta,[p("div",na,[a[11]||(a[11]=p("i",{class:"fas fa-lock"},null,-1)),a[12]||(a[12]=p("h3",null,"Требуется авторизация",-1)),a[13]||(a[13]=p("p",null,"Для поиска изображений необходимо войти в аккаунт",-1)),p("button",{class:"login-button",onClick:a[1]||(a[1]=a=>e.$emit("login-required"))},"Войти")])]))],32)):k("",!0)}],["__scopeId","data-v-01784edf"]]),pa={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(e,a){var t=a.emit,n=l(""),o=l(""),i=l(null),r=l(null),c=y(()=>/^https?:\/\/.+/.test(n.value.trim())&&o.value.trim()),s=()=>{t("close"),v()},u=()=>{c.value&&(t("submit",{url:n.value.trim(),title:o.value.trim()}),s())},v=()=>{n.value="",o.value=""};return d(()=>e.isVisible,a=>{a&&(e.selectedText.trim()&&(o.value=e.selectedText.trim()),z(()=>{var e;null===(e=i.value)||void 0===e||e.focus()}))}),{linkUrl:n,linkTitle:o,urlInput:i,titleInput:r,isValidLink:c,closeModal:s,submitLink:u,handleKeydown:e=>{if("Enter"===e.key){if(e.preventDefault(),c.value)u();else if(e.target===i.value&&n.value.trim()){var a;null===(a=r.value)||void 0===a||a.focus()}}else"Escape"===e.key&&s()}}}},fa={class:"link-modal-header"},ga={class:"link-modal-content"},ba={class:"form-group"},ha={class:"form-group"},xa={class:"link-modal-footer"},ka=["disabled"];var ya=n(pa,[["render",function(e,a,t,n,o,i){return t.isVisible?(v(),m("div",{key:0,class:"link-modal-overlay",onClick:a[8]||(a[8]=function(){return n.closeModal&&n.closeModal(...arguments)})},[p("div",{class:"link-modal",onClick:a[7]||(a[7]=E(()=>{},["stop"]))},[p("div",fa,[a[10]||(a[10]=p("h3",null,"Добавить ссылку",-1)),p("button",{class:"close-button",onClick:a[0]||(a[0]=function(){return n.closeModal&&n.closeModal(...arguments)})},[...a[9]||(a[9]=[p("i",{class:"fas fa-times"},null,-1)])])]),p("div",ga,[p("div",ba,[a[11]||(a[11]=p("label",{for:"link-url"},"URL ссылки:",-1)),f(p("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":a[1]||(a[1]=e=>n.linkUrl=e),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:a[2]||(a[2]=function(){return n.handleKeydown&&n.handleKeydown(...arguments)})},null,544),[[j,n.linkUrl]])]),p("div",ha,[a[12]||(a[12]=p("label",{for:"link-title"},"Название ссылки:",-1)),f(p("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":a[3]||(a[3]=e=>n.linkTitle=e),type:"text",placeholder:"Название для отображения",class:"link-input",onKeydown:a[4]||(a[4]=function(){return n.handleKeydown&&n.handleKeydown(...arguments)})},null,544),[[j,n.linkTitle]])])]),p("div",xa,[p("button",{class:"cancel-button",onClick:a[5]||(a[5]=function(){return n.closeModal&&n.closeModal(...arguments)})},"Отмена"),p("button",{class:"submit-button",disabled:!n.isValidLink,onClick:a[6]||(a[6]=function(){return n.submitLink&&n.submitLink(...arguments)})},"Добавить",8,ka)])])])):k("",!0)}],["__scopeId","data-v-a794d83f"]]);function wa(){var e,a,t,n,o,i,r=(e=l(!1),a=l(!1),t=l(!1),n=()=>{e.value=!1},{showEmojiPicker:e,isEmojiHovered:a,isButtonHovered:t,handleEmojiMouseEnter:()=>{a.value=!0},handleEmojiMouseLeave:()=>{a.value=!1,setTimeout(()=>{a.value||t.value||(e.value=!1)},300)},handleButtonMouseEnter:()=>{t.value=!0,e.value=!0},handleButtonMouseLeave:()=>{t.value=!1,setTimeout(()=>{a.value||t.value||(e.value=!1)},300)},closeEmojiPicker:n,insertEmoji:(e,a,t,n)=>{var o=a.value;if(o){var i=o.selectionStart,r=o.selectionEnd,l=t.value.substring(0,i),c=t.value.substring(r);n(l+e+c),z(()=>{o.focus(),o.setSelectionRange(i+e.length,i+e.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)})}else n(t.value+e)},handleGlobalClick:e=>{e.target.closest(".emoji-picker")||e.target.closest(".emoji-button-inline")||n()}}),s=function(){var e=l(!1),a=l(!1),t=l(!1),n=()=>{e.value=!1};return{showImagePicker:e,isImageHovered:a,isButtonHovered:t,handleImageMouseEnter:()=>{a.value=!0},handleImageMouseLeave:()=>{a.value=!1,setTimeout(()=>{a.value||t.value||(e.value=!1)},300)},handleImageButtonMouseEnter:()=>{t.value=!0,e.value=!0},handleButtonMouseLeave:()=>{t.value=!1,setTimeout(()=>{a.value||t.value||(e.value=!1)},300)},closeImagePicker:n,insertImage:(e,a,t,n)=>{var o=a.value;if(o){var i=o.selectionStart,r=o.selectionEnd,l=`[img]${e}[/img]`;n(t.value.slice(0,i)+l+t.value.slice(r)),z(()=>{o.focus(),o.setSelectionRange(i+l.length,i+l.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)})}else{var c=`[img]${e}[/img]`;n(t.value+c)}},handleGlobalClick:e=>{e.target.closest(".image-picker")||e.target.closest(".emoji-button-inline")||n()}}}(),d=(o=l(!1),i=l(""),{showLinkModal:o,selectedTextForLink:i,insertLink:(e,a)=>{var t=e.value;if(t){var n=t.selectionStart,r=t.selectionEnd,l=a.value.slice(n,r);i.value=l.trim()||""}o.value=!0},insertLinkFromModal:(e,a,t,n)=>{var o=a.value;if(o){var i=o.selectionStart,r=o.selectionEnd,l=`[link=${e.url}]${e.title}[/link]`;n(t.value.slice(0,i)+l+t.value.slice(r)),z(()=>{o.focus(),o.setSelectionRange(i+l.length,i+l.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)})}},closeLinkModal:()=>{o.value=!1},insertSpoiler:(e,a,t)=>{var n=e.value;if(n){var o,i=n.selectionStart,r=n.selectionEnd,l=a.value.slice(i,r);o=l.trim()?`[spoiler]${l}[/spoiler]`:"[spoiler][/spoiler]",t(a.value.slice(0,i)+o+a.value.slice(r)),z(()=>{if(n.focus(),l.trim())n.setSelectionRange(i+o.length,i+o.length);else{var e=i+9;n.setSelectionRange(e,e)}n.style.height&&(n.style.height="auto",n.style.height=`${Math.min(n.scrollHeight,200)}px`)})}}}),v={autoResize:e=>{var a=null==e?void 0:e.target;a&&(a.style.height="auto",a.style.height=`${Math.min(a.scrollHeight,200)}px`)},autoResizeElement:e=>{e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,200)}px`)}},m=v.autoResize,p=v.autoResizeElement,f=()=>{r.showEmojiPicker.value=!1,s.showImagePicker.value=!1},g=e=>{e.target.closest(".emoji-picker")||e.target.closest(".image-picker")||e.target.closest(".emoji-button-inline")||f()};return c(()=>{document.addEventListener("click",g)}),u(()=>{document.removeEventListener("click",g)}),{showEmojiPicker:r.showEmojiPicker,handleEmojiMouseEnter:r.handleEmojiMouseEnter,handleEmojiMouseLeave:r.handleEmojiMouseLeave,closeEmojiPicker:r.closeEmojiPicker,showImagePicker:s.showImagePicker,handleImageMouseEnter:s.handleImageMouseEnter,handleImageMouseLeave:s.handleImageMouseLeave,closeImagePicker:s.closeImagePicker,showLinkModal:d.showLinkModal,selectedTextForLink:d.selectedTextForLink,closeLinkModal:d.closeLinkModal,handleButtonMouseEnter:()=>{r.isButtonHovered.value=!0,s.isButtonHovered.value=!0,r.showEmojiPicker.value=!0,s.showImagePicker.value=!1},handleImageButtonMouseEnter:()=>{r.isButtonHovered.value=!0,s.isButtonHovered.value=!0,s.showImagePicker.value=!0,r.showEmojiPicker.value=!1},handleButtonMouseLeave:()=>{r.isButtonHovered.value=!1,s.isButtonHovered.value=!1,setTimeout(()=>{r.isEmojiHovered.value||s.isImageHovered.value||r.isButtonHovered.value||s.isButtonHovered.value||(r.showEmojiPicker.value=!1,s.showImagePicker.value=!1)},300)},closeAllPickers:f,insertEmojiUniversal:(e,a,t,n)=>{r.insertEmoji(e,a,t,n)},insertImageUniversal:(e,a,t,n)=>{s.insertImage(e,a,t,n)},insertLinkUniversal:(e,a,t)=>{d.insertLink(e,a,t)},insertLinkFromModalUniversal:(e,a,t,n)=>{d.insertLinkFromModal(e,a,t,n)},insertSpoilerUniversal:(e,a,t)=>{d.insertSpoiler(e,a,t)},autoResize:m,autoResizeElement:p}}var _a=["data-comment-id"],Ca={class:"comment-header"},ja={class:"user-info"},Ea={class:"user-avatar"},za=["src","alt"],La={class:"user-details"},Ma={class:"username"},Ia={key:0,class:"user-rating"},Sa=["title"],Pa=["title"],Ba={class:"comment-content"},Ra={key:0,class:"hidden-comment-warning"},Ta={key:1},Ua={key:0,class:"deleted-comment"},$a={key:1},Oa={key:0,class:"edit-form"},Na={class:"edit-textarea-container"},Aa={class:"edit-footer"},Ha={class:"edit-actions"},Fa=["disabled"],Da={class:"character-counter-container"},Va={key:1,class:"comment-text-container"},qa=["innerHTML"],Ya={class:"comment-footer"},Ka={class:"comment-actions"},Wa={class:"rating-buttons"},Ga={class:"action-buttons"};var Za=n({name:"CommentItem",components:{EmojiPicker:Xe,ImagePicker:ma,LinkModal:ya},props:{comment:{type:Object,default:()=>({name:"Аноним",user_avatar:null,content:"",created_at:(new Date).toISOString(),rating:0,replies:[]})},currentUser:{type:Object,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(e,a){var t,n,o=a.emit,i=L(),u=y(()=>{var a;return e.editingCommentId===(null===(a=e.comment)||void 0===a?void 0:a.id)}),v=l((null===(t=e.comment)||void 0===t?void 0:t.content)||""),m=l((null===(n=e.comment)||void 0===n?void 0:n.user_rating)||0),p=l(null),f=l(null),g=wa(),b=g.showEmojiPicker,h=g.showImagePicker,x=g.showLinkModal,k=g.selectedTextForLink,w=g.handleEmojiMouseEnter,_=g.handleEmojiMouseLeave,C=g.handleImageMouseEnter,j=g.handleImageMouseLeave,E=g.handleButtonMouseEnter,B=g.handleImageButtonMouseEnter,R=g.handleButtonMouseLeave,T=g.closeEmojiPicker,U=g.closeImagePicker,$=g.closeLinkModal,O=g.insertEmojiUniversal,N=g.insertImageUniversal,A=g.insertLinkUniversal,H=g.insertLinkFromModalUniversal,F=g.insertSpoilerUniversal,D=g.autoResize,V=$e().formatContentWithTruncation;c(s(r().m(function a(){var t,n;return r().w(function(a){for(;;)switch(a.n){case 0:if(null===(t=e.comment)||void 0===t||!t.user_avatar){a.n=2;break}return a.n=1,M();case 1:n=a.v,p.value=`${n}${e.comment.user_avatar}`;case 2:return a.a(2)}},a)})));var q=y(()=>{var a;return e.currentUser&&(null===(a=e.comment)||void 0===a?void 0:a.user_id)===e.currentUser.id}),Y=y(()=>{var a;return e.currentUser&&(null===(a=e.comment)||void 0===a?void 0:a.user_id)===e.currentUser.id||e.currentUser&&1===e.currentUser.is_admin}),K=y(()=>{var a,t,n;return(null===(a=e.comment)||void 0===a?void 0:a.updated_at)&&(null===(t=e.comment)||void 0===t?void 0:t.updated_at)!==(null===(n=e.comment)||void 0===n?void 0:n.created_at)}),W=y(()=>{var a,t;return(null===(a=e.comment)||void 0===a||!a.is_deleted)&&((null===(t=e.comment)||void 0===t?void 0:t.rating)||0)<=-3}),G=y(()=>W.value),Z=l(!1),Q=y(()=>{var a,t;return null!==(a=e.comment)&&void 0!==a&&a.is_deleted?null:((null===(t=e.comment)||void 0===t?void 0:t.rating)||0)<=-3?"lowRating":null}),X=()=>{var a;v.value.trim()&&o("edit",null===(a=e.comment)||void 0===a?void 0:a.id,v.value.trim())},J=y(()=>{var a;return V(null===(a=e.comment)||void 0===a?void 0:a.content)}),ee=e=>{D(e)};return d(v,()=>{u.value&&f.value&&z(()=>{ee({target:f.value})})}),{isEditing:u,editContent:v,userRating:m,isCommentOwner:q,canDeleteComment:Y,isCommentEdited:K,formatDate:P,formatRelativeTime:S,startEdit:()=>{var a,t;o("start-edit",null===(a=e.comment)||void 0===a?void 0:a.id),v.value=(null===(t=e.comment)||void 0===t?void 0:t.content)||"",z(()=>{f.value&&(f.value.focus(),D({target:f.value}))})},cancelEdit:()=>{var a;o("cancel-edit"),v.value=(null===(a=e.comment)||void 0===a?void 0:a.content)||""},saveEdit:X,confirmDelete:()=>{var a;confirm("Вы уверены, что хотите удалить этот комментарий?")&&o("delete",null===(a=e.comment)||void 0===a?void 0:a.id)},rateComment:a=>{var t,n;m.value===a?(m.value=0,o("rate",null===(t=e.comment)||void 0===t?void 0:t.id,a)):(m.value=a,o("rate",null===(n=e.comment)||void 0===n?void 0:n.id,a))},avatarUrl:p,getInitials:I,handleEditKeydown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),X())},isCommentHidden:G,showHiddenComment:Z,hiddenCommentReason:Q,formattedContent:J,autoResizeEdit:ee,editTextarea:f,showEmojiPicker:b,showImagePicker:h,insertEmojiEdit:e=>{O(e,f,v,e=>{v.value=e})},insertImageEdit:e=>{N(e,f,v,e=>{v.value=e})},insertSpoilerEdit:()=>{F(f,v,e=>{v.value=e})},insertLinkEdit:()=>{A(f,v,e=>{v.value=e})},handleEmojiMouseEnter:w,handleEmojiMouseLeave:_,handleImageMouseEnter:C,handleImageMouseLeave:j,closeEmojiPicker:T,closeImagePicker:U,handleButtonMouseEnter:E,handleButtonMouseLeave:R,handleImageButtonMouseEnter:B,handleAvatarError:()=>{console.log("Avatar load error, falling back to initials"),p.value=null},handleFormattedContentClick:e=>{var a=e.target.closest(".spoiler-text");a&&a.classList.toggle("revealed")},openLogin:()=>{i.push("/login")},showLinkModal:x,selectedTextForLink:k,insertLinkFromModal:e=>{H(e,f,v,e=>{v.value=e})},closeLinkModal:$}}},[["render",function(e,a,t,n,o,i){var r,l,c,s,d,u,g,b,h,y,_,C,E,z,L,M,I,S,P,N=$("router-link"),A=$("EmojiPicker"),H=$("ImagePicker"),F=$("LinkModal");return v(),m("div",{class:"comment-item","data-comment-id":null===(r=t.comment)||void 0===r?void 0:r.id},[p("div",Ca,[p("div",ja,[B(N,{to:{path:`/lists/${null===(l=t.comment)||void 0===l?void 0:l.user_id}`},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:R(()=>{var e,o;return[p("div",Ea,[n.avatarUrl?(v(),m("img",{key:0,src:n.avatarUrl,alt:(null===(e=t.comment)||void 0===e?void 0:e.name)||"Аноним",onError:a[0]||(a[0]=function(){return n.handleAvatarError&&n.handleAvatarError(...arguments)})},null,40,za)):(v(),m("div",{key:1,class:"avatar-placeholder",style:O({display:n.avatarUrl?"none":"flex"})},x(n.getInitials((null===(o=t.comment)||void 0===o?void 0:o.name)||"Аноним")),5))])]}),_:1},8,["to"]),p("div",La,[B(N,{to:{path:`/lists/${null===(c=t.comment)||void 0===c?void 0:c.user_id}`},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:R(()=>{var e;return[p("span",Ma,x((null===(e=t.comment)||void 0===e?void 0:e.name)||"Аноним"),1)]}),_:1},8,["to"]),null!==(s=t.comment)&&void 0!==s&&s.user_movie_rating?(v(),m("span",Ia,[a[19]||(a[19]=p("i",{class:"fas fa-star"},null,-1)),T(" "+x(t.comment.user_movie_rating),1)])):k("",!0),p("span",{class:"date",title:n.isCommentEdited?`Создано: ${n.formatDate(null===(d=t.comment)||void 0===d?void 0:d.created_at)}\nИзменено: ${n.formatDate(null===(u=t.comment)||void 0===u?void 0:u.updated_at)}`:`Создано: ${n.formatDate(null===(g=t.comment)||void 0===g?void 0:g.created_at)}`},[T(x(n.formatRelativeTime(null===(b=t.comment)||void 0===b?void 0:b.created_at))+" ",1),n.isCommentEdited?(v(),m("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:n.isCommentEdited?`Создано: ${n.formatDate(null===(h=t.comment)||void 0===h?void 0:h.created_at)}\nИзменено: ${n.formatDate(null===(y=t.comment)||void 0===y?void 0:y.updated_at)}`:`Создано: ${n.formatDate(null===(_=t.comment)||void 0===_?void 0:_.created_at)}`},null,8,Pa)):k("",!0)],8,Sa)])])]),p("div",Ba,[null!==(C=t.comment)&&void 0!==C&&C.is_deleted||!n.isCommentHidden||n.showHiddenComment?(v(),m("div",Ta,[null!==(E=t.comment)&&void 0!==E&&E.is_deleted?(v(),m("div",Ua,[...a[21]||(a[21]=[p("p",{class:"deleted-message"},[p("i",{class:"fas fa-trash"}),T(" комментарий удалён ")],-1)])])):(v(),m("div",$a,[n.isEditing?(v(),m("div",Oa,[p("div",Na,[f(p("textarea",{ref:"editTextarea","onUpdate:modelValue":a[2]||(a[2]=e=>n.editContent=e),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:a[3]||(a[3]=function(){return n.handleEditKeydown&&n.handleEditKeydown(...arguments)}),onInput:a[4]||(a[4]=function(){return n.autoResizeEdit&&n.autoResizeEdit(...arguments)})},null,544),[[j,n.editContent]])]),p("div",Aa,[p("div",Ha,[p("button",{class:"cancel-button",onClick:a[5]||(a[5]=function(){return n.cancelEdit&&n.cancelEdit(...arguments)})},"Отмена"),p("button",{class:"save-button",disabled:!n.editContent.trim()||n.editContent.length>1500,onClick:a[6]||(a[6]=function(){return n.saveEdit&&n.saveEdit(...arguments)})}," Сохранить ",8,Fa)]),p("div",Da,[p("div",{class:w(["character-counter-inline",{"near-limit":n.editContent.length>1400,"at-limit":n.editContent.length>=1500}])},x(n.editContent.length)+"/1500 ",3),p("button",{type:"button",class:w(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:a[7]||(a[7]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:a[8]||(a[8]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",34),p("button",{type:"button",class:w(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:a[9]||(a[9]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:a[10]||(a[10]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},[...a[22]||(a[22]=[U('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-45c64539><g id="logo" data-v-45c64539><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-45c64539></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-45c64539></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-45c64539></path></g></svg>',1)])],34),p("button",{type:"button",title:"Добавить спойлер",class:"emoji-button-inline spoiler-button",onClick:a[11]||(a[11]=function(){return n.insertSpoilerEdit&&n.insertSpoilerEdit(...arguments)})},[...a[23]||(a[23]=[p("i",{class:"fas fa-eye-slash"},null,-1)])]),p("button",{type:"button",class:"emoji-button-inline link-button",title:"Добавить ссылку",onClick:a[12]||(a[12]=function(){return n.insertLinkEdit&&n.insertLinkEdit(...arguments)})},[...a[24]||(a[24]=[p("i",{class:"fas fa-link"},null,-1)])]),B(A,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmojiEdit,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),B(H,{"is-visible":n.showImagePicker,"current-user":t.currentUser,onImageSelected:n.insertImageEdit,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:n.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),B(F,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(v(),m("div",Va,[p("p",{class:"comment-text",onClick:a[13]||(a[13]=function(){return n.handleFormattedContentClick&&n.handleFormattedContentClick(...arguments)}),innerHTML:n.formattedContent},null,8,qa)]))]))])):(v(),m("div",Ra,["lowRating"===n.hiddenCommentReason?(v(),m("p",{key:0,class:"warning-text",onClick:a[1]||(a[1]=e=>n.showHiddenComment=!0)},[...a[20]||(a[20]=[p("i",{class:"fas fa-eye-slash"},null,-1),T(" Комментарий скрыт из-за низкого рейтинга. Нажмите, чтобы показать. ",-1)])])):k("",!0)]))]),p("div",Ya,[p("div",Ka,[p("div",Wa,[n.isCommentOwner||null!==(z=t.comment)&&void 0!==z&&z.is_deleted?k("",!0):(v(),m("button",{key:0,class:w(["rating-button",{"rated-up":1===n.userRating}]),onClick:a[14]||(a[14]=e=>n.rateComment(1))},[...a[25]||(a[25]=[p("i",{class:"fas fa-thumbs-up"},null,-1)])],2)),p("span",{class:w(["rating-count",{"rating-positive":1===n.userRating,"rating-negative":-1===n.userRating}])},x((null===(L=t.comment)||void 0===L?void 0:L.rating)||0),3),n.isCommentOwner||null!==(M=t.comment)&&void 0!==M&&M.is_deleted?k("",!0):(v(),m("button",{key:1,class:w(["rating-button",{"rated-down":-1===n.userRating}]),onClick:a[15]||(a[15]=e=>n.rateComment(-1))},[...a[26]||(a[26]=[p("i",{class:"fas fa-thumbs-down"},null,-1)])],2))]),p("div",Ga,[t.currentUser&&1!==t.currentUser.allow_comments?k("",!0):(v(),m("button",{key:0,class:"action-button reply-button",onClick:a[16]||(a[16]=a=>e.$emit("reply",t.comment))},[...a[27]||(a[27]=[p("i",{class:"fas fa-reply"},null,-1)])])),!n.isCommentOwner||null!==(I=t.comment)&&void 0!==I&&I.is_deleted||n.isEditing||1!==(null===(S=t.currentUser)||void 0===S?void 0:S.allow_comments)?k("",!0):(v(),m("button",{key:1,class:"action-button edit-button",onClick:a[17]||(a[17]=function(){return n.startEdit&&n.startEdit(...arguments)})},[...a[28]||(a[28]=[p("i",{class:"fas fa-edit"},null,-1)])])),!n.canDeleteComment||null!==(P=t.comment)&&void 0!==P&&P.is_deleted?k("",!0):(v(),m("button",{key:2,class:"action-button delete-button",onClick:a[18]||(a[18]=function(){return n.confirmDelete&&n.confirmDelete(...arguments)})},[...a[29]||(a[29]=[p("i",{class:"fas fa-trash"},null,-1)])]))])])])],8,_a)}],["__scopeId","data-v-45c64539"]]),Qa={class:"comment-thread"},Xa={key:0,class:"reply-form"},Ja={class:"textarea-container"},et=["value","placeholder","disabled"],at={class:"reply-footer"},tt={class:"reply-actions"},nt=["disabled"],ot={class:"character-counter-container"},it=["disabled"],rt={key:1,class:"replies-container"},lt=["title"],ct={class:"replies-count"},st=["title"],dt={key:0,class:"replies-content"};var ut=n({name:"CommentThread",components:{CommentItem:Za,EmojiPicker:Xe,ImagePicker:ma,LinkModal:ya},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(e,a){var t=a.emit,n=l(null),o=l(!0),i=wa(),r=i.showEmojiPicker,c=i.showImagePicker,s=i.showLinkModal,d=i.selectedTextForLink,u=i.handleEmojiMouseEnter,v=i.handleEmojiMouseLeave,m=i.handleImageMouseEnter,p=i.handleImageMouseLeave,f=i.handleButtonMouseEnter,g=i.handleImageButtonMouseEnter,b=i.handleButtonMouseLeave,h=i.closeEmojiPicker,x=i.closeImagePicker,k=i.closeLinkModal,y=i.insertEmojiUniversal,w=i.insertImageUniversal,_=i.insertLinkUniversal,C=i.insertLinkFromModalUniversal,j=i.insertSpoilerUniversal,E={get value(){return e.replyContent},set value(e){t("update-reply-content",e)}};return{replyTextarea:n,showEmojiPicker:r,showImagePicker:c,isCollapsed:o,insertEmoji:e=>{y(e,n,E,e=>{t("update-reply-content",e)})},insertImage:e=>{w(e,n,E,e=>{t("update-reply-content",e)})},insertSpoiler:()=>{j(n,E,e=>{t("update-reply-content",e)})},handleEmojiMouseEnter:u,handleEmojiMouseLeave:v,handleImageMouseEnter:m,handleImageMouseLeave:p,handleButtonMouseEnter:f,handleButtonMouseLeave:b,closeEmojiPicker:h,closeImagePicker:x,handleImageButtonMouseEnter:g,handleReplyInput:e=>{t("update-reply-content",e.target.value);var a=e.target;a&&(a.style.height="auto",a.style.height=`${Math.min(a.scrollHeight,200)}px`)},toggleCollapsed:()=>{o.value=!o.value},showLinkModal:s,selectedTextForLink:d,insertLink:()=>{_(n,E,e=>{t("update-reply-content",e)})},closeLinkModal:k,insertLinkFromModal:e=>{C(e,n,E,e=>{t("update-reply-content",e)})}}},computed:{canReply(){return!this.currentUser||1===this.currentUser.allow_comments},getReplyPlaceholder(){return this.currentUser?1!==this.currentUser.allow_comments?"У вас нет прав на создание комментариев":"Напишите ваш ответ...":"Войдите, чтобы оставить ответ..."},formattedContent(){return(0,$e().formatContent)(this.comment.content)}}},[["render",function(e,a,t,n,o,i){var r=$("CommentItem"),l=$("EmojiPicker"),c=$("ImagePicker"),s=$("LinkModal"),d=$("CommentThread",!0);return v(),m("div",Qa,[B(r,{comment:t.comment,"current-user":t.currentUser,"editing-comment-id":t.editingCommentId,onReply:a[0]||(a[0]=a=>e.$emit("reply",a)),onStartEdit:a[1]||(a[1]=a=>e.$emit("start-edit",a)),onCancelEdit:a[2]||(a[2]=a=>e.$emit("cancel-edit")),onEdit:a[3]||(a[3]=(a,t)=>e.$emit("edit",a,t)),onDelete:a[4]||(a[4]=a=>e.$emit("delete",a)),onRate:a[5]||(a[5]=(a,t)=>e.$emit("rate",a,t))},null,8,["comment","current-user","editing-comment-id"]),t.replyTo&&t.replyTo.id===t.comment.id?(v(),m("div",Xa,[p("div",Ja,[p("textarea",{ref:"replyTextarea",class:"comment-textarea",value:t.replyContent,placeholder:i.getReplyPlaceholder,disabled:t.currentUser&&1!==t.currentUser.allow_comments,rows:"3",maxlength:"1500",onInput:a[6]||(a[6]=function(){return n.handleReplyInput&&n.handleReplyInput(...arguments)}),onKeydown:a[7]||(a[7]=a=>e.$emit("reply-keydown",a))},null,40,et)]),p("div",at,[p("div",tt,[p("button",{class:"cancel-reply",onClick:a[8]||(a[8]=a=>e.$emit("cancel-reply"))},"Отмена"),p("button",{class:"submit-button",disabled:!t.replyContent.trim()||t.replyContent.length>1500||t.currentUser&&1!==t.currentUser.allow_comments,onClick:a[9]||(a[9]=a=>e.$emit("submit-reply"))}," Ответить ",8,nt)]),p("div",ot,[p("div",{class:w(["character-counter-inline",{"near-limit":t.replyContent.length>1400,"at-limit":t.replyContent.length>=1500}])},x(t.replyContent.length)+"/1500 ",3),p("button",{type:"button",class:w(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:a[10]||(a[10]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:a[11]||(a[11]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",34),p("button",{type:"button",class:w(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:a[12]||(a[12]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:a[13]||(a[13]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},[...a[29]||(a[29]=[U('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-597bf6f3><g id="logo" data-v-597bf6f3><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-597bf6f3></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-597bf6f3></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-597bf6f3></path></g></svg>',1)])],34),p("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:t.currentUser&&1!==t.currentUser.allow_comments,title:"Добавить спойлер",onClick:a[14]||(a[14]=function(){return n.insertSpoiler&&n.insertSpoiler(...arguments)})},[...a[30]||(a[30]=[p("i",{class:"fas fa-eye-slash"},null,-1)])],8,it),p("button",{type:"button",class:"emoji-button-inline link-button",title:"Добавить ссылку",onClick:a[15]||(a[15]=function(){return n.insertLink&&n.insertLink(...arguments)})},[...a[31]||(a[31]=[p("i",{class:"fas fa-link"},null,-1)])]),B(l,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),B(c,{"is-visible":n.showImagePicker,"current-user":t.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:a[16]||(a[16]=()=>e.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),B(s,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):k("",!0),t.comment.replies&&t.comment.replies.length>0?(v(),m("div",rt,[p("button",{class:"collapse-toggle",title:n.isCollapsed?"Развернуть ответы":"Свернуть ответы",onClick:a[17]||(a[17]=function(){return n.toggleCollapsed&&n.toggleCollapsed(...arguments)})},[p("span",{class:w(["collapse-icon",{expanded:!n.isCollapsed}])},[...a[32]||(a[32]=[p("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[p("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)])],2),p("span",ct,x(t.comment.replies.length)+" "+x(1===t.comment.replies.length?"ответ":"ответов"),1)],8,lt),p("div",{class:"vertical-line-clickable",title:n.isCollapsed?"Развернуть ответы":"Свернуть ответы",onClick:a[18]||(a[18]=function(){return n.toggleCollapsed&&n.toggleCollapsed(...arguments)})},[p("div",{class:w(["vertical-line-visual",{collapsed:n.isCollapsed}])},null,2)],8,st),n.isCollapsed?k("",!0):(v(),m("div",dt,[(v(!0),m(b,null,h(t.comment.replies,n=>(v(),N(d,{key:n.id,comment:n,"current-user":t.currentUser,"reply-to":t.replyTo,"reply-content":t.replyContent,"editing-comment-id":t.editingCommentId,onReply:a[19]||(a[19]=a=>e.$emit("reply",a)),onStartEdit:a[20]||(a[20]=a=>e.$emit("start-edit",a)),onCancelEdit:a[21]||(a[21]=a=>e.$emit("cancel-edit")),onEdit:a[22]||(a[22]=(a,t)=>e.$emit("edit",a,t)),onDelete:a[23]||(a[23]=a=>e.$emit("delete",a)),onRate:a[24]||(a[24]=(a,t)=>e.$emit("rate",a,t)),onSubmitReply:a[25]||(a[25]=a=>e.$emit("submit-reply")),onCancelReply:a[26]||(a[26]=a=>e.$emit("cancel-reply")),onUpdateReplyContent:a[27]||(a[27]=a=>e.$emit("update-reply-content",a)),onReplyKeydown:a[28]||(a[28]=a=>e.$emit("reply-keydown",a))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):k("",!0)])}],["__scopeId","data-v-597bf6f3"]]);var vt={name:"Comments",components:{CommentThread:ut,Notification:Te,EmojiPicker:Xe,ImagePicker:ma,LinkModal:ya},props:{movieId:{type:[String,Number],required:!0}},setup(e){var a=A(),t=L(),n=i(),d=l([]),u=l(""),v=l(null),m=l(""),p=l(null),f=l(a.user),g=l(null),b=l(null),h=l(n.isAutoShowComments),x=l(!1),k=l(3),w=l(n.commentsSortBy),_=l("date"===w.value?"asc":"desc"),C=function(e,a){var t=function(a){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null===(t=e.value)||void 0===t||t.showNotification(a,n,o)};return{notify:t,notifyAuthRequired:()=>{t('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:a})}}}(g,()=>{t.push("/login")}),j=C.notify,E=C.notifyAuthRequired,M=wa(),I=M.showEmojiPicker,S=M.showImagePicker,P=M.showLinkModal,B=M.selectedTextForLink,R=M.handleEmojiMouseEnter,T=M.handleEmojiMouseLeave,U=M.handleImageMouseEnter,$=M.handleImageMouseLeave,O=M.handleButtonMouseEnter,N=M.handleImageButtonMouseEnter,K=M.handleButtonMouseLeave,W=M.closeEmojiPicker,G=M.closeImagePicker,Z=M.closeLinkModal,Q=M.insertEmojiUniversal,X=M.insertImageUniversal,J=M.insertLinkUniversal,ee=M.insertLinkFromModalUniversal,ae=M.insertSpoilerUniversal,te=M.autoResize,ne=y(()=>{var e=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=d.value.filter(e=>e.parent_id===a).filter(e=>!e.is_deleted||e.replies&&e.replies.length>0);return(null===a?t.sort((e,a)=>{if("rating"===w.value){var t=e.rating||0,n=a.rating||0;return t!==n?"asc"===_.value?t-n:n-t:e.id-a.id}return"asc"===_.value?e.id-a.id:a.id-e.id}):t.sort((e,a)=>e.id-a.id)).map(a=>o(o({},a),{},{replies:e(a.id)}))};return e()}),oe=y(()=>{var e=a=>a.reduce((a,t)=>a+1+e(t.replies||[]),0);return e(ne.value)}),ie=y(()=>ne.value.slice(0,k.value)),re=y(()=>ne.value.length>k.value),le=y(()=>ne.value.length-k.value),ce=function(){var a=s(r().m(function a(){var t,n;return r().w(function(a){for(;;)switch(a.p=a.n){case 0:return a.p=0,a.n=1,F(e.movieId);case 1:t=a.v,d.value=t,a.n=3;break;case 2:a.p=2,n=a.v,console.error("Failed to load comments:",n),j("Ошибка при загрузке комментариев. Попробуйте обновить страницу.");case 3:return a.a(2)}},a,null,[[0,2]])}));return function(){return a.apply(this,arguments)}}(),se=function(){var t=s(r().m(function t(){var n;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!x.value){t.n=1;break}return t.a(2);case 1:if(a.token){t.n=2;break}return E(),t.a(2);case 2:if(!f.value||1===f.value.allow_comments){t.n=3;break}return j("У вас нет прав на создание комментариев"),t.a(2);case 3:if(u.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){t.n=4;break}return j("Комментарий не может быть пустым"),t.a(2);case 4:if(!(u.value.length>1500)){t.n=5;break}return j("Комментарий слишком длинный. Максимум 1500 символов."),t.a(2);case 5:return t.p=5,t.n=6,Y(e.movieId,u.value.trim());case 6:return u.value="",t.n=7,ce();case 7:h.value=!0,z(()=>{b.value&&(b.value.focus(),b.value.style.height="auto"),setTimeout(()=>{var e=document.querySelectorAll(".comment-item[data-comment-id]");if(e.length>0){var a=Array.from(e).map(e=>parseInt(e.getAttribute("data-comment-id"))).filter(e=>!isNaN(e));if(a.length>0){var t=Math.max(...a),n=document.querySelector(`[data-comment-id="${t}"]`);n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)}),t.n=9;break;case 8:t.p=8,n=t.v,console.error("Failed to create comment:",n),j("Ошибка при создании комментария. Попробуйте еще раз.");case 9:return t.a(2)}},t,null,[[5,8]])}));return function(){return t.apply(this,arguments)}}(),de=function(){var t=s(r().m(function t(){var n,o;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:if(a.token){t.n=1;break}return E(),t.a(2);case 1:if(!f.value||1===f.value.allow_comments){t.n=2;break}return j("У вас нет прав на создание комментариев"),t.a(2);case 2:if(m.value.trim()&&v.value){t.n=3;break}return t.a(2);case 3:if(!(m.value.length>1500)){t.n=4;break}return j("Ответ слишком длинный. Максимум 1500 символов."),t.a(2);case 4:return t.p=4,t.n=5,Y(e.movieId,m.value.trim(),v.value.id);case 5:return n=v.value.id,t.n=6,ce();case 6:m.value="",v.value=null,z(()=>{setTimeout(()=>{var e=document.querySelector(`[data-comment-id="${n}"]`);if(e){var a=e.querySelector(".replies-content");if(a){var t=a.querySelectorAll(".comment-item[data-comment-id]");if(t.length>0){var o=Array.from(t).map(e=>parseInt(e.getAttribute("data-comment-id"))).filter(e=>!isNaN(e));if(o.length>0){var i=Math.max(...o),r=document.querySelector(`[data-comment-id="${i}"]`);r&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)}),t.n=8;break;case 7:t.p=7,o=t.v,console.error("Error submitting reply:",o),j("Ошибка при отправке ответа. Попробуйте еще раз.");case 8:return t.a(2)}},t,null,[[4,7]])}));return function(){return t.apply(this,arguments)}}(),ue=function(){var e=s(r().m(function e(t,n){var o;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.token){e.n=1;break}return E(),e.a(2);case 1:if(!f.value||1===f.value.allow_comments){e.n=2;break}return j("У вас нет прав на редактирование комментариев"),e.a(2);case 2:if(!(n.length>1500)){e.n=3;break}return j("Комментарий слишком длинный. Максимум 1500 символов."),e.a(2);case 3:return e.p=3,e.n=4,q(t,n.trim());case 4:return e.n=5,ce();case 5:p.value=null,e.n=7;break;case 6:e.p=6,o=e.v,console.error("Failed to update comment:",o),j("Ошибка при редактировании комментария. Попробуйте еще раз.");case 7:return e.a(2)}},e,null,[[3,6]])}));return function(a,t){return e.apply(this,arguments)}}(),ve=function(){var e=s(r().m(function e(t){var n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.token){e.n=1;break}return E(),e.a(2);case 1:return e.p=1,e.n=2,V(t);case 2:return e.n=3,ce();case 3:e.n=5;break;case 4:e.p=4,n=e.v,console.error("Failed to delete comment:",n),j("Ошибка при удалении комментария. Попробуйте еще раз.");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(a){return e.apply(this,arguments)}}(),me=function(){var e=s(r().m(function e(t,n){var o;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.token){e.n=1;break}return E(),e.a(2);case 1:return e.p=1,e.n=2,D(t,n);case 2:return e.n=3,ce();case 3:e.n=5;break;case 4:e.p=4,o=e.v,console.error("Failed to rate comment:",o),j("Ошибка при оценке комментария. Попробуйте еще раз.");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(a,t){return e.apply(this,arguments)}}(),pe=y(()=>f.value?1!==f.value.allow_comments?"У вас нет прав на создание комментариев":"Напишите комментарий...":"Войдите, чтобы оставить комментарий..."),fe=y(()=>!f.value||1===f.value.allow_comments);return c(()=>{ce()}),{comments:d,groupedComments:ne,displayedComments:ie,hasMoreComments:re,remainingCommentsCount:le,showMoreComments:()=>{k.value=ne.value.length},sortBy:w,setSortBy:e=>{w.value===e?_.value="asc"===_.value?"desc":"asc":(w.value=e,_.value="date"===e?"asc":"desc",n.setCommentsSortBy(e))},sortDirection:_,newComment:u,replyTo:v,replyContent:m,editingCommentId:p,currentUser:f,notificationRef:g,commentTextarea:b,showComments:h,submitComment:se,handleReply:e=>{a.token?(p.value=null,v.value=e,m.value="",z(()=>{var e=document.querySelector(".reply-form");e&&e.scrollIntoView({behavior:"smooth",block:"center"})})):E()},submitReply:de,handleEdit:ue,handleDelete:ve,handleRate:me,handleCommentKeydown:e=>{x.value||I.value||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),se())},handleReplyKeydown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),de())},autoResize:te,totalCommentsCount:oe,getCommentWordForm:H,showEmojiPicker:I,showImagePicker:S,showLinkModal:P,selectedTextForLink:B,insertEmoji:e=>{x.value=!0,Q(e,b,u,e=>{u.value=e}),setTimeout(()=>{x.value=!1},100)},insertImage:e=>{X(e,b,u,e=>{u.value=e})},handleEmojiMouseEnter:R,handleEmojiMouseLeave:T,handleImageMouseEnter:U,handleImageMouseLeave:$,closeEmojiPicker:W,closeImagePicker:G,handleButtonMouseLeave:K,handleButtonMouseEnter:O,handleImageButtonMouseEnter:N,getCommentPlaceholder:pe,canComment:fe,handleStartEdit:e=>{v.value=null,m.value="",p.value=e},handleCancelEdit:()=>{p.value=null},insertSpoiler:()=>{ae(b,u,e=>{u.value=e})},insertLink:()=>{J(b,u,e=>{u.value=e})},insertLinkFromModal:e=>{ee(e,b,u,e=>{u.value=e})},closeLinkModal:Z}}},mt={class:"comments-section"},pt={class:"spoiler-content"},ft={key:1,class:"comments-container"},gt={class:"comments-header"},bt={class:"comments-controls"},ht={class:"textarea-container"},xt=["placeholder","disabled"],kt={class:"comment-footer"},yt={class:"comment-actions"},wt=["disabled"],_t={class:"character-counter-container"},Ct=["disabled"],jt=["disabled"],Et=["disabled"],zt={class:"comments-list"},Lt={key:0,class:"show-more-comments"};var Mt=n(vt,[["render",function(e,a,t,n,o,i){var r=$("EmojiPicker"),l=$("ImagePicker"),c=$("LinkModal"),s=$("CommentThread"),d=$("Notification");return v(),m("div",mt,[n.showComments?(v(),m("div",ft,[p("div",gt,[p("div",bt,[p("button",{class:w(["sort-button",{active:"date"===n.sortBy}]),title:"Сортировать по дате",onClick:a[1]||(a[1]=e=>n.setSortBy("date"))},[a[20]||(a[20]=p("i",{class:"fas fa-clock"},null,-1)),a[21]||(a[21]=T(" По дате ",-1)),"date"===n.sortBy?(v(),m("i",{key:0,class:w(["fas","asc"===n.sortDirection?"fa-arrow-up":"fa-arrow-down"])},null,2)):k("",!0)],2),p("button",{class:w(["sort-button",{active:"rating"===n.sortBy}]),title:"Сортировать по рейтингу",onClick:a[2]||(a[2]=e=>n.setSortBy("rating"))},[a[22]||(a[22]=p("i",{class:"fas fa-thumbs-up"},null,-1)),a[23]||(a[23]=T(" По рейтингу ",-1)),"rating"===n.sortBy?(v(),m("i",{key:0,class:w(["fas","asc"===n.sortDirection?"fa-arrow-up":"fa-arrow-down"])},null,2)):k("",!0)],2)]),p("button",{class:"hide-comments-btn",onClick:a[3]||(a[3]=e=>n.showComments=!1)},[...a[24]||(a[24]=[p("i",{class:"fas fa-eye-slash"},null,-1),T(" Скрыть комментарии ",-1)])])]),p("form",{class:"comment-form",onSubmit:a[13]||(a[13]=E(function(){return n.submitComment&&n.submitComment(...arguments)},["prevent"]))},[p("div",ht,[f(p("textarea",{ref:"commentTextarea","onUpdate:modelValue":a[4]||(a[4]=e=>n.newComment=e),class:"comment-textarea",placeholder:n.getCommentPlaceholder,disabled:n.currentUser&&1!==n.currentUser.allow_comments,rows:"3",maxlength:"1500",onInput:a[5]||(a[5]=function(){return n.autoResize&&n.autoResize(...arguments)}),onKeydown:a[6]||(a[6]=function(){return n.handleCommentKeydown&&n.handleCommentKeydown(...arguments)})},null,40,xt),[[j,n.newComment]])]),p("div",kt,[p("div",yt,[p("button",{class:"submit-button",type:"submit",disabled:!n.newComment.trim()||n.newComment.length>1500||n.currentUser&&1!==n.currentUser.allow_comments}," Отправить ",8,wt)]),p("div",_t,[p("div",{class:w(["character-counter-inline",{"near-limit":n.newComment.length>1400,"at-limit":n.newComment.length>=1500}])},x(n.newComment.length)+"/1500 ",3),p("button",{type:"button",class:w(["emoji-button-inline",{active:n.showEmojiPicker}]),disabled:n.currentUser&&1!==n.currentUser.allow_comments,onMouseenter:a[7]||(a[7]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:a[8]||(a[8]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",42,Ct),p("button",{type:"button",class:w(["emoji-button-inline",{active:n.showImagePicker}]),disabled:n.currentUser&&1!==n.currentUser.allow_comments,onMouseenter:a[9]||(a[9]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:a[10]||(a[10]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},[...a[25]||(a[25]=[U('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-d87a073c><g id="logo" data-v-d87a073c><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-d87a073c></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-d87a073c></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-d87a073c></path></g></svg>',1)])],42,jt),p("button",{type:"button",title:"Добавить спойлер",class:"emoji-button-inline spoiler-button",disabled:n.currentUser&&1!==n.currentUser.allow_comments,onClick:a[11]||(a[11]=function(){return n.insertSpoiler&&n.insertSpoiler(...arguments)})},[...a[26]||(a[26]=[p("i",{class:"fas fa-eye-slash"},null,-1)])],8,Et),p("button",{type:"button",title:"Добавить ссылку",class:"emoji-button-inline link-button",onClick:a[12]||(a[12]=function(){return n.insertLink&&n.insertLink(...arguments)})},[...a[27]||(a[27]=[p("i",{class:"fas fa-link"},null,-1)])]),B(r,{"is-visible":n.showEmojiPicker&&n.canComment,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),B(l,{"is-visible":n.showImagePicker&&n.canComment,"current-user":n.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:e.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),B(c,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),p("div",zt,[(v(!0),m(b,null,h(n.displayedComments,e=>(v(),N(s,{key:e.id,comment:e,"current-user":n.currentUser,"reply-to":n.replyTo,"reply-content":n.replyContent,"editing-comment-id":n.editingCommentId,"is-first-comment":!1,onReply:n.handleReply,onStartEdit:n.handleStartEdit,onCancelEdit:n.handleCancelEdit,onEdit:n.handleEdit,onDelete:n.handleDelete,onRate:n.handleRate,onSubmitReply:n.submitReply,onCancelReply:a[14]||(a[14]=e=>n.replyTo=null),onUpdateReplyContent:a[15]||(a[15]=e=>n.replyContent=e),onReplyKeydown:n.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),n.hasMoreComments?(v(),m("div",Lt,[p("button",{class:"show-more-btn",onClick:a[16]||(a[16]=function(){return n.showMoreComments&&n.showMoreComments(...arguments)})}," Показать еще "+x(n.remainingCommentsCount)+" "+x(n.getCommentWordForm(n.remainingCommentsCount)),1)])):k("",!0)])])):(v(),m("div",{key:0,class:"spoiler-warning",onClick:a[0]||(a[0]=e=>n.showComments=!0)},[p("div",pt,[a[17]||(a[17]=p("i",{class:"fas fa-eye-slash"},null,-1)),a[18]||(a[18]=p("h3",null,"Комментарии скрыты",-1)),a[19]||(a[19]=p("p",null,"Комментарии могут содержать спойлеры. Нажмите, чтобы показать.",-1)),p("div",{class:w(["comments-count",{"no-comments":0===n.totalCommentsCount}])},[0===n.totalCommentsCount?(v(),m(b,{key:0},[T(" Комментариев пока нет ")],64)):(v(),m(b,{key:1},[T(x(n.totalCommentsCount)+" "+x(n.getCommentWordForm(n.totalCommentsCount)),1)],64))],2)])])),B(d,{ref:"notificationRef"},null,512)])}],["__scopeId","data-v-d87a073c"]]),It={class:"movie-info"},St={class:"content"},Pt={key:0,class:"content-card"},Bt={class:"movie-skeleton"},Rt={class:"movie-skeleton__player"},Tt={key:2,class:"content-card"},Ut={key:3,class:"content-card"},$t={class:"content-header"},Ot=["src"],Nt={class:"content-title"},At={key:0,class:"ratings-links"},Ht={key:1},Ft=["href","title"],Dt={key:2},Vt=["href","title"],qt={key:3},Yt=["href","title"],Kt={key:4},Wt=["href","title"],Gt={key:5},Zt=["href"],Qt={class:"action-buttons-group"},Xt=["title"],Jt={key:0,class:"fa-regular fa-face-grin-wink"},en={key:1,class:"fas fa-spinner fa-spin"},an=["title"],tn=["title"],nn={key:1,class:"mobile-list-dropdown"},on={class:"mobile-list-content"},rn=["content"],ln=["content"],cn={class:"additional-info"},sn={class:"info-content"},dn={key:0,class:"movie-poster-container desktop-only"},un=["href"],vn=["src"],mn={class:"details-container"},pn={class:"info-list"},fn={key:0},gn={key:1},bn={key:2},hn={key:3},xn={key:4},kn={key:5},yn={key:6},wn={key:7},_n={key:8},Cn={key:9,class:"rating-boxes"},jn={key:0,class:"rating-box mpaa"},En={key:1,class:"rating-box age"},zn={class:"content-info"},Ln={key:0,class:"content-description-text"},Mn={key:3,class:"movie-note-display"},In={class:"movie-note-content"},Sn={class:"movie-note-footer"},Pn={class:"note-date"},Bn={key:4,class:"comments-section"},Rn={key:5,class:"staff-section"},Tn={class:"staff-categories"},Un={key:0,class:"staff-category"},$n={class:"staff-list"},On=["href","title"],Nn=["src","alt"],An={class:"staff-name"},Hn={key:0,class:"staff-role"},Fn=["href","title"],Dn={key:1,class:"staff-category"},Vn={class:"staff-names-container"},qn={class:"staff-names-list"},Yn=["href"],Kn=["href","title"],Wn={key:2,class:"staff-category"},Gn={class:"staff-names-container"},Zn={class:"staff-names-list"},Qn=["href"],Xn=["href","title"],Jn={key:6,class:"yt-video-container"},eo={key:7,class:"related-movies"},ao=["title"],to={key:8,class:"related-movies"},no=["title"],oo={key:0,class:"nudity-info-popup"},io={class:"nudity-info-content"},ro={key:0,class:"nudity-info-loading"},lo={key:1},co={class:"nudity-info-actions"},so=["href"],uo={key:1,class:"nudity-info-popup"},vo={class:"nudity-info-content"},mo={class:"timings-text"},po={key:0,class:"timing-entries"},fo={class:"timing-content"},go={class:"timing-header-row",style:{display:"flex","align-items":"center",gap:"8px"}},bo={key:0,class:"pending-badge"},ho={key:1,class:"clean-text-badge"},xo={key:2,class:"highly-rated-badge"},ko={key:3,class:"top-rated-badge"},yo={class:"timing-actions-row",style:{display:"flex","align-items":"center",gap:"8px","margin-top":"8px"}},wo=["onClick"],_o=["onClick"],Co=["onClick"],jo=["onClick"],Eo=["onClick"],zo=["onClick"],Lo={class:"timing-text"},Mo={class:"timing-author"},Io=["title"],So={class:"timing-vote-container"},Po=["disabled","onClick"],Bo={class:"vote-count"},Ro=["disabled","onClick"],To={class:"vote-count"},Uo={key:0,style:{color:"#fff","font-size":"13px",margin:"4px 0 0 0"}},$o={key:0},Oo={key:1},No={key:1},Ao={key:0,class:"general-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Ho={style:{margin:"0 0 10px 0",color:"#fff"}},Fo={style:{color:"#fff","font-size":"13px"}},Do={key:0},Vo={key:1},qo={key:1,class:"overlay-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Yo={style:{margin:"0 0 10px 0",color:"#fff"}},Ko={style:{color:"#fff","font-size":"13px"}},Wo={key:0},Go={key:1},Zo={class:"nudity-info-actions"},Qo={key:2,class:"timing-modal"},Xo={class:"timing-modal-content"},Jo={class:"timing-modal-header"},ei={class:"timing-submission-form"},ai={key:0,class:"timing-preview"},ti={class:"timing-preview-content"},ni={class:"timing-preview-range"},oi={class:"timing-preview-duration"},ii={class:"timing-form-actions"},ri=["disabled"],li={key:0,class:"fas fa-spinner fa-spin"},ci={key:1},si={key:3,class:"timing-modal"},di={class:"timing-modal-content"},ui={class:"timing-submission-form"},vi={class:"timing-form-actions"},mi=["disabled"],pi={key:0,class:"fas fa-spinner fa-spin"},fi={key:1},gi={key:4,class:"timing-modal note-modal"},bi={class:"timing-modal-content"},hi={class:"timing-modal-header"},xi={class:"timing-submission-form"},ki={class:"char-counter"},yi={class:"timing-form-actions note-form-actions"},wi=["disabled"],_i={key:0,class:"fas fa-spinner fa-spin"},Ci={key:1,class:"fas fa-save"},ji=["disabled"],Ei={key:0,class:"fas fa-spinner fa-spin"},zi={key:1,class:"fas fa-trash"},Li={class:"modal-header"},Mi={class:"modal-header-controls"},Ii={class:"modal-body"},Si=["disabled"],Pi={key:0,class:"fas fa-spinner fa-spin"},Bi={key:1,class:"fas fa-list"},Ri={class:"top-submitters-list"},Ti={class:"submitter-info"},Ui={class:"submitter-name"},$i=["href"],Oi={class:"submitter-count"},Ni={class:"submitter-contribution"},Ai={class:"modal-header"},Hi={class:"modal-body"},Fi={key:0,class:"loading-spinner"},Di={key:1,class:"no-timings"},Vi={key:2,class:"no-timings"},qi={key:3,class:"all-timings-list"},Yi={class:"timing-header"},Ki={class:"timing-meta"},Wi={class:"timing-author"},Gi={class:"timing-date"},Zi={class:"timing-movie-info"},Qi={key:0,class:"admin-controls"},Xi=["disabled","onClick"],Ji={key:0,class:"fas fa-spinner fa-spin"},er={key:1,class:"fas fa-check"},ar=["disabled","onClick"],tr={key:0,class:"fas fa-spinner fa-spin"},nr={key:1,class:"fas fa-times"},or=["disabled","onClick"],ir={key:0,class:"fas fa-spinner fa-spin"},rr={key:1,class:"fas fa-eye-slash"},lr={class:"timing-content"},cr={class:"timing-text"},sr={key:7,class:"timing-modal obs-modal"},dr={class:"timing-modal-content obs-modal-content"},ur={class:"timing-modal-header"},vr={class:"obs-settings-form"},mr={class:"obs-setting-group"},pr={class:"obs-checkbox-label"},fr={key:0,class:"obs-connection-settings"},gr={class:"obs-setting-group"},br={class:"obs-setting-group"},hr={class:"obs-setting-group"},xr={key:0,class:"obs-setting-group"},kr={key:0,class:"obs-warning"},yr={key:1,class:"obs-filter-selection"},wr=["value"],_r={key:0,class:"selected-filter-info"},Cr={class:"filter-details"},jr={class:"obs-info"},Er={class:"obs-setting-group"},zr={class:"obs-checkbox-label"},Lr={class:"obs-actions"},Mr=["disabled"],Ir={key:0,class:"fas fa-spinner fa-spin"},Sr={key:1,class:"fas fa-plug"},Pr=["disabled"],Br=["disabled"],Rr={__name:"MovieInfo",setup(e){var t=l(!0),n=i(),u=A(),_=K(),C=Re(),z=ne(),M=L(),I=l(z.params.kp_id),S=l(""),H=l(null),F=l(null),D=W(),V=Ue(),q=l(null),Y=y(()=>V.areTrailersActive),$e=l(null),Oe=l(!1),Ne=l(!1),Ae=l(10),He=l(null),Fe=l(!1),De=l(null),Ve=l(!1),qe=l(void 0),Ke=l(null),We=l(new Set),Ge=l(new Set),Ze=l(!1),Qe=l(!1),Xe=l(null),Je=l(!1),ea=l(null),aa=l(!1),ta=l(""),na=l(!1),oa=l(!1),ia=y(()=>qe.value&&Array.isArray(qe.value)?[...qe.value].sort((e,a)=>{var t=e.voteScore||0,n=a.voteScore||0;if(n!==t)return n-t;var o=e.upvotes||0,i=a.upvotes||0;return i!==o?i-o:e.id-a.id}):[]),ra=y(()=>{var e;return Array.isArray(null===(e=F.value)||void 0===e?void 0:e.nudity_timings)&&F.value.nudity_timings.length>0}),la=y(()=>{var e;return Array.isArray(null===(e=F.value)||void 0===e?void 0:e.nudity_timings)&&F.value.nudity_timings.length>0&&n.isStreamerMode&&!n.isMobile}),ca=y(()=>{var e,a,t,n,o;return(null===(e=F.value)||void 0===e||null===(e=e.lists)||void 0===e?void 0:e.isFavorite)||(null===(a=F.value)||void 0===a||null===(a=a.lists)||void 0===a?void 0:a.isWatching)||(null===(t=F.value)||void 0===t||null===(t=t.lists)||void 0===t?void 0:t.isLater)||(null===(n=F.value)||void 0===n||null===(n=n.lists)||void 0===n?void 0:n.isCompleted)||(null===(o=F.value)||void 0===o||null===(o=o.lists)||void 0===o?void 0:o.isAbandoned)}),sa=y(()=>n.isCommentsEnabled),da=()=>{if(F.value){var e=F.value.name_ru||F.value.name_en||F.value.name_original||"Информация о фильме";document.title=e}},ua=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",va=e=>(e||[]).map(e=>({kp_id:e.film_id,poster:e.poster_url_preview||e.poster_url,title:e.name_ru||e.name_en||e.name_original})),ma=e=>{if("number"==typeof e)return`${Math.floor(e/60)} ч. ${e%60} мин.`},pa=l(!1),fa=l({top:"0px",left:"0px"}),ga=e=>{pa.value=!0,fa.value={top:`${e.pageY+10}px`,left:e.pageX-70+"px"}},ba=function(){var e=s(r().m(function e(){var a,t;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,a=[F.value.name_ru||F.value.name_en||F.value.name_original,...F.value.year?[F.value.year]:[],...F.value.film_length?[ma(F.value.film_length)]:[]],e.n=1,navigator.clipboard.writeText(a.join(", "));case 1:q.value.showNotification("Скопировано"),e.n=3;break;case 2:e.p=2,t=e.v,console.error("Ошибка копирования:",t);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ha=function(){var e=s(r().m(function e(){var a,t,i,l,c,s,d,v,m,p,f,g,b,h,x,k,w,C,j=arguments;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=!(j.length>0&&void 0!==j[0])||j[0],e.p=1,!I.value.startsWith("shiki")){e.n=3;break}return e.n=2,oe(I.value);case 2:p=e.v,e.n=5;break;case 3:return e.n=4,ie(I.value,u.token);case 4:p=e.v;case 5:if(!Array.isArray(p)||0!==p.length){e.n=6;break}throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");case 6:if(F.value=p,I.value.startsWith("shiki")?F.value=o(o({},F.value),{},{title:F.value.name_ru||F.value.name_en,name_original:F.value.name_en,short_description:F.value.slogan}):F.value=o(o({},F.value),{},{title:F.value.name_ru||F.value.name_en||F.value.name_original,kinopoisk_id:I.value}),u.token&&Za(),D.setHeaderContent({text:F.value.title,imageUrl:F.value.logo_url}),da(),f={kp_id:I.value,title:(null===(t=F.value)||void 0===t?void 0:t.name_ru)||(null===(i=F.value)||void 0===i?void 0:i.name_en)||(null===(l=F.value)||void 0===l?void 0:l.name_original),poster:(null===(c=F.value)||void 0===c?void 0:c.poster_url)||(null===(s=F.value)||void 0===s?void 0:s.cover_url)||(null===(d=F.value)||void 0===d||null===(d=d.screenshots)||void 0===d?void 0:d[0]),year:null===(v=F.value)||void 0===v?void 0:v.year,type:null===(m=F.value)||void 0===m?void 0:m.type},I.value.startsWith("shiki")&&F.value.screenshots&&F.value.screenshots.length>0?(g=Math.floor(Math.random()*F.value.screenshots.length),b=F.value.screenshots[g],_.updateMoviePoster(b)):f.poster&&_.updateMoviePoster(f.poster),!(y(()=>n.isHistoryAllowed).value&&f.kp_id&&f.title&&a)){e.n=12;break}if(!u.token){e.n=11;break}return e.p=7,e.n=8,re(f.kp_id,J.HISTORY);case 8:e.n=10;break;case 9:e.p=9,w=e.v,console.error("Ошибка при добавлении в историю:",w);case 10:e.n=12;break;case 11:n.addToHistory(o({},f));case 12:e.n=14;break;case 13:e.p=13,C=e.v,h=le(C),x=h.message,k=h.code,S.value=x,H.value=k,console.error("Ошибка при загрузке информации о фильмах:",C);case 14:return e.a(2)}},e,null,[[7,9],[1,13]])}));return function(){return e.apply(this,arguments)}}(),xa=y(()=>{var e;return(null===(e=F.value)||void 0===e?void 0:e.videos)||[]}),ka=y(()=>{var e;return va(null===(e=F.value)||void 0===e?void 0:e.sequels_and_prequels)}),ya=y(()=>{var e;return va(null===(e=F.value)||void 0===e?void 0:e.similars)}),wa=()=>{var e,a=(null===(e=document.querySelector(".related-movies"))||void 0===e?void 0:e.clientWidth)||0,t=Math.floor(a/160)||10;Ae.value=Math.max(1,t)},_a=()=>{wa()},Ca=e=>{if(e.altKey&&84===e.keyCode&&document.querySelector(".player-container")){var a=document.querySelector(".theater-mode-btn");a&&a.click()}},ja=function(){var e=s(r().m(function e(a){var t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===He.value){e.n=1;break}return He.value=null,Fe.value=!1,e.a(2);case 1:return qe.value=void 0,De.value=a.currentTarget,He.value="",Fe.value=!0,e.p=2,e.n=3,ce(F.value.imdb_id);case 3:t=e.v,He.value=t.nudity_info,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Ошибка при загрузке информации о сценах:",n),He.value="Ошибка при загрузке информации о сценах. Попробуйте обратиться к Parents Guide на IMDb для получения подробной информации.";case 5:return e.p=5,Fe.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(a){return e.apply(this,arguments)}}(),Ea=()=>{var e,a;He.value=null,qe.value=null===(null===(e=F.value)||void 0===e?void 0:e.nudity_timings)?"":(null===(a=F.value)||void 0===a?void 0:a.nudity_timings)||""},za=e=>{var a,t,n,o,i,r,l;return null!==(l={[J.FAVORITE]:(null===(a=F.value)||void 0===a||null===(a=a.lists)||void 0===a?void 0:a.isFavorite)||!1,[J.HISTORY]:(null===(t=F.value)||void 0===t||null===(t=t.lists)||void 0===t?void 0:t.isHistory)||!1,[J.LATER]:(null===(n=F.value)||void 0===n||null===(n=n.lists)||void 0===n?void 0:n.isLater)||!1,[J.COMPLETED]:(null===(o=F.value)||void 0===o||null===(o=o.lists)||void 0===o?void 0:o.isCompleted)||!1,[J.ABANDONED]:(null===(i=F.value)||void 0===i||null===(i=i.lists)||void 0===i?void 0:i.isAbandoned)||!1,[J.WATCHING]:(null===(r=F.value)||void 0===r||null===(r=r.lists)||void 0===r?void 0:r.isWatching)||!1}[e])&&void 0!==l&&l},La=function(){var e=s(r().m(function e(a){var t,n,o,i,l;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.token){e.n=1;break}return q.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:()=>M.push("/login")}),e.a(2);case 1:if(e.p=1,t={[J.FAVORITE]:"избранное",[J.HISTORY]:"историю",[J.LATER]:'список "Смотреть позже"',[J.COMPLETED]:'список "Просмотрено"',[J.ABANDONED]:'список "Брошено"',[J.WATCHING]:'список "Смотрю"'},!za(a)){e.n=3;break}return e.n=2,se(I.value,a);case 2:q.value.showNotification(`Удалено из ${t[a]}`),e.n=5;break;case 3:return e.n=4,re(I.value,a);case 4:q.value.showNotification(`Добавлено в ${t[a]}`);case 5:return e.n=6,ha(!1);case 6:Ve.value=!1,e.n=8;break;case 7:e.p=7,l=e.v,n=le(l),o=n.message,i=n.code,q.value.showNotification(`${o} ${i}`);case 8:return e.a(2)}},e,null,[[1,7]])}));return function(a){return e.apply(this,arguments)}}(),Ma=e=>{var a=document.querySelector(".mobile-list-dropdown");a&&!a.contains(e.target)&&(Ve.value=!1)},Ia=e=>{var a=document.querySelector(".nudity-info-popup");a&&!a.contains(e.target)&&De.value&&!De.value.contains(e.target)&&(He.value=null)},Sa=e=>{var a=document.querySelector(".nudity-info-popup");a&&!a.contains(e.target)&&Ke.value&&!Ke.value.contains(e.target)&&(qe.value=void 0)};c(s(r().m(function e(){return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ha();case 1:t.value=!1,document.addEventListener("keydown",Ca),window.addEventListener("resize",_a),setTimeout(wa,100),document.addEventListener("click",Ma),document.addEventListener("click",Ia,!0),document.addEventListener("click",Sa,!0),window.selectedNudityTimings=Array.from(We.value),window.overlayNudityTimings=Array.from(Ge.value);case 2:return e.a(2)}},e)}))),G(s(r().m(function e(){return r().w(function(e){for(;;)switch(e.n){case 0:D.clearHeaderContent(),document.removeEventListener("keydown",Ca),window.removeEventListener("resize",_a),document.removeEventListener("click",Ma),document.removeEventListener("click",Ia,!0),document.removeEventListener("click",Sa,!0),delete window.selectedNudityTimings,delete window.overlayNudityTimings;case 1:return e.a(2)}},e)}))),d(()=>z.params.kp_id,function(){var e=s(r().m(function e(a){return r().w(function(e){for(;;)switch(e.n){case 0:if(!a||a===I.value){e.n=2;break}return D.clearHeaderContent(),I.value=a,$e.value=null,e.n=1,ha();case 1:t.value=!1;case 2:return e.a(2)}},e)}));return function(a){return e.apply(this,arguments)}}(),{immediate:!0}),d(F,()=>{da()},{deep:!0}),d(He,e=>{e?document.addEventListener("click",Ia,!0):document.removeEventListener("click",Ia,!0)},{deep:!0}),d(()=>void 0!==qe.value,e=>{e?(document.addEventListener("click",Sa,!0),Ga()):document.removeEventListener("click",Sa,!0)}),d(We,()=>{window.selectedNudityTimings=Array.from(We.value)},{deep:!0}),d(Ge,()=>{window.overlayNudityTimings=Array.from(Ge.value)},{deep:!0}),c(()=>{window.selectedNudityTimings=Array.from(We.value),window.overlayNudityTimings=Array.from(Ge.value);var e=setInterval(()=>{if(window.obsSources&&Array.isArray(window.obsSources)&&(Ct.value=window.obsSources),window.getOBSFiltersInfo){var e=window.getOBSFiltersInfo();e&&Array.isArray(e)&&C.updateObsSettings({filtersFound:e})}},1e3);G(()=>{clearInterval(e)})}),G(()=>{delete window.selectedNudityTimings,delete window.overlayNudityTimings});var Pa=e=>{var a;return(null===(a=F.value)||void 0===a||null===(a=a.staff)||void 0===a?void 0:a.filter(a=>a.profession_key===e))||[]},Ba=function(){var e=s(r().m(function e(){var a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(He.value);case 1:q.value.showNotification("Текст скопирован"),e.n=3;break;case 2:e.p=2,a=e.v,console.error("Ошибка копирования:",a),q.value.showNotification("Ошибка при копировании текста");case 3:return e.p=3,He.value=null,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),Ra=function(){var e=s(r().m(function e(){var a,t;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==qe.value.length){e.n=1;break}return e.a(2);case 1:return e.p=1,a=qe.value.map(e=>`${e.timing_text} (by @${e.username})`).join("\n").concat("\nReYohoho\n"),e.n=2,navigator.clipboard.writeText(a);case 2:q.value.showNotification("Текст скопирован"),e.n=4;break;case 3:e.p=3,t=e.v,console.error("Ошибка копирования:",t),q.value.showNotification("Ошибка при копировании текста");case 4:return e.p=4,qe.value=void 0,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),Ta=()=>{var e=encodeURIComponent(He.value);window.open(`https://translate.google.com/?sl=en&tl=ru&text=${e}`,"_blank"),He.value=null},Ua=l(""),$a=l(!1),Oa=y(()=>{if(!Ua.value.trim())return[];try{return ue(Ua.value,!0)||[]}catch(e){return console.error("Error parsing timing text:",e),[]}}),Na=y(()=>Ua.value.trim()),Aa=e=>u.user&&e.user_id&&e.user_id===u.user.id,Ha=()=>{u.token?(nt.value=null,Ua.value="",tt.value=!0):q.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a> для добавления таймингов',5e3,{onClick:()=>M.push("/login")})},Fa=()=>{tt.value=!1,nt.value=null,Ua.value=""},Da=function(){var e=s(r().m(function e(){var a,t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Na.value&&!$a.value){e.n=1;break}return e.a(2);case 1:return e.p=1,$a.value=!0,e.n=2,me(I.value,Ua.value);case 2:return q.value.showNotification("Тайминг добавлен успешно!"),Ua.value="",Fa(),e.n=3,ha(!1);case 3:Ea(),e.n=5;break;case 4:e.p=4,n=e.v,a=le(n),t=a.message,q.value.showNotification(t,5e3);case 5:return e.p=5,$a.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),Va=function(){var e=s(r().m(function e(){var a,t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Na.value&&!$a.value&&nt.value){e.n=1;break}return e.a(2);case 1:return e.p=1,$a.value=!0,e.n=2,ve(nt.value.id,Ua.value);case 2:return q.value.showNotification("Тайминг обновлен успешно!"),Fa(),e.n=3,ha(!1);case 3:Ea(),e.n=5;break;case 4:e.p=4,n=e.v,a=le(n),t=a.message,q.value.showNotification(t,5e3);case 5:return e.p=5,$a.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),qa=function(){var e=s(r().m(function e(a){var t,n,o;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(confirm("Вы уверены, что хотите удалить этот тайминг?")){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,ke(a);case 2:return q.value.showNotification("Тайминг удален успешно!"),e.n=3,ha(!1);case 3:Ea(),e.n=5;break;case 4:e.p=4,o=e.v,t=le(o),n=t.message,q.value.showNotification(n,5e3);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(a){return e.apply(this,arguments)}}(),Ya=()=>{ot.value=!1,it.value="",rt.value=null},Ka=function(){var e=s(r().m(function e(){var a,t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(it.value.trim()&&!lt.value&&rt.value){e.n=1;break}return e.a(2);case 1:return e.p=1,lt.value=!0,e.n=2,pe(rt.value,it.value);case 2:q.value.showNotification("Жалоба отправлена успешно!"),Ya(),e.n=4;break;case 3:e.p=3,n=e.v,a=le(n),t=a.message,q.value.showNotification(t,5e3);case 4:return e.p=4,lt.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),Wa=function(){var e=s(r().m(function e(a,t){var n,o,i,l,c;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.token){e.n=1;break}return q.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a> для голосования',5e3,{onClick:()=>M.push("/login")}),e.a(2);case 1:if(Xe.value!==a){e.n=2;break}return e.a(2);case 2:return e.p=2,Xe.value=a,e.n=3,ye(a,t);case 3:n=e.v,(o=qe.value.find(e=>e.id===a))&&(o.upvotes=n.upvotes,o.downvotes=n.downvotes,o.voteScore=n.vote_score,o.userVote===t?o.userVote=null:o.userVote=t),e.n=5;break;case 4:e.p=4,c=e.v,i=le(c),l=i.message,q.value.showNotification(l,5e3);case 5:return e.p=5,Xe.value=null,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(a,t){return e.apply(this,arguments)}}(),Ga=function(){var e=s(r().m(function e(){var a,t,n,i;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(qe.value&&0!==qe.value.length){e.n=1;break}return e.a(2);case 1:if(!Je.value){e.n=2;break}return e.a(2);case 2:return Je.value=!0,e.p=3,a=qe.value.map(function(){var e=s(r().m(function e(a){var t;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,je(a.id);case 1:return t=e.v,e.a(2,{id:a.id,upvotes:t.upvotes||0,downvotes:t.downvotes||0,voteScore:t.vote_score||0,userVote:t.user_vote||null});case 2:return e.p=2,e.v,e.a(2,{id:a.id,upvotes:0,downvotes:0,voteScore:0,userVote:null})}},e,null,[[0,2]])}));return function(a){return e.apply(this,arguments)}}()),e.n=4,Promise.all(a);case 4:t=e.v,n=new Map(t.map(e=>[e.id,e])),qe.value=qe.value.map(e=>{var a=n.get(e.id);return a?o(o({},e),{},{upvotes:a.upvotes,downvotes:a.downvotes,voteScore:a.voteScore,userVote:a.userVote}):e}),e.n=6;break;case 5:e.p=5,i=e.v,console.error("Error loading timing votes:",i);case 6:return e.p=6,Je.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),Za=function(){var e=s(r().m(function e(){var a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.isAuthenticated&&I.value){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,he(I.value);case 2:a=e.v,ea.value=a.note,ea.value?ta.value=ea.value.note_text:ta.value="",e.n=4;break;case 3:e.p=3,e.v,ea.value=null,ta.value="";case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),Qa=()=>{u.token?aa.value=!aa.value:q.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a> для создания заметок',5e3,{onClick:()=>M.push("/login")})},Xa=function(){var e=s(r().m(function e(){var a,t,n,o;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.token){e.n=1;break}return q.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:()=>M.push("/login")}),e.a(2);case 1:if(ta.value.trim()){e.n=2;break}return q.value.showNotification("Заметка не может быть пустой"),e.a(2);case 2:if(!(ta.value.length>1e4)){e.n=3;break}return q.value.showNotification("Заметка слишком длинная (максимум 10000 символов)"),e.a(2);case 3:return e.p=3,na.value=!0,e.n=4,fe(I.value,ta.value);case 4:a=e.v,ea.value=a.note,ta.value=a.note.note_text,q.value.showNotification("Заметка сохранена"),aa.value=!1,e.n=6;break;case 5:e.p=5,o=e.v,t=le(o),n=t.message,q.value.showNotification(n,5e3);case 6:return e.p=6,na.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),Ja=function(){var e=s(r().m(function e(){var a,t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.token){e.n=1;break}return e.a(2);case 1:if(confirm("Вы уверены, что хотите удалить заметку?")){e.n=2;break}return e.a(2);case 2:return e.p=2,oa.value=!0,e.n=3,ge(I.value);case 3:ea.value=null,ta.value="",aa.value=!1,q.value.showNotification("Заметка удалена"),e.n=5;break;case 4:e.p=4,n=e.v,a=le(n),t=a.message,q.value.showNotification(t,5e3);case 5:return e.p=5,oa.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),et=()=>{ea.value?ta.value=ea.value.note_text:ta.value="",aa.value=!1},at=function(){var e=s(r().m(function e(){var a,t,n,o,i;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,de();case 1:a=e.v,t=a.submissions,ct.value=t,st.value=!0,e.n=3;break;case 2:e.p=2,i=e.v,n=le(i),o=n.message,q.value.showNotification(o);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),tt=l(!1),nt=l(null),ot=l(!1),it=l(""),rt=l(null),lt=l(!1),ct=l([]),st=l(!1),dt=l(!1),ut=l([]),vt=l(!1),mt=l(!1),pt=l(null),ft=l(!1),gt=l(!1),bt=l(!1),ht=l(!1),xt=y({get:()=>C.obsSettings.enabled,set:e=>C.updateObsSettings({enabled:e})}),kt=y({get:()=>C.obsSettings.host,set:e=>C.updateObsSettings({host:e})}),yt=y({get:()=>C.obsSettings.port,set:e=>C.updateObsSettings({port:e})}),wt=y({get:()=>C.obsSettings.password,set:e=>C.updateObsSettings({password:e})}),_t=y(()=>C.obsSettings.connected),Ct=l([]),jt=y(()=>C.obsSettings.filtersFound),Et=y({get:()=>C.obsSettings.selectedFilterId,set:e=>C.setObsSelectedFilter(e)}),zt=y(()=>Et.value?jt.value.find(e=>e.id===Et.value):null),Lt=y({get:()=>C.obsSettings.showObsInOverlay,set:e=>C.updateObsSettings({showObsInOverlay:e})}),Rr=function(){var e=s(r().m(function e(a){var t,n,o,i;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!mt.value){e.n=1;break}return e.a(2);case 1:return e.p=1,mt.value=!0,pt.value=a,ft.value=!0,gt.value=!1,e.n=2,we(a);case 2:(t=ut.value.find(e=>e.id===a))&&(t.status="approved"),q.value.showNotification("Тайминг одобрен"),e.n=4;break;case 3:e.p=3,i=e.v,n=le(i),o=n.message,q.value.showNotification(`Ошибка: ${o}`);case 4:return e.p=4,mt.value=!1,pt.value=null,ft.value=!1,gt.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(a){return e.apply(this,arguments)}}(),Tr=function(){var e=s(r().m(function e(a){var t,n,o,i;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!mt.value){e.n=1;break}return e.a(2);case 1:return e.p=1,mt.value=!0,pt.value=a,ft.value=!1,gt.value=!1,e.n=2,_e(a);case 2:(t=ut.value.find(e=>e.id===a))&&(t.status="rejected"),q.value.showNotification("Тайминг отклонен"),e.n=4;break;case 3:e.p=3,i=e.v,n=le(i),o=n.message,q.value.showNotification(`Ошибка: ${o}`);case 4:return e.p=4,mt.value=!1,pt.value=null,ft.value=!1,gt.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(a){return e.apply(this,arguments)}}(),Ur=function(){var e=s(r().m(function e(a){var t,n,o,i;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!mt.value){e.n=1;break}return e.a(2);case 1:return e.p=1,mt.value=!0,pt.value=a,ft.value=!1,gt.value=!0,e.n=2,Ce(a);case 2:(t=ut.value.find(e=>e.id===a))&&(t.status="clean_text"),q.value.showNotification("Тайминг отмечен как clean_text"),e.n=4;break;case 3:e.p=3,i=e.v,n=le(i),o=n.message,q.value.showNotification(`Ошибка: ${o}`);case 4:return e.p=4,mt.value=!1,pt.value=null,ft.value=!1,gt.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(a){return e.apply(this,arguments)}}(),$r=function(){var e=s(r().m(function e(){var a,t,n,o,i;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!vt.value){e.n=1;break}return e.a(2);case 1:return e.p=1,vt.value=!0,dt.value=!0,e.n=2,be();case 2:a=e.v,t=a.timings,ut.value=t,e.n=4;break;case 3:e.p=3,i=e.v,n=le(i),o=n.message,q.value.showNotification(o),dt.value=!1;case 4:return e.p=4,vt.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),Or=y(()=>ut.value),Nr=l({});var Ar=y(()=>!!window.electronAPI);var Hr=e=>{Ge.value.has(e)?Ge.value.delete(e):Ge.value.add(e)};function Fr(){Ze.value=!Ze.value}function Dr(){Qe.value=!Qe.value}function Vr(){var e=[];if(qe.value&&Array.isArray(qe.value)){var t,n=a(qe.value);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(We.value.has(o.id)){var i=ue(o.timing_text);i&&i.length>0&&e.push(...i)}}}catch(r){n.e(r)}finally{n.f()}}return e}function qr(){var e=[];if(qe.value&&Array.isArray(qe.value)&&qe.value.length>0){var t,n=a(qe.value);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(Ge.value.has(o.id)){var i=ue(o.timing_text);i&&i.length>0&&e.push(...i)}}}catch(r){n.e(r)}finally{n.f()}}return e}var Yr=()=>{xt.value&&Kr()},Kr=function(){var e=s(r().m(function e(){var a,t,n,o;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!ht.value){e.n=1;break}return e.a(2);case 1:if(ht.value=!0,e.p=2,!window.connectToOBS){e.n=4;break}return e.n=3,window.connectToOBS();case 3:setTimeout(()=>{window.obsSources&&(Ct.value=window.obsSources)},1e3),null===(a=q.value)||void 0===a||a.showNotification("Подключение к OBS..."),e.n=5;break;case 4:null===(t=q.value)||void 0===t||t.showNotification("Плеер не загружен");case 5:e.n=7;break;case 6:e.p=6,o=e.v,console.error("Error connecting to OBS:",o),null===(n=q.value)||void 0===n||n.showNotification("Ошибка подключения к OBS");case 7:return e.p=7,ht.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),Wr=()=>{var e,a;Et.value?window.testOBSBlur?window.testOBSBlur(Et.value):null===(e=q.value)||void 0===e||e.showNotification("OBS функции недоступны"):null===(a=q.value)||void 0===a||a.showNotification("Выберите фильтр для тестирования")},Gr=()=>{var e,a;window.refreshOBSFilters?(window.refreshOBSFilters(),null===(e=q.value)||void 0===e||e.showNotification("Поиск фильтров...")):null===(a=q.value)||void 0===a||a.showNotification("OBS функции недоступны")},Zr=()=>{var e,a;Et.value&&(null===(e=q.value)||void 0===e||e.showNotification(`Выбран фильтр: ${null===(a=zt.value)||void 0===a?void 0:a.sourceName}`))};return(e,a)=>{var i,r,l,c,s,d,y,_,C,z,L=$("router-link");return v(),m(b,null,[p("div",It,[p("div",St,[!t.value&&F.value||S.value?k("",!0):(v(),m("div",Pt,[p("div",Bt,[a[30]||(a[30]=U('<div class="movie-skeleton__header" data-v-ecca24ce><div class="movie-skeleton__title" data-v-ecca24ce></div></div><div class="movie-skeleton__ratings" data-v-ecca24ce><div class="movie-skeleton__rating-item" data-v-ecca24ce></div><div class="movie-skeleton__rating-item" data-v-ecca24ce></div><div class="movie-skeleton__rating-item" data-v-ecca24ce></div></div>',2)),p("div",Rt,[B(Be)]),a[31]||(a[31]=U('<div class="movie-skeleton__additional-info" data-v-ecca24ce><div class="movie-skeleton__section-title" data-v-ecca24ce></div><div class="movie-skeleton__info-list" data-v-ecca24ce><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div></div></div><div class="movie-skeleton__description" data-v-ecca24ce><div class="movie-skeleton__description-line" data-v-ecca24ce></div><div class="movie-skeleton__description-line" data-v-ecca24ce></div><div class="movie-skeleton__description-line" data-v-ecca24ce></div><div class="movie-skeleton__description-line" data-v-ecca24ce></div></div>',2))])])),S.value?(v(),N(Z,{key:1,message:S.value,code:H.value},null,8,["message","code"])):k("",!0),S.value?(v(),m("div",Tt,[(v(),N(Le,{key:I.value,"kp-id":I.value,"movie-info":F.value,"onUpdate:movieInfo":ha},null,8,["kp-id","movie-info"]))])):k("",!0),F.value&&!t.value?(v(),m("div",Ut,[p("div",$t,[F.value.logo_url?(v(),m("div",{key:0,class:"content-logo",onMousemove:ga,onMouseleave:a[0]||(a[0]=e=>pa.value=!1),onClick:ba},[p("img",{src:F.value.logo_url,alt:"Логотип фильма",class:"content-logo"},null,8,Ot)],32)):(v(),m("div",{key:1,onMousemove:ga,onMouseleave:a[1]||(a[1]=e=>pa.value=!1),onClick:ba},[p("h1",Nt,x(F.value.title),1)],32)),f(p("div",{class:"title-copy-tooltip",style:O(fa.value)}," Скопировать ",4),[[g,pa.value]])]),F.value.kinopoisk_id||F.value.title||F.value.imdb_id||F.value.rating_imdb||F.value.shikimori_id?(v(),m("div",At,[F.value.kinopoisk_id?(v(),N(Me,{key:F.value.kinopoisk_id,"kp-id":F.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):k("",!0),F.value.kinopoisk_id?(v(),m("div",Ht,[p("a",{href:`https://www.kinopoisk.ru/film/${F.value.kinopoisk_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:F.value.rating_kinopoisk_vote_count?`Оценок: ${ua(F.value.rating_kinopoisk_vote_count)}`:"Нет данных о количестве голосов"},[a[32]||(a[32]=p("img",{src:Ee,alt:"КП",class:"rating-logo"},null,-1)),p("span",{class:w(["rating-value",Q(X)(F.value.rating_kinopoisk)])},x(F.value.rating_kinopoisk?F.value.rating_kinopoisk:"—"),3),a[33]||(a[33]=p("img",{src:Ie,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Ft)])):k("",!0),!F.value.kinopoisk_id&&F.value.title?(v(),m("div",Dt,[p("a",{href:`https://www.kinopoisk.ru/index.php?kp_query=${encodeURIComponent(F.value.title+(F.value.year?" "+F.value.year:""))}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:F.value.rating_kinopoisk_vote_count?`Оценок: ${ua(F.value.rating_kinopoisk_vote_count)}`:"Нет данных о количестве голосов"},[a[34]||(a[34]=p("img",{src:Ee,alt:"КП",class:"rating-logo"},null,-1)),p("span",{class:w(["rating-value",Q(X)(F.value.rating_kinopoisk)])},x(F.value.rating_kinopoisk?F.value.rating_kinopoisk:"—"),3),a[35]||(a[35]=p("img",{src:Ie,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Vt)])):k("",!0),F.value.imdb_id?(v(),m("div",qt,[p("a",{href:`https://www.imdb.com/title/${F.value.imdb_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:F.value.rating_imdb_vote_count?`Оценок: ${ua(F.value.rating_imdb_vote_count)}`:"Нет данных о количестве голосов"},[a[36]||(a[36]=p("img",{src:ze,alt:"IMDb",class:"rating-logo"},null,-1)),p("span",{class:w(["rating-value",Q(X)(F.value.rating_imdb)])},x(F.value.rating_imdb?F.value.rating_imdb:"—"),3),a[37]||(a[37]=p("img",{src:Ie,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Yt)])):k("",!0),!F.value.imdb_id&&F.value.title?(v(),m("div",Kt,[p("a",{href:`https://www.imdb.com/find/?q=${encodeURIComponent(F.value.title+(F.value.year?" "+F.value.year:""))}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:F.value.rating_imdb_vote_count?`Оценок: ${ua(F.value.rating_imdb_vote_count)}`:"Нет данных о количестве голосов"},[a[38]||(a[38]=p("img",{src:ze,alt:"IMDb",class:"rating-logo"},null,-1)),p("span",{class:w(["rating-value",Q(X)(F.value.rating_imdb)])},x(F.value.rating_imdb?F.value.rating_imdb:"—"),3),a[39]||(a[39]=p("img",{src:Ie,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Wt)])):k("",!0),F.value.shikimori_id?(v(),m("div",Gt,[p("a",{href:`https://shikimori.one/animes/${F.value.shikimori_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[...a[40]||(a[40]=[p("img",{src:Se,alt:"Shiki",class:"rating-logo"},null,-1),p("img",{src:Ie,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)])],8,Zt)])):k("",!0),p("span",Qt,[F.value.imdb_id?(v(),m("button",{key:0,class:"nudity-info-btn parents-guide-btn",title:He.value?"Скрыть информацию":"Показать Parents Guide и информацию о сценах",onClick:a[2]||(a[2]=e=>ja(e)),onMousedown:a[3]||(a[3]=e=>{var a;1===(a=e).button&&(a.preventDefault(),ja(a))})},[a[41]||(a[41]=p("span",{class:"desktop-text"},"Parents Guide",-1)),a[42]||(a[42]=p("span",{class:"mobile-text"},"PG",-1)),Fe.value?(v(),m("i",en)):(v(),m("i",Jt))],40,Xt)):k("",!0),p("button",{class:"nudity-info-btn",title:void 0!==qe.value?"Скрыть тайминги":"Показать тайминги сцен 18+(для твича, мигание отключается в настройках)",onClick:a[4]||(a[4]=e=>{return a=e,He.value=null,void(void 0===qe.value?(Ke.value=a.currentTarget,qe.value=null===(null===(t=F.value)||void 0===t?void 0:t.nudity_timings)?"":(null===(n=F.value)||void 0===n?void 0:n.nudity_timings)||""):qe.value=void 0);var a,t,n})},[p("i",{class:w(["fa-regular fa-clock",{"text-red":ra.value,"text-red-blink":la.value}])},null,2),a[43]||(a[43]=p("span",{class:"mobile-text"},"Тайминги",-1))],8,an),Q(u).token?(v(),m("button",{key:1,class:w(["nudity-info-btn note-btn",{"has-note":ea.value}]),title:ea.value?"Редактировать заметку":"Добавить заметку",onClick:Qa},[...a[44]||(a[44]=[p("i",{class:"fa-regular fa-note-sticky"},null,-1),p("span",{class:"mobile-text"},"Заметка",-1)])],10,tn)):k("",!0)])])):k("",!0),(v(),N(Le,{key:I.value,"kp-id":I.value,"movie-info":F.value,"onUpdate:movieInfo":ha},null,8,["kp-id","movie-info"])),Q(n).isMobile?(v(),m("div",nn,[p("button",{class:w(["mobile-list-toggle",{}]),onClick:a[5]||(a[5]=e=>Ve.value=!Ve.value)},[p("span",{class:w(["material-icons",{active:ca.value}])},x(ca.value?"bookmark_added":"bookmark_border"),3),a[45]||(a[45]=p("span",{class:"button-label"},"Добавить в список",-1)),p("span",{class:w(["material-icons dropdown-arrow",{expanded:Ve.value}])},"expand_more",2)]),f(p("div",on,[p("button",{class:w(["mobile-list-btn",{}]),onClick:a[6]||(a[6]=e=>La(Q(J).FAVORITE))},[p("span",{class:w(["material-icons",{active:null===(i=F.value)||void 0===i||null===(i=i.lists)||void 0===i?void 0:i.isFavorite}])},x(null!==(r=F.value)&&void 0!==r&&null!==(r=r.lists)&&void 0!==r&&r.isFavorite?"favorite":"favorite_border"),3),a[46]||(a[46]=p("span",{class:"button-label"},"В избранное",-1))]),p("button",{class:w(["mobile-list-btn",{}]),onClick:a[7]||(a[7]=e=>La(Q(J).WATCHING))},[p("span",{class:w(["material-icons",{active:null===(l=F.value)||void 0===l||null===(l=l.lists)||void 0===l?void 0:l.isWatching}])},x(null!==(c=F.value)&&void 0!==c&&null!==(c=c.lists)&&void 0!==c&&c.isWatching?"visibility":"visibility_off"),3),a[47]||(a[47]=p("span",{class:"button-label"},"Смотрю",-1))]),p("button",{class:w(["mobile-list-btn",{}]),onClick:a[8]||(a[8]=e=>La(Q(J).LATER))},[p("span",{class:w(["material-icons",{active:null===(s=F.value)||void 0===s||null===(s=s.lists)||void 0===s?void 0:s.isLater}])},"watch_later",2),a[48]||(a[48]=p("span",{class:"button-label"},"Позже",-1))]),p("button",{class:w(["mobile-list-btn",{}]),onClick:a[9]||(a[9]=e=>La(Q(J).COMPLETED))},[p("span",{class:w(["material-icons",{active:null===(d=F.value)||void 0===d||null===(d=d.lists)||void 0===d?void 0:d.isCompleted}])},x(null!==(y=F.value)&&void 0!==y&&null!==(y=y.lists)&&void 0!==y&&y.isCompleted?"check_circle":"check_circle_outline"),3),a[49]||(a[49]=p("span",{class:"button-label"},"Просмотрено",-1))]),p("button",{class:w(["mobile-list-btn",{}]),onClick:a[10]||(a[10]=e=>La(Q(J).ABANDONED))},[p("span",{class:w(["material-icons",{active:null===(_=F.value)||void 0===_||null===(_=_.lists)||void 0===_?void 0:_.isAbandoned}])},"not_interested",2),a[50]||(a[50]=p("span",{class:"button-label"},"Брошено",-1))])],512),[[g,Ve.value]])])):k("",!0),p("meta",{name:"title-and-year",content:"FILM"===F.value.type&&F.value.year?`${F.value.title} (${F.value.year})`:F.value.title},null,8,rn),F.value.name_original?(v(),m("meta",{key:2,name:"original-title",content:F.value.name_original},null,8,ln)):k("",!0),p("div",cn,[a[61]||(a[61]=p("h2",{class:"additional-info-title"},"Подробнее",-1)),p("div",sn,[F.value.poster_url?(v(),m("div",dn,[p("a",{href:F.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[p("img",{src:F.value.poster_url,alt:"Постер фильма",class:"movie-poster"},null,8,vn)],8,un)])):k("",!0),p("div",mn,[p("ul",pn,[F.value.type&&Q(ee)[F.value.type]?(v(),m("li",fn,[a[51]||(a[51]=p("strong",null,"Тип:",-1)),T(" "+x(Q(ee)[F.value.type]),1)])):k("",!0),F.value.year?(v(),m("li",gn,[a[52]||(a[52]=p("strong",null,"Год выпуска:",-1)),T(" "+x(F.value.year),1)])):k("",!0),F.value.title?(v(),m("li",bn,[a[53]||(a[53]=p("strong",null,"Название:",-1)),T(" "+x(F.value.title),1)])):k("",!0),F.value.name_original?(v(),m("li",hn,[a[54]||(a[54]=p("strong",null,"Оригинальное название:",-1)),T(" "+x(F.value.name_original),1)])):k("",!0),F.value.slogan?(v(),m("li",xn,[a[55]||(a[55]=p("strong",null,"Слоган:",-1)),T(" "+x(F.value.slogan),1)])):k("",!0),F.value.production_companies?(v(),m("li",kn,[a[56]||(a[56]=p("strong",null,"Продакшн:",-1)),T(" "+x(F.value.production_companies),1)])):k("",!0),null!==(C=F.value.countries)&&void 0!==C&&C.length?(v(),m("li",yn,[a[57]||(a[57]=p("strong",null,"Страна производства:",-1)),T(" "+x(F.value.countries.map(e=>e.country).join(", ")),1)])):k("",!0),null!==(z=F.value.genres)&&void 0!==z&&z.length?(v(),m("li",wn,[a[58]||(a[58]=p("strong",null,"Жанры:",-1)),T(" "+x(F.value.genres.map(e=>e.genre).join(", ")),1)])):k("",!0),F.value.film_length?(v(),m("li",_n,[a[59]||(a[59]=p("strong",null,"Продолжительность:",-1)),T(" "+x(ma(F.value.film_length)),1)])):k("",!0),F.value.rating_mpaa||F.value.rating_age_limits?(v(),m("li",Cn,[F.value.rating_mpaa?(v(),m("div",jn,[a[60]||(a[60]=p("strong",null,"MPAA",-1)),p("span",null,x(F.value.rating_mpaa.toUpperCase()),1)])):k("",!0),F.value.rating_age_limits?(v(),m("div",En,[p("strong",null,x(F.value.rating_age_limits.replace("age",""))+"+",1)])):k("",!0)])):k("",!0)]),p("div",zn,[F.value.description?(v(),m("p",Ln,x(F.value.description),1)):k("",!0)])])])]),ea.value&&Q(u).token?(v(),m("div",Mn,[p("div",{class:"movie-note-header"},[a[63]||(a[63]=p("div",{class:"movie-note-title"},[p("i",{class:"fa-solid fa-note-sticky"}),p("h3",null,"Моя заметка")],-1)),p("div",{class:"movie-note-actions"},[p("button",{class:"note-edit-btn",title:"Редактировать",onClick:Qa},[...a[62]||(a[62]=[p("i",{class:"fas fa-edit"},null,-1)])])])]),p("div",In,x(ea.value.note_text),1),p("div",Sn,[p("span",Pn,[a[64]||(a[64]=p("i",{class:"far fa-calendar"},null,-1)),T(" Обновлено: "+x(new Date(ea.value.updated_at).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),1)])])])):k("",!0),sa.value?(v(),m("div",Bn,[(v(),N(Mt,{key:I.value,"movie-id":I.value},null,8,["movie-id"]))])):k("",!0),F.value.staff?(v(),m("div",Rn,[p("div",Tn,[Pa("ACTOR").length?(v(),m("div",Un,[a[65]||(a[65]=p("h3",{class:"additional-info-title"},"Актёры",-1)),p("div",$n,[(v(!0),m(b,null,h(Pa("ACTOR").slice(0,12),e=>(v(),m("div",{key:e.staff_id,class:"staff-item"},[p("a",{href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:e.description||""},[p("img",{src:e.poster_url,alt:e.name_ru,class:"staff-photo"},null,8,Nn),p("span",An,x(e.name_ru||e.name_en),1),e.description?(v(),m("span",Hn,x(e.description),1)):k("",!0)],8,On)]))),128)),p("a",{class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${I.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${Pa("ACTOR").length} актеров`}," +"+x(Pa("ACTOR").length-12),9,Fn)])])):k("",!0),Pa("DIRECTOR").length?(v(),m("div",Dn,[a[66]||(a[66]=p("h3",{class:"additional-info-title"},"Режиссёры",-1)),p("div",Vn,[p("div",qn,[(v(!0),m(b,null,h(Pa("DIRECTOR").slice(0,5),e=>(v(),m("a",{key:e.staff_id,href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},x(e.name_ru||e.name_en),9,Yn))),128)),Pa("DIRECTOR").length>5?(v(),m("a",{key:0,class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${I.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${Pa("DIRECTOR").length} режиссёров`}," +"+x(Pa("DIRECTOR").length-5),9,Kn)):k("",!0)])])])):k("",!0),Pa("PRODUCER").length?(v(),m("div",Wn,[a[67]||(a[67]=p("h3",{class:"additional-info-title"},"Продюсеры",-1)),p("div",Gn,[p("div",Zn,[(v(!0),m(b,null,h(Pa("PRODUCER").slice(0,5),e=>(v(),m("a",{key:e.staff_id,href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},x(e.name_ru||e.name_en),9,Qn))),128)),Pa("PRODUCER").length>5?(v(),m("a",{key:0,class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${I.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${Pa("PRODUCER").length} продюсеров`}," +"+x(Pa("PRODUCER").length-5),9,Xn)):k("",!0)])])])):k("",!0)])])):k("",!0),xa.value.length&&Y.value?(v(),m("div",Jn,[B(Ye,{videos:xa.value,"active-video-index":$e.value,onSelect:e.playTrailer},null,8,["videos","active-video-index","onSelect"])])):k("",!0),ka.value.length?(v(),m("div",eo,[a[68]||(a[68]=p("h2",null,"Сиквелы и приквелы",-1)),B(Q(Pe),{"movies-list":Oe.value?ka.value:ka.value.slice(0,Ae.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ka.value.length>Ae.value?(v(),m("a",{key:0,class:"expand-circle-button",title:`${Oe.value?"Скрыть":"Показать все"} (${ka.value.length})`,onClick:a[11]||(a[11]=e=>Oe.value=!Oe.value)},x(Oe.value?"−":"+"+(ka.value.length-Ae.value)),9,ao)):k("",!0)])):k("",!0),ya.value.length?(v(),m("div",to,[a[69]||(a[69]=p("h2",null,"Похожие",-1)),B(Q(Pe),{"movies-list":Ne.value?ya.value:ya.value.slice(0,Ae.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ya.value.length>Ae.value?(v(),m("a",{key:0,class:"expand-circle-button",title:`${Ne.value?"Скрыть":"Показать все"} (${ya.value.length})`,onClick:a[12]||(a[12]=e=>Ne.value=!Ne.value)},x(Ne.value?"−":"+"+(ya.value.length-Ae.value)),9,no)):k("",!0)])):k("",!0)])):k("",!0)])]),B(Te,{ref_key:"notificationRef",ref:q},null,512),null!==He.value?(v(),m("div",oo,[p("div",io,[Fe.value?(v(),m("div",ro,[...a[70]||(a[70]=[p("i",{class:"fas fa-spinner fa-spin"},null,-1),p("span",null,"Загрузка информации...",-1)])])):(v(),m("div",lo,x(He.value),1))]),p("div",co,[p("a",{href:`https://www.imdb.com/title/${F.value.imdb_id}/parentalguide`,target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},[...a[71]||(a[71]=[p("i",{class:"fas fa-external-link-alt"},null,-1),p("span",null,"Parents Guide",-1)])],8,so),p("button",{class:"nudity-info-button",onClick:Ba},[...a[72]||(a[72]=[p("i",{class:"fas fa-copy"},null,-1),p("span",null,"Copy",-1)])]),p("button",{class:"nudity-info-button",onClick:Ta},[...a[73]||(a[73]=[p("i",{class:"fas fa-language"},null,-1),p("span",null,"Translate",-1)])])])])):k("",!0),void 0!==qe.value?(v(),m("div",uo,[p("div",vo,[p("div",{class:"acknowledgment-table"},[a[76]||(a[76]=p("div",{class:"acknowledgment-header"},[p("i",{class:"fa-solid fa-heart"}),p("span",null,"Благодарности")],-1)),p("div",{class:"acknowledgment-content"},[a[75]||(a[75]=p("div",{class:"acknowledgment-row"},[p("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[p("i",{class:"fa-brands fa-twitch"}),p("span",null,"TanyaBelkova")]),p("span",{class:"acknowledgment-text"},"— за основу базы таймингов")],-1)),p("div",{class:"acknowledgment-row clickable",onClick:at},[...a[74]||(a[74]=[p("div",{class:"community-link"},[p("i",{class:"fa-solid fa-users"}),p("span",null,"Сообщество")],-1),p("span",{class:"acknowledgment-text"},"— за добавление таймингов",-1)])])])]),p("div",{class:w(["timings-content",{"no-border":!qe.value}])},[a[92]||(a[92]=p("div",{class:"timings-warning"},[p("i",{class:"fas fa-exclamation-triangle"}),p("span",null,"Тайминги не модерируются - проверьте перед просмотром")],-1)),p("div",mo,[qe.value.length>0?(v(),m("div",po,[(v(!0),m(b,null,h(ia.value,e=>{return v(),m("div",{key:e.id,class:w(["timing-entry",{pending:"pending"===e.status,"clean-text":"clean_text"===e.status,selected:We.value.has(e.id),"top-rated":(e.voteScore||0)>=5,"highly-rated":(e.voteScore||0)>=10}])},[p("div",fo,[p("div",go,["pending"===e.status?(v(),m("div",bo,"На модерации")):k("",!0),"clean_text"===e.status?(v(),m("div",ho," Тайминги такого типа не модерируются, для уверенности сверяйтесь с ParentsGuide ")):k("",!0),(e.voteScore||0)>=10?(v(),m("div",xo,[...a[77]||(a[77]=[p("i",{class:"fas fa-star"},null,-1),T(" Проверено сообществом ",-1)])])):(e.voteScore||0)>=5?(v(),m("div",ko,[...a[78]||(a[78]=[p("i",{class:"fas fa-thumbs-up"},null,-1),T(" Рекомендуется ",-1)])])):k("",!0)]),p("div",yo,[p("button",{class:"nudity-info-button",onClick:a=>function(e){if(Nr.value[e.id])Nr.value=o(o({},Nr.value),{},{[e.id]:!1});else{var a=ue(e.timing_text);Nr.value=o(o({},Nr.value),{},{[e.id]:a})}}(e)},x(Nr.value[e.id]?"Скрыть парсер":"Показать парсер"),9,wo),Ge.value.has(e.id)?(v(),m("button",{key:0,class:"nudity-info-button overlay-button",title:"Удалить из оверлея",onClick:a=>{return t=e.id,void(Ar.value?Hr(t):q.value?q.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var t}},[...a[79]||(a[79]=[p("i",{class:"fas fa-eye-slash"},null,-1),p("span",null,"Удалить из оверлея",-1)])],8,_o)):(v(),m("button",{key:1,class:"nudity-info-button overlay-button",title:"Добавить в оверлей",onClick:a=>{return t=e.id,void(Ar.value?Hr(t):q.value?q.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var t}},[...a[80]||(a[80]=[p("i",{class:"fas fa-eye"},null,-1),p("span",null,"Добавить в оверлей",-1)])],8,Co)),Aa(e)?(v(),m(b,{key:2},[p("button",{class:"nudity-info-button edit-button",title:"Редактировать тайминг",onClick:a=>(e=>{nt.value=e,Ua.value=e.timing_text,tt.value=!0})(e)},[...a[81]||(a[81]=[p("i",{class:"fas fa-edit"},null,-1),p("span",null,"Редактировать",-1)])],8,jo),p("button",{class:"nudity-info-button delete-button",title:"Удалить тайминг",onClick:a=>qa(e.id)},[...a[82]||(a[82]=[p("i",{class:"fas fa-trash"},null,-1),p("span",null,"Удалить",-1)])],8,Eo)],64)):k("",!0),Aa(e)?k("",!0):(v(),m("button",{key:3,class:"nudity-info-button report-button",title:"Пожаловаться на тайминг",onClick:a=>{return t=e.id,rt.value=t,it.value="",void(ot.value=!0);var t}},[...a[83]||(a[83]=[p("i",{class:"fas fa-flag"},null,-1),p("span",null,"Пожаловаться",-1)])],8,zo))]),p("div",{class:w(["timing-hover-container",{blurred:"pending"===e.status}])},[p("span",Lo,x(e.timing_text),1),a[84]||(a[84]=p("br",null,null,-1)),p("span",Mo,[T(" by "+x(e.username)+" ",1),e.user_id&&0!==e.user_id&&e.user_timing_count>0?(v(),m("span",{key:0,class:"timing-count",title:`Авторизованный пользователь (${e.user_timing_count} таймингов)`}," ("+x(e.user_timing_count)+") ",9,Io)):k("",!0)])],2),p("div",So,[p("button",{class:w(["vote-button upvote-button",{active:"upvote"===e.userVote}]),disabled:Xe.value===e.id,title:"Этот тайминг полезен и точен",onClick:a=>Wa(e.id,"upvote")},[a[85]||(a[85]=p("i",{class:"fas fa-arrow-up"},null,-1)),p("span",Bo,x(e.upvotes||0),1)],10,Po),p("span",{class:w(["vote-score",(t=e.voteScore||0,t>0?"positive":t<0?"negative":"neutral")])},x(e.voteScore||0),3),p("button",{class:w(["vote-button downvote-button",{active:"downvote"===e.userVote}]),disabled:Xe.value===e.id,title:"Этот тайминг неточен или некорректен",onClick:a=>Wa(e.id,"downvote")},[a[86]||(a[86]=p("i",{class:"fas fa-arrow-down"},null,-1)),p("span",To,x(e.downvotes||0),1)],10,Ro)]),Nr.value[e.id]&&Array.isArray(Nr.value[e.id])?(v(),m("div",Uo,[a[87]||(a[87]=p("b",null,"Парсер:",-1)),0===Nr.value[e.id].length?(v(),m("span",$o,"Не удалось распарсить")):(v(),m("span",Oo,[(v(!0),m(b,null,h(Nr.value[e.id],(a,t)=>(v(),m("span",{key:t}," ["+x(Q(xe)(a[0]))+" - "+x(Q(xe)(a[1]))+"]"+x(t<Nr.value[e.id].length-1?", ":""),1))),128))]))])):k("",!0)])],2);var t}),128))])):(v(),m("div",No,x("Записей о таймингах не найдено")))]),Ze.value&&We.value.size>0?(v(),m("div",Ao,[p("h4",Ho," Общий парсер ("+x(We.value.size)+" таймингов): ",1),p("div",Fo,[0===Vr().length?(v(),m("span",Do,"Не удалось распарсить выбранные тайминги")):(v(),m("span",Vo,[(v(!0),m(b,null,h(Vr(),(e,a)=>(v(),m("span",{key:a}," ["+x(Q(xe)(e[0]))+" - "+x(Q(xe)(e[1]))+"]"+x(a<Vr().length-1?", ":""),1))),128))]))])])):k("",!0),Qe.value&&Ge.value.size>0?(v(),m("div",qo,[p("h4",Yo," Парсер оверлея ("+x(Ge.value.size)+" таймингов): ",1),p("div",Ko,[0===qr().length?(v(),m("span",Wo,"Не удалось распарсить выбранные тайминги")):(v(),m("span",Go,[(v(!0),m(b,null,h(qr(),(e,a)=>(v(),m("span",{key:a}," ["+x(Q(xe)(e[0]))+" - "+x(Q(xe)(e[1]))+"]"+x(a<qr().length-1?", ":""),1))),128))]))])])):k("",!0),p("div",Zo,[qe.value.length>0?(v(),m("button",{key:0,class:"nudity-info-button",onClick:Ra},[...a[88]||(a[88]=[p("i",{class:"fas fa-copy"},null,-1),p("span",null,"Скопировать",-1)])])):k("",!0),We.value.size>0?(v(),m("button",{key:1,class:"nudity-info-button",onClick:Fr},[a[89]||(a[89]=p("i",{class:"fas fa-eye"},null,-1)),p("span",null,"Общий парсер ("+x(We.value.size)+")",1)])):k("",!0),Ge.value.size>0?(v(),m("button",{key:2,class:"nudity-info-button",onClick:Dr},[a[90]||(a[90]=p("i",{class:"fas fa-layer-group"},null,-1)),p("span",null,"Парсер оверлея ("+x(Ge.value.size)+")",1)])):k("",!0),p("button",{class:"nudity-info-button",onClick:Ha},[...a[91]||(a[91]=[p("i",{class:"fas fa-plus"},null,-1),p("span",null,"Добавить/дополнить тайминг",-1)])])])],2)])])):k("",!0),tt.value?(v(),m("div",Qo,[p("div",Xo,[p("div",Jo,[p("h3",null,x(nt.value?"Редактировать тайминг":"Добавить тайминг"),1),p("button",{class:"close-modal-btn",onClick:Fa},[...a[93]||(a[93]=[p("i",{class:"fas fa-times"},null,-1)])])]),p("div",ei,[f(p("textarea",{"onUpdate:modelValue":a[13]||(a[13]=e=>Ua.value=e),placeholder:"Пожалуйста, указывайте длительность фильма(в [] скобках, например [01:36] или [01:36:55]), к которому вы прилагаете тайминг\nТк же для автоблюра прошу все тайминги указывать как диапозон, а не конкретное время, например 00:12:31-00:13:04 - текст, а не 00:12:31\nДля сериалов указывайте сезон и номер эпизода\n",class:"timing-textarea"},null,512),[[j,Ua.value]]),Oa.value&&Oa.value.length>0?(v(),m("div",ai,[a[94]||(a[94]=p("div",{class:"timing-preview-header"},[p("i",{class:"fas fa-eye"}),p("span",null,"Предпросмотр парсера")],-1)),p("div",ti,[(v(!0),m(b,null,h(Oa.value,(e,a)=>(v(),m("div",{key:a,class:"timing-preview-item"},[p("span",ni,x(Q(xe)(e[0]))+" - "+x(Q(xe)(e[1])),1),p("span",oi," ("+x(Math.round(e[1]-e[0]))+"с) ",1)]))),128))])])):k("",!0),p("div",ii,[p("button",{class:"submit-timing-btn",disabled:!Na.value||$a.value,onClick:a[14]||(a[14]=e=>nt.value?Va():Da())},[$a.value?(v(),m("i",li)):(v(),m("span",ci,x(nt.value?"Обновить тайминг":"Добавить тайминг"),1))],8,ri)])])])])):k("",!0),ot.value?(v(),m("div",si,[p("div",di,[p("div",{class:"timing-modal-header"},[a[96]||(a[96]=p("h3",null,"Пожаловаться на тайминг",-1)),p("button",{class:"close-modal-btn",onClick:Ya},[...a[95]||(a[95]=[p("i",{class:"fas fa-times"},null,-1)])])]),p("div",ui,[f(p("textarea",{"onUpdate:modelValue":a[15]||(a[15]=e=>it.value=e),placeholder:"Опишите причину жалобы...",class:"timing-textarea",rows:"4"},null,512),[[j,it.value]]),p("div",vi,[p("button",{class:"submit-timing-btn",disabled:!it.value.trim()||lt.value,onClick:Ka},[lt.value?(v(),m("i",pi)):(v(),m("span",fi,"Отправить жалобу"))],8,mi)])])])])):k("",!0),aa.value?(v(),m("div",gi,[p("div",bi,[p("div",hi,[p("h3",null,[a[97]||(a[97]=p("i",{class:"fa-regular fa-note-sticky"},null,-1)),T(" "+x(ea.value?"Редактировать заметку":"Новая заметка"),1)]),p("button",{class:"close-modal-btn",onClick:et},[...a[98]||(a[98]=[p("i",{class:"fas fa-times"},null,-1)])])]),p("div",xi,[a[101]||(a[101]=p("div",{class:"note-info"},[p("i",{class:"fas fa-info-circle"}),p("span",null,"Личная заметка о фильме, видна только вам")],-1)),f(p("textarea",{"onUpdate:modelValue":a[16]||(a[16]=e=>ta.value=e),placeholder:"Напишите свою заметку о фильме...",class:"timing-textarea note-textarea",rows:"10",maxlength:"10000"},null,512),[[j,ta.value]]),p("div",ki,x(ta.value.length)+" / 10000 символов",1),p("div",yi,[p("button",{class:"submit-timing-btn",disabled:!ta.value.trim()||na.value,onClick:Xa},[na.value?(v(),m("i",_i)):(v(),m("i",Ci)),p("span",null,x(ea.value?"Обновить":"Сохранить"),1)],8,wi),ea.value?(v(),m("button",{key:0,class:"delete-note-btn",disabled:oa.value,onClick:Ja},[oa.value?(v(),m("i",Ei)):(v(),m("i",zi)),a[99]||(a[99]=p("span",null,"Удалить",-1))],8,ji)):k("",!0),p("button",{class:"cancel-note-btn",onClick:et},[...a[100]||(a[100]=[p("i",{class:"fas fa-times"},null,-1),p("span",null,"Отмена",-1)])])])])])])):k("",!0),st.value?(v(),m("div",{key:5,class:"modal-overlay",onClick:a[19]||(a[19]=e=>st.value=!1)},[p("div",{class:"modal-content",onClick:a[18]||(a[18]=E(()=>{},["stop"]))},[p("div",Li,[a[103]||(a[103]=p("h3",null,[T(" Топ авторов таймингов "),p("span",{class:"hint-text"},[T("(Хотите добавить ссылку на свой стрим/соцсети? Напишите нам в "),p("a",{href:"https://t.me/reyohoho_sup",target:"_blank",rel:"noopener noreferrer"},"телеграм"),T(")")])],-1)),p("div",Mi,[p("button",{class:"close-modal-btn",onClick:a[17]||(a[17]=e=>st.value=!1)},[...a[102]||(a[102]=[p("i",{class:"fas fa-times"},null,-1)])])])]),p("div",Ii,[p("button",{class:"show-all-timings-btn",disabled:vt.value,onClick:$r},[vt.value?(v(),m("i",Pi)):(v(),m("i",Bi)),a[104]||(a[104]=p("span",null,"Все тайминги",-1))],8,Si),p("div",Ri,[(v(!0),m(b,null,h(ct.value,(e,t)=>{return v(),m("div",{key:e.username,class:"top-submitter-item"},[p("div",{class:w(["submitter-rank",{gold:0===t,silver:1===t,bronze:2===t}])},x(t+1),3),p("div",Ti,[p("div",Ui,[e.stream_link?(v(),m("a",{key:0,href:e.stream_link,target:"_blank",rel:"noopener noreferrer"},[T(x(e.username)+" ",1),a[105]||(a[105]=p("i",{class:"fa-brands fa-twitch"},null,-1))],8,$i)):(v(),m(b,{key:1},[T(x(e.username),1)],64))]),p("div",Oi,x(e.approved_submissions_count)+" "+x((o=e.approved_submissions_count,i=["фильм","фильма","фильмов"],i[o%100>4&&o%100<20?2:[2,0,1,1,1,2][Math.min(o%10,5)]])),1)]),p("div",Ni,[p("div",{class:"contribution-bar",style:O({width:(n=e.approved_submissions_count,(ct.value.length?n/Math.max(...ct.value.map(e=>e.approved_submissions_count))*100:0)+"%")})},null,4)])]);var n,o,i}),128))])])])])):k("",!0),dt.value?(v(),m("div",{key:6,class:"modal-overlay",onClick:a[22]||(a[22]=e=>dt.value=!1)},[p("div",{class:"modal-content all-timings-modal",onClick:a[21]||(a[21]=E(()=>{},["stop"]))},[p("div",Ai,[a[107]||(a[107]=p("h3",null,"Все тайминги",-1)),p("button",{class:"close-modal-btn",onClick:a[20]||(a[20]=e=>dt.value=!1)},[...a[106]||(a[106]=[p("i",{class:"fas fa-times"},null,-1)])])]),p("div",Hi,[vt.value?(v(),m("div",Fi,[...a[108]||(a[108]=[p("i",{class:"fas fa-spinner fa-spin"},null,-1),p("span",null,"Загрузка всех таймингов...",-1)])])):0===ut.value.length?(v(),m("div",Di,[...a[109]||(a[109]=[p("p",null,"Тайминги не найдены",-1)])])):0===Or.value.length?(v(),m("div",Vi,[...a[110]||(a[110]=[p("p",null,"Тайминги по выбранному фильтру не найдены",-1)])])):(v(),m("div",qi,[(v(!0),m(b,null,h(Or.value,e=>{var a;return v(),m("div",{key:e.id,class:"timing-item"},[p("div",Yi,[p("div",Ki,[p("span",Wi,x(e.username),1),p("span",Gi,x(Q(P)(e.submitted_at)),1)]),p("div",Zi,[B(L,{to:`/movie/${e.kp_id}`,class:"timing-kp-id clickable",title:`Перейти к фильму ${e.kp_id}`},{default:R(()=>[T(" KP: "+x(e.kp_id),1)]),_:2},1032,["to","title"]),null!==(a=Q(u).user)&&void 0!==a&&a.is_admin&&"pending"===e.status?(v(),m("div",Qi,["pending"===e.status?(v(),m("button",{key:0,class:"approve-btn",disabled:mt.value,title:"Одобрить тайминг",onClick:a=>Rr(e.id)},[pt.value===e.id&&ft.value?(v(),m("i",Ji)):(v(),m("i",er))],8,Xi)):k("",!0),"pending"===e.status?(v(),m("button",{key:1,class:"reject-btn",disabled:mt.value,title:"Отклонить тайминг",onClick:a=>Tr(e.id)},[pt.value!==e.id||ft.value||gt.value?(v(),m("i",nr)):(v(),m("i",tr))],8,ar)):k("",!0),"pending"===e.status?(v(),m("button",{key:2,class:"clean-text-btn",disabled:mt.value,title:"Отметить как clean_text",onClick:a=>Ur(e.id)},[pt.value===e.id&&gt.value?(v(),m("i",ir)):(v(),m("i",rr))],8,or)):k("",!0)])):k("",!0)])]),p("div",lr,[p("pre",cr,x(e.timing_text),1)])])}),128))]))])])])):k("",!0),bt.value?(v(),m("div",sr,[p("div",dr,[p("div",ur,[a[112]||(a[112]=p("h3",null,"Настройки OBS WebSocket",-1)),p("button",{class:"close-modal-btn",onClick:a[23]||(a[23]=e=>bt.value=!1)},[...a[111]||(a[111]=[p("i",{class:"fas fa-times"},null,-1)])])]),p("div",vr,[p("div",mr,[p("label",pr,[f(p("input",{"onUpdate:modelValue":a[24]||(a[24]=e=>xt.value=e),type:"checkbox",onChange:Yr},null,544),[[ae,xt.value]]),a[113]||(a[113]=p("span",null,"Использовать автоблюр в OBS",-1))]),a[114]||(a[114]=p("div",{class:"obs-setting-description"}," Если включено, автоблюр будет применяться через OBS WebSocket вместо внутреннего блюра ",-1))]),xt.value?(v(),m("div",fr,[p("div",gr,[a[115]||(a[115]=p("label",null,"Хост OBS WebSocket:",-1)),f(p("input",{"onUpdate:modelValue":a[25]||(a[25]=e=>kt.value=e),type:"text",placeholder:"localhost",class:"obs-input"},null,512),[[j,kt.value]])]),p("div",br,[a[116]||(a[116]=p("label",null,"Порт OBS WebSocket:",-1)),f(p("input",{"onUpdate:modelValue":a[26]||(a[26]=e=>yt.value=e),type:"number",placeholder:"4455",class:"obs-input"},null,512),[[j,yt.value]])]),p("div",hr,[a[117]||(a[117]=p("label",null,"Пароль (если установлен):",-1)),f(p("input",{"onUpdate:modelValue":a[27]||(a[27]=e=>wt.value=e),type:"password",placeholder:"Оставьте пустым если пароль не установлен",class:"obs-input"},null,512),[[j,wt.value]])]),_t.value?(v(),m("div",xr,[a[120]||(a[120]=p("label",null,"Выбор фильтра для блюра:",-1)),0===jt.value.length?(v(),m("div",kr," ⚠️ Фильтры не найдены в OBS. Убедитесь, что в источниках есть фильтры. ")):(v(),m("div",yr,[f(p("select",{"onUpdate:modelValue":a[28]||(a[28]=e=>Et.value=e),class:"obs-filter-select",onChange:Zr},[a[118]||(a[118]=p("option",{value:""},"Выберите фильтр",-1)),(v(!0),m(b,null,h(jt.value,e=>(v(),m("option",{key:e.id,value:e.id},x(e.sourceName)+" - "+x(e.filterName)+" ("+x(e.sceneName)+") ",9,wr))),128))],544),[[te,Et.value]]),zt.value?(v(),m("div",_r,[p("div",Cr,[p("strong",null,x(zt.value.filterName),1),a[119]||(a[119]=T(" в источнике ",-1)),p("strong",null,x(zt.value.sourceName),1)]),p("span",{class:w(["filter-status",{enabled:zt.value.enabled}])}," Статус: "+x(zt.value.enabled?"✅ Включен":"⭕ Отключен"),3)])):k("",!0),p("div",jr," 💡 Найдено "+x(jt.value.length)+" фильтров. Выберите фильтр блюра. ",1)]))])):k("",!0),p("div",Er,[p("label",zr,[f(p("input",{"onUpdate:modelValue":a[29]||(a[29]=e=>Lt.value=e),type:"checkbox"},null,512),[[ae,Lt.value]]),a[121]||(a[121]=p("span",null,"Показывать статус OBS в видео оверлее",-1))])]),p("div",{class:w(["obs-status",{connected:_t.value}])},x(_t.value?"Подключен к OBS":"Не подключен к OBS"),3),p("div",Lr,[p("button",{class:"obs-action-btn connect-btn",disabled:ht.value,onClick:Kr},[ht.value?(v(),m("i",Ir)):(v(),m("i",Sr)),T(" "+x(_t.value?"Переподключиться":"Подключиться"),1)],8,Mr),p("button",{class:"obs-action-btn test-btn",disabled:!_t.value||0===jt.value.length,onClick:Wr},[...a[122]||(a[122]=[p("i",{class:"fas fa-eye"},null,-1),T(" Тестировать блюр ",-1)])],8,Pr),p("button",{class:"obs-action-btn refresh-btn",disabled:!_t.value,onClick:Gr},[...a[123]||(a[123]=[p("i",{class:"fas fa-sync"},null,-1),T(" Обновить фильтры ",-1)])],8,Br)])])):k("",!0)])])])):k("",!0)],64)}}};e("default",n(Rr,[["__scopeId","data-v-ecca24ce"]]))}}})}();
