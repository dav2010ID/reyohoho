!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,i,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",n=o.toStringTag||"@@toStringTag";function d(e,o,r,n){var d=o&&o.prototype instanceof s?o:s,v=Object.create(d.prototype);return a(v,"_invoke",function(e,a,o){var r,n,d,s=0,v=o||[],p=!1,c={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,a){return r=e,n=0,d=t,c.n=a,l}};function m(e,a){for(n=e,d=a,i=0;!p&&s&&!o&&i<v.length;i++){var o,r=v[i],m=c.p,u=r[2];e>3?(o=u===a)&&(d=r[(n=r[4])?5:(n=3,3)],r[4]=r[5]=t):r[0]<=m&&((o=e<2&&m<r[1])?(n=0,c.v=a,c.n=r[1]):m<u&&(o=e<3||r[0]>a||a>u)&&(r[4]=e,r[5]=a,c.n=u,n=0))}if(o||e>1)return l;throw p=!0,a}return function(o,v,u){if(s>1)throw TypeError("Generator is already running");for(p&&1===v&&m(v,u),n=v,d=u;(i=n<2?t:d)||!p;){r||(n?n<3?(n>1&&(c.n=-1),m(n,d)):c.n=d:c.v=d);try{if(s=2,r){if(n||(o="next"),i=r[o]){if(!(i=i.call(r,d)))throw TypeError("iterator result is not an object");if(!i.done)return i;d=i.value,n<2&&(n=0)}else 1===n&&(i=r.return)&&i.call(r),n<2&&(d=TypeError("The iterator does not provide a '"+o+"' method"),n=1);r=t}else if((i=(p=c.n<0)?d:e.call(a,c))!==l)break}catch(i){r=t,n=1,d=i}finally{s=1}}return{value:i,done:p}}}(e,r,n),!0),v}var l={};function s(){}function v(){}function p(){}i=Object.getPrototypeOf;var c=[][r]?i(i([][r]())):(a(i={},r,function(){return this}),i),m=p.prototype=s.prototype=Object.create(c);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,n,"GeneratorFunction")),e.prototype=Object.create(m),e}return v.prototype=p,a(m,"constructor",p),a(p,"constructor",v),v.displayName="GeneratorFunction",a(p,n,"GeneratorFunction"),a(m),a(m,n,"Generator"),a(m,r,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:d,m:u}})()}function a(e,t,i,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}a=function(e,t,i,o){function n(t,i){a(e,t,function(e){return this._invoke(t,i,e)})}t?r?r(e,t,{value:i,enumerable:!o,configurable:!o,writable:!o}):e[t]=i:(n("next",0),n("throw",1),n("return",2))},a(e,t,i,o)}function t(e,a,t,i,o,r,n){try{var d=e[r](n),l=d.value}catch(e){return void t(e)}d.done?a(l):Promise.resolve(l).then(i,o)}System.register(["./index-legacy-CZOf-m_j.js","./SpinnerLoading-legacy-BEbB8P0I.js","./icon-imdb-logo-legacy-DY9dgmyD.js"],function(a,i){"use strict";var o,r,n,d,l,s,v,p,c,m,u,g,b,f,h,x,w,y,k,_,z,C,B,S,D,H,L,M,j,$,O,T,I,A,E,V,P,U,G,R,Y,F,N,X,Z;return{setters:[e=>{o=e._,r=e.b,n=e.i,d=e.d,l=e.e,s=e.j,v=e.t,p=e.F,c=e.f,m=e.aV,u=e.v,g=e.c,b=e.aW,f=e.q,h=e.u,x=e.m,w=e.s,y=e.n,k=e.D,_=e.ae,z=e.l,C=e.af,B=e.ab,S=e.aX,D=e.o,H=e.p,L=e.w,M=e.aY,j=e.r,$=e.Y,O=e.aK,T=e.k,I=e.$,A=e.x,E=e.G,V=e.S,P=e.A,U=e.a,G=e.al,R=e.U,Y=e.K},e=>{F=e.S},e=>{N=e._,X=e.a,Z=e.b}],execute:function(){var i=document.createElement("style");i.textContent='.deleteButton[data-v-cd7aaf9f]{width:40px;height:40px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;background-color:transparent;border:none;border-radius:8px;cursor:pointer;transition:all .2s;position:relative;overflow:hidden;background-color:rgba(0,0,0,.616);border:2px solid #ccc}.deleteButton svg[data-v-cd7aaf9f]{width:60%}.deleteButton[data-v-cd7aaf9f]:hover{background-color:#ed3838;overflow:visible}.bin path[data-v-cd7aaf9f]{transition:all .2s}.deleteButton:hover .bin path[data-v-cd7aaf9f]{fill:#fff}.deleteButton[data-v-cd7aaf9f]:active{transform:scale(.98)}.tooltip[data-v-cd7aaf9f]{--tooltip-color: rgb(41, 41, 41);position:absolute;top:-40px;background-color:var(--tooltip-color);color:#fff;border-radius:5px;font-size:12px;padding:8px 12px;font-weight:600;box-shadow:0 10px 10px rgba(0,0,0,.106);display:flex;align-items:center;justify-content:center;opacity:0;transition:all .5s}.tooltip[data-v-cd7aaf9f]:before{position:absolute;width:10px;height:10px;transform:rotate(45deg);content:"";background-color:var(--tooltip-color);bottom:-10%}.deleteButton:hover .tooltip[data-v-cd7aaf9f]{opacity:1}.movie-details[data-v-95d5b656]{padding:15px;flex-grow:1;display:flex;flex-direction:column}.movie-header[data-v-95d5b656]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}.movie-header h3[data-v-95d5b656]{font-size:1.1em;margin:0;display:-webkit-box;display:box;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;text-overflow:ellipsis;line-height:1.2;max-height:3.6em;word-wrap:break-word;word-break:break-word;hyphens:auto}.original-title[data-v-95d5b656]{font-size:.8em;color:#888;margin-bottom:10px;font-style:italic;display:-webkit-box;display:box;-webkit-line-clamp:2;-moz-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;word-wrap:break-word;word-break:break-word;hyphens:auto}.year[data-v-95d5b656]{font-size:.9em;color:#ccc}.meta[data-v-95d5b656]{margin-bottom:10px}.genres[data-v-95d5b656]{display:flex;flex-wrap:wrap;gap:5px;margin-top:5px;align-items:center}.genre-tag[data-v-95d5b656],.genre-count[data-v-95d5b656]{font-size:.75em;color:#888;background-color:rgba(136,136,136,.1);padding:2px 6px;border-radius:3px;white-space:nowrap}@media (max-width: 600px){.movie-details[data-v-95d5b656]{padding:8px;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}.movie-header[data-v-95d5b656]{margin-bottom:6px}.movie-header h3[data-v-95d5b656]{font-size:.95em;-webkit-line-clamp:4;-moz-line-clamp:4;line-clamp:4;max-height:4.8em;line-height:1.2;word-wrap:break-word;word-break:break-word;hyphens:auto}.original-title[data-v-95d5b656]{margin-bottom:6px;font-size:.75em}.meta[data-v-95d5b656]{margin-bottom:6px}.year[data-v-95d5b656]{font-size:.9em}.genres[data-v-95d5b656]{margin-top:3px}.genre-tag[data-v-95d5b656],.genre-count[data-v-95d5b656]{font-size:.7em;padding:1px 4px}}.movie-poster-container[data-v-1bd843e1]{position:relative}.movie-poster[data-v-1bd843e1]{width:100%;aspect-ratio:2 / 3;object-fit:cover}.delete-button[data-v-1bd843e1]{position:absolute;top:5px;left:5px;opacity:0}.ratings-overlay[data-v-1bd843e1]{position:absolute;bottom:10px;left:10px;display:flex;gap:10px;background:rgba(0,0,0,.7);padding:5px 10px;border-radius:5px;justify-content:center;align-items:center}.poster-type[data-v-1bd843e1]{position:absolute;top:5px;right:5px;background:rgba(0,0,0,.7);color:#fff;padding:3px 8px;border-radius:3px;font-size:.9em;text-transform:uppercase}.rating-kp[data-v-1bd843e1],.rating-imdb[data-v-1bd843e1],.rating-our[data-v-1bd843e1]{font-size:1.2em;color:#fff;display:flex;align-items:center;gap:5px}.rating-logo[data-v-1bd843e1]{width:20px;height:auto;display:inline-block}.rating-our[data-v-1bd843e1]{font-size:1.2em;color:#fff;display:flex;align-items:center;gap:5px;position:relative;padding:2px 6px;border-radius:4px}.rating-our.with-star[data-v-1bd843e1]{background:var(--accent-transparent);border:1px solid var(--accent-transparent)}.rating-our.with-star[data-v-1bd843e1]:after{content:"â˜…";position:absolute;top:-6px;left:-6px;font-size:12px;color:var(--accent-color);line-height:1;padding-bottom:1px}.rating-kp.low[data-v-1bd843e1],.rating-imdb.low[data-v-1bd843e1],.rating-our.low[data-v-1bd843e1]{color:#ff6b6b!important}.rating-kp.medium[data-v-1bd843e1],.rating-imdb.medium[data-v-1bd843e1],.rating-our.medium[data-v-1bd843e1]{color:#ffd93d!important}.rating-kp.high[data-v-1bd843e1],.rating-imdb.high[data-v-1bd843e1],.rating-our.high[data-v-1bd843e1]{color:#51cf66!important}@media (max-width: 620px){.ratings-overlay[data-v-1bd843e1]{bottom:3px;left:0;padding:4px 8px;font-size:.8em;border-radius:0}.movie-poster-container[data-v-1bd843e1]{width:100px;min-width:100px}.movie-poster[data-v-1bd843e1]{width:100px;aspect-ratio:2 / 3;border-radius:10px 0 0 10px}.delete-button[data-v-1bd843e1]{top:5px;left:5px;opacity:1}.rating-logo[data-v-1bd843e1]{width:15px;height:auto;display:inline-block}.rating-our[data-v-1bd843e1]{font-size:1em;padding:1px 4px}.rating-our.with-star[data-v-1bd843e1]:after{top:-5px;left:-5px;font-size:10px;padding-bottom:1px}}.movie-poster-container.card-size-small .ratings-overlay[data-v-1bd843e1]{padding:3px 6px;gap:6px;font-size:.75em}.movie-poster-container.card-size-small .rating-logo[data-v-1bd843e1]{width:16px}.movie-poster-container.card-size-small .poster-type[data-v-1bd843e1]{font-size:.75em;padding:2px 6px}.movie-poster-container.card-size-large .ratings-overlay[data-v-1bd843e1]{padding:8px 12px;gap:12px;font-size:1.1em}.movie-poster-container.card-size-large .rating-logo[data-v-1bd843e1]{width:24px}.movie-poster-container.card-size-large .poster-type[data-v-1bd843e1]{font-size:1em;padding:4px 10px}.movie-card[data-v-16d92669]{text-decoration:none;color:inherit;width:100%;background:rgba(30,30,30,.6);border-radius:10px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;transition:transform .3s ease,box-shadow .3s ease,border .3s ease;box-shadow:0 4px 10px rgba(0,0,0,.4);border:none}.has-border[data-v-16d92669]{border:1px solid var(--accent-color)}.movie-card[data-v-16d92669]:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,.3),0 0 20px var(--accent-semi-transparent)}.hover-disabled[data-v-16d92669]:hover{transform:none;box-shadow:0 4px 10px rgba(0,0,0,.4)}.movie-card[data-v-16d92669]:focus{outline:2px solid white;outline-offset:2px;box-shadow:0 0 15px rgba(255,255,255,.8);transition:border .2s ease;cursor:pointer}.movie-card[data-v-16d92669]:hover .delete-button{opacity:1}.movie-card.card-size-small[data-v-16d92669] .movie-details{padding:10px}.movie-card.card-size-small[data-v-16d92669] .movie-header h3{font-size:.95em;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;max-height:3.6em}.movie-card.card-size-small[data-v-16d92669] .original-title{font-size:.75em;-webkit-line-clamp:1;-moz-line-clamp:1;line-clamp:1}.movie-card.card-size-small[data-v-16d92669] .genre-tag,.movie-card.card-size-small[data-v-16d92669] .genre-count{font-size:.7em;padding:1px 4px}.movie-card.card-size-large[data-v-16d92669] .movie-details{padding:20px}.movie-card.card-size-large[data-v-16d92669] .movie-header h3{font-size:1.3em;-webkit-line-clamp:4;-moz-line-clamp:4;line-clamp:4;max-height:5.2em}.movie-card.card-size-large[data-v-16d92669] .original-title{font-size:.9em;margin-bottom:15px}.movie-card.card-size-large[data-v-16d92669] .genre-tag,.movie-card.card-size-large[data-v-16d92669] .genre-count{font-size:.8em;padding:3px 8px}.movie-card.card-size-large[data-v-16d92669] .year{font-size:1em}@media (max-width: 620px){.movie-card[data-v-16d92669]{flex-direction:row;align-items:flex-start;height:200px;width:100%;border-radius:15px}}.swipe-container[data-v-0467ed6e]{position:relative;overflow:hidden}.swipe-background[data-v-0467ed6e]{z-index:0;position:absolute;top:0;left:0;right:0;bottom:0;background-color:transparent;display:flex;align-items:center;justify-content:flex-start;padding-left:16px;transition:background-color .2s ease;border-radius:10px}.swipe-background.swipe-left[data-v-0467ed6e]{background-color:var(--383316c0);justify-content:flex-start}.swipe-background.swipe-right[data-v-0467ed6e]{background-color:var(--383316c0);justify-content:flex-end;padding-right:16px}.swipe-wrapper[data-v-0467ed6e]{position:relative;z-index:1;transition:transform .3s ease,opacity .3s ease;touch-action:pan-y}.swipe-wrapper.swiping[data-v-0467ed6e]{transition:none}.icon-container[data-v-0467ed6e]{width:24px;height:24px}@media (max-width: 620px){.swipe-background[data-v-0467ed6e]{height:200px;border-radius:15px}}.grid[data-v-8e95405f]{display:grid;gap:15px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));justify-content:center;margin:0 auto;width:100%;padding:0 15px;box-sizing:border-box;position:relative;min-height:300px}.grid.card-size-small[data-v-8e95405f]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}.grid.card-size-medium[data-v-8e95405f]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:15px}.grid.card-size-large[data-v-8e95405f]{grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}@media (max-width: 620px){.grid[data-v-8e95405f]{grid-template-columns:1fr;gap:10px;padding:5px}}\n/*$vite$:1*/',document.head.appendChild(i);var K={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 50 59",class:"bin"};var q=o({},[["render",function(e,a){return n(),r("svg",K,a[0]||(a[0]=[d("path",{fill:"#B5BAC1",d:"M0 7.5C0 5.01472 2.01472 3 4.5 3H45.5C47.9853 3 50 5.01472 50 7.5V7.5C50 8.32843 49.3284 9 48.5 9H1.5C0.671571 9 0 8.32843 0 7.5V7.5Z"},null,-1),d("path",{fill:"#B5BAC1",d:"M17 3C17 1.34315 18.3431 0 20 0H29.3125C30.9694 0 32.3125 1.34315 32.3125 3V3H17V3Z"},null,-1),d("path",{fill:"#B5BAC1",d:"M2.18565 18.0974C2.08466 15.821 3.903 13.9202 6.18172 13.9202H43.8189C46.0976 13.9202 47.916 15.821 47.815 18.0975L46.1699 55.1775C46.0751 57.3155 44.314 59.0002 42.1739 59.0002H7.8268C5.68661 59.0002 3.92559 57.3155 3.83073 55.1775L2.18565 18.0974ZM18.0003 49.5402C16.6196 49.5402 15.5003 48.4209 15.5003 47.0402V24.9602C15.5003 23.5795 16.6196 22.4602 18.0003 22.4602C19.381 22.4602 20.5003 23.5795 20.5003 24.9602V47.0402C20.5003 48.4209 19.381 49.5402 18.0003 49.5402ZM29.5003 47.0402C29.5003 48.4209 30.6196 49.5402 32.0003 49.5402C33.381 49.5402 34.5003 48.4209 34.5003 47.0402V24.9602C34.5003 23.5795 33.381 22.4602 32.0003 22.4602C30.6196 22.4602 29.5003 23.5795 29.5003 24.9602V47.0402Z","clip-rule":"evenodd","fill-rule":"evenodd"},null,-1),d("path",{fill:"#B5BAC1",d:"M2 13H48L47.6742 21.28H2.32031L2 13Z"},null,-1)]))}]]),W={class:"deleteButton"},J=a("D",o({__name:"DeleteButton",setup:e=>(e,a)=>(n(),r("button",W,[l(q),a[0]||(a[0]=d("span",{class:"tooltip"},"Delete",-1))]))},[["__scopeId","data-v-cd7aaf9f"]])),Q={class:"movie-details"},ee={class:"movie-header"},ae={key:0,class:"original-title"},te={key:1,class:"meta"},ie={class:"year"},oe={key:2,class:"genres"},re={key:0,class:"genre-count"},ne={__name:"CardMovieDetails",props:{movie:Object,isHistory:Boolean},setup:e=>(a,t)=>{var i,o,l,m;return n(),r("div",Q,[d("div",ee,[d("h3",null,v((m=e.movie.title,m?m.replace(/\(\d{4}\)$/,"").trim():m)),1)]),null!==(i=e.movie.raw_data)&&void 0!==i&&i.name_en||null!==(o=e.movie.raw_data)&&void 0!==o&&o.Name_original?(n(),r("div",ae,v(e.movie.raw_data.name_en||e.movie.raw_data.Name_original),1)):s("",!0),e.movie.year?(n(),r("div",te,[d("span",ie,v(e.movie.year),1)])):s("",!0),null!==(l=e.movie.raw_data)&&void 0!==l&&null!==(l=l.genres)&&void 0!==l&&l.length?(n(),r("div",oe,[(n(!0),r(p,null,c(e.movie.raw_data.genres.slice(0,2),e=>(n(),r("span",{key:e.genre,class:"genre-tag"},v(e.genre),1))),128)),e.movie.raw_data.genres.length>2?(n(),r("span",re," +"+v(e.movie.raw_data.genres.length-2),1)):s("",!0)])):s("",!0)])}},de=o(ne,[["__scopeId","data-v-95d5b656"]]),le={key:0},se={class:"movie-poster"},ve={key:1,class:"ratings-overlay"},pe={key:2,class:"poster-type"},ce={key:3,class:"poster-type"},me={__name:"CardsMovieMainContent",props:m({movie:Object,isMobile:Boolean,isHistory:Boolean,isUserList:Boolean,showDelete:Boolean,showStar:Boolean},{isMobile:!1,isHistory:!1,isUserList:!1,showDelete:!0,showStar:!1}),emits:["remove:from-history"],setup(e,a){var t=a.emit,i=u(),o=g(()=>i.cardSize),l=t,p=g(()=>b(e.movie));return(a,t)=>{var i,c=f("lazy");return n(),r("div",{class:y(["movie-poster-container",`card-size-${o.value}`])},[p.value?(n(),r("div",le,[h(d("img",se,null,512),[[c,p.value]]),!e.isMobile&&(e.isHistory||e.isUserList)&&e.showDelete?(n(),x(J,{key:0,class:"delete-button","data-test-id":"delete-button",onClick:t[0]||(t[0]=w(a=>l("remove:from-history",e.movie.kp_id),["stop","prevent"]))})):s("",!0),e.movie.rating_kp||e.movie.rating_imdb||e.movie.average_rating?(n(),r("div",ve,[e.movie.rating||e.movie.average_rating?(n(),r("span",{key:0,class:y(["rating-our",{"with-star":e.showStar,[k(_)(e.movie.rating||e.movie.average_rating)]:!0}])},[t[1]||(t[1]=d("img",{src:N,alt:"ReYohoho",class:"rating-logo"},null,-1)),z(" "+v(`${(e.movie.rating||e.movie.average_rating).toFixed(1).replace(/\.0$/,"")}`),1)],2)):s("",!0),e.movie.rating_kp?(n(),r("span",{key:1,class:y(["rating-kp",k(_)(e.movie.rating_kp)])},[t[2]||(t[2]=d("img",{src:X,alt:"ÐšÐŸ",class:"rating-logo"},null,-1)),z(" "+v(e.movie.rating_kp),1)],2)):s("",!0),e.movie.rating_imdb?(n(),r("span",{key:2,class:y(["rating-imdb",k(_)(e.movie.rating_imdb)])},[t[3]||(t[3]=d("img",{src:Z,alt:"IMDb",class:"rating-logo"},null,-1)),z(" "+v(e.movie.rating_imdb),1)],2)):s("",!0)])):s("",!0),e.movie.type&&k(C)[e.movie.type]?(n(),r("div",pe,v(null!==(i=k(C)[e.movie.type])&&void 0!==i?i:""),1)):s("",!0),e.movie.type&&!k(C)[e.movie.type]?(n(),r("div",ce,v(e.movie.type.replace("ðŸŽ¬","")),1)):s("",!0)])):s("",!0)],2)}}},ue=o(me,[["__scopeId","data-v-1bd843e1"]]),ge={__name:"CardMovie",props:m({movie:Object,isHistory:Boolean,isMobile:Boolean,isCardBorder:Boolean,isUserList:Boolean,index:Number,activeMovieIndex:[Number,null],showDelete:Boolean,showStar:Boolean},{isHistory:!1,isCardBorder:!1,isMobile:!1,isUserList:!1,activeMovieIndex:null,index:0,showDelete:!0,showStar:!1}),emits:["remove:from-history","save:element"],setup(e,a){var t=a.emit,i=B(),o=u(),r=g(()=>i.isCardHoverDisabled),d=g(()=>o.cardSize),s=t,v=S("element");return D(()=>{v.value&&v.value.$el&&s("save:element",v.value.$el)}),(a,t)=>{var i=H("RouterLink");return n(),x(i,{ref_key:"element",ref:v,class:y(["movie-card",{active:e.activeMovieIndex===e.index,"has-border":e.isCardBorder,"hover-disabled":r.value,"card-border":e.isCardBorder,[`card-size-${d.value}`]:!0}]),to:{name:"movie-info",params:{kp_id:e.movie.kp_id}},"data-test-id":`movie-card-${e.movie.kp_id}`,tabindex:"0"},{default:L(()=>[l(ue,{movie:e.movie,"is-history":e.isHistory,"is-mobile":e.isMobile,"is-user-list":e.isUserList,"show-delete":e.showDelete,"show-star":e.showStar,"onRemove:fromHistory":t[0]||(t[0]=e=>s("remove:from-history",e))},null,8,["movie","is-history","is-mobile","is-user-list","show-delete","show-star"]),l(de,{movie:e.movie,"is-history":e.isHistory},null,8,["movie","is-history"])]),_:1},8,["class","to","data-test-id"])}}},be=o(ge,[["__scopeId","data-v-16d92669"]]),fe={class:"icon-container"},he={__name:"CardMovieSwipeWrapper",props:m({thresholdPercent:Number,disabled:Boolean,backgroundSwipeColor:String,showDelete:Boolean},{thresholdPercent:55,disabled:!1,backgroundSwipeColor:"#e53935",showDelete:!0}),emits:["slide"],setup(e,a){var t=a.emit;M(a=>({"383316c0":e.backgroundSwipeColor}));var i=t,o=S("swipeElement"),s=j(0),v=j(0),p=j(0),c=j(0),m=j(!1),u=j(0),b=j(!1),f=g(()=>v.value-s.value),x=g(()=>c.value-p.value),w=g(()=>m.value?f.value:0),k=g(()=>u.value*e.thresholdPercent/100);function _(a){var t,i;!e.disabled&&e.showDelete&&(u.value=null!==(t=null===(i=o.value)||void 0===i?void 0:i.offsetWidth)&&void 0!==t?t:0,s.value=a.touches[0].clientX,p.value=a.touches[0].clientY,v.value=s.value,c.value=p.value,m.value=!1,b.value=!1)}function z(a){if(!e.disabled&&!b.value&&e.showDelete){v.value=a.touches[0].clientX,c.value=a.touches[0].clientY;var t=Math.abs(f.value),i=Math.abs(x.value);m.value||b.value||(i>t?(b.value=!0,m.value=!1):t>i&&t>10&&(m.value=!0)),m.value&&a.preventDefault()}}function C(){if(!e.disabled&&m.value&&e.showDelete)return f.value<-k.value?(m.value=!1,I(()=>{o.value.style.transform="translateX(-100%)",o.value.style.opacity="0"}),void setTimeout(()=>{i("slide"),B()},300)):f.value>k.value?(m.value=!1,I(()=>{o.value.style.transform="translateX(100%)",o.value.style.opacity="0"}),void setTimeout(()=>{i("slide"),B()},300)):void B();B()}function B(){s.value=0,v.value=0,p.value=0,c.value=0,m.value=!1,b.value=!1,o.value&&(o.value.style.transform="",o.value.style.opacity="")}return(a,t)=>(n(),r("div",{class:"swipe-container",onTouchstart:_,onTouchmove:z,onTouchend:C},[h(d("div",{class:y(["swipe-background",{"swipe-left":f.value>0,"swipe-right":f.value<0}])},[h(d("div",fe,[O(a.$slots,"swipe-icon",{},()=>[l(q)])],512),[[$,s.value]])],2),[[$,!e.disabled&&!b.value]]),d("div",{ref_key:"swipeElement",ref:o,"data-test-id":"swipe-ref-element",class:y(["swipe-wrapper",{swiping:m.value}]),style:T({transform:`translateX(${w.value}px)`,transition:m.value?"none":"transform 0.3s ease, opacity 0.3s ease"})},[O(a.$slots,"default",{},void 0)],6)],32))}},xe=o(he,[["__scopeId","data-v-0467ed6e"]]),we={__name:"MovieList",props:m({moviesList:Array,isHistory:Boolean,loading:Boolean,showDelete:Boolean,showStar:Boolean},{isHistory:!1,loading:!0,showDelete:!0,showStar:!1}),emits:["item-deleted"],setup(a,i){var o=i.emit,v=u(),m=A(),b=B(),f=E(),w=V(),_=j([]),z=j(null),C=g(()=>b.isCardBorder),S=g(()=>v.isMobile),H=g(()=>v.cardSize),M=g(()=>{var e;return"lists"===w.name&&(!w.params.user_id||String(w.params.user_id)===String(null===(e=m.user)||void 0===e?void 0:e.id))}),O=o,T=function(){var a,i=(a=e().m(function a(t){var i,o,r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!m.token){e.n=6;break}return e.p=1,e.n=2,G(t,R.HISTORY);case 2:O("item-deleted",t),e.n=5;break;case 3:if(e.p=3,r=e.v,i=Y(r),o=i.code,console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸:",r),401!==o){e.n=5;break}return m.logout(),e.n=4,f.push("/login");case 4:f.go(0);case 5:e.n=7;break;case 6:v.removeFromHistory(t);case 7:return e.a(2)}},a,null,[[1,3]])}),function(){var e=this,i=arguments;return new Promise(function(o,r){var n=a.apply(e,i);function d(e){t(n,o,r,d,l,"next",e)}function l(e){t(n,o,r,d,l,"throw",e)}d(void 0)})});return function(e){return i.apply(this,arguments)}}(),I=e=>{var t,i;if(null!==(t=a.moviesList)&&void 0!==t&&t.length&&null!==(i=e.target)&&void 0!==i&&null!==(i=i.classList)&&void 0!==i&&i.contains("movie-card")){var o,r=document.querySelector(".grid"),n=window.getComputedStyle(r).gridTemplateColumns.split(" ").length;switch(e.key){case"ArrowRight":z.value=(z.value+1)%a.moviesList.length;break;case"ArrowLeft":z.value=(z.value-1+a.moviesList.length)%a.moviesList.length;break;case"ArrowUp":if(e.preventDefault(),z.value<=0){var d=document.querySelector(".search-input");d&&d.focus()}else z.value=Math.max(z.value-n,0);break;case"ArrowDown":e.preventDefault(),z.value=Math.min(z.value+n,a.moviesList.length-1);break;case"Home":z.value=0;break;case"End":z.value=a.moviesList.length-1;break;case"Enter":var l;if(e.ctrlKey||e.metaKey)e.preventDefault(),window.open((o=a.moviesList[z.value],f.resolve({name:"movie-info",params:{kp_id:o.kp_id}}).href),"_blank");else f.push({name:"movie-info",params:{kp_id:null===(l=a.moviesList[z.value])||void 0===l?void 0:l.kp_id}})}}};return P(z,e=>{_.value[e]&&(_.value[e].scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),_.value[e].focus())}),D(()=>{document.addEventListener("keydown",I)}),U(()=>{document.removeEventListener("keydown",I)}),(e,t)=>(n(),r("div",null,[h(d("div",{class:y(["grid",`card-size-${H.value}`])},[(a.isHistory||M.value)&&S.value?(n(!0),r(p,{key:0},c(a.moviesList,(e,t)=>(n(),x(k(xe),{key:e.kp_id,"data-test-id":`movie-card-swipe-wrapper-${e.kp_id}`,"show-delete":a.showDelete,onSlide:a=>T(e.kp_id)},{default:L(()=>[l(k(be),{movie:e,"is-history":a.isHistory,"is-mobile":S.value,"is-user-list":M.value,index:t,"is-card-border":C.value,"active-movie-index":z.value,"show-delete":a.showDelete,"show-star":a.showStar,"onRemove:fromHistory":T,"onSave:element":e=>_.value[t]=e},null,8,["movie","is-history","is-mobile","is-user-list","index","is-card-border","active-movie-index","show-delete","show-star","onSave:element"])]),_:2},1032,["data-test-id","show-delete","onSlide"]))),128)):(n(!0),r(p,{key:1},c(a.moviesList,(e,t)=>(n(),x(k(be),{key:e.kp_id,movie:e,"is-history":a.isHistory,"is-mobile":S.value,"is-user-list":M.value,index:t,"is-card-border":C.value,"active-movie-index":z.value,"show-delete":a.showDelete,"show-star":a.showStar,"onRemove:fromHistory":T,"onSave:element":e=>_.value[t]=e},null,8,["movie","is-history","is-mobile","is-user-list","index","is-card-border","active-movie-index","show-delete","show-star","onSave:element"]))),128))],2),[[$,!a.loading]]),a.loading?(n(),x(F,{key:0})):s("",!0)]))}};a("M",o(we,[["__scopeId","data-v-8e95405f"]]))}}})}();
