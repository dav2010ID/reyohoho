import{_ as qe,v as Dt,l as f,o as rt,A as Se,X as En,b as i,c as a,d as e,u as ee,Y as xt,F as Z,r as te,t as c,g as m,k as B,n as I,Z as ss,z as os,B as Ie,s as ut,$ as Re,M as qt,a0 as ls,a1 as is,a2 as as,a3 as Ln,e as Q,w as Ft,h as A,a4 as pt,p as ae,f as Ht,m as Xe,x as Mn,a5 as rs,a6 as us,a7 as ds,a8 as cs,a9 as vs,aa as kn,ab as ms,ac as fs,a as Vt,E as gs,D as z,ad as It,U as $,ae as yn,af as hn,ag as ks,S as ys,ah as hs,O as bs,ai as bn,J as ce,aj as ps,ak as _s,al as ws,am as Tt,an as Cs,ao as Es,ap as Ls,aq as Ms,ar as Ss,as as Is,at as Ts,au as De,av as xs,aw as Rs,ax as Ps,ay as js,az as Ns,aA as Bs}from"./index-DX7gZ8Uz.js";import{a as pn,b as _n}from"./icon-imdb-logo-5qtstUwS.js";import{P as wn,M as Us,_ as bt,a as As}from"./MovieRating-B_zBiHi6.js";import{M as Cn}from"./MovieList-BcUgJrst.js";import{S as Os}from"./SpinnerLoading-B7RHnolp.js";import{u as Vs}from"./player-CaG6akOT.js";import{N as Sn}from"./ToastMessage-DrMOkAO1.js";import{u as Fs}from"./trailer-4rYpkg1T.js";import{u as In}from"./useCommentFormatting-ejlhXhIB.js";import"./htmlSanitizer-Cf6jTOTR.js";const Hs={key:0,class:"carousel-container"},Ds={class:"carousel-wrapper"},qs=["onClick"],zs=["src","alt"],Ws={class:"video-name"},Ks={key:0,class:"video-player"},Gs=["src"],Ys={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(u,{emit:n}){const d=Dt(),s=B(()=>d.isMobile),C=u,y=n,g=f(C.activeVideoIndex),k=f(null),b=f(!1),E=f(!1),w=()=>{if(!k.value)return;const{scrollLeft:T,scrollWidth:L,clientWidth:S}=k.value;b.value=T>0,E.value=T<L-S-1},o=T=>{if(!k.value)return;const L=k.value.querySelector(".carousel-item");if(!L)return;const S=L.clientWidth+16;k.value.scrollBy({left:S*T,behavior:"smooth"})},p=T=>{g.value=T,y("select",C.videos[T])},U=()=>w(),v=f([]),R=async T=>{try{return(await fetch("https://img.youtube.com/vi/".concat(T,"/0.jpg"))).ok}catch(L){return!1}};return rt(async()=>{const T=C.videos.map(async S=>await R(S.videoId)?S:null),L=await Promise.all(T);v.value=L.filter(Boolean),w(),window.addEventListener("resize",U)}),Se(()=>C.videos,async T=>{const L=T.map(async V=>await R(V.videoId)?V:null),S=await Promise.all(L);v.value=S.filter(Boolean)}),Se(()=>C.activeVideoIndex,T=>{g.value=T}),En(()=>{window.removeEventListener("resize",U)}),(T,L)=>v.value.length?(i(),a("div",Hs,[L[4]||(L[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",Ds,[ee(e("button",{class:"scroll-button left",onClick:L[0]||(L[0]=S=>o(-1))},[...L[2]||(L[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)])],512),[[xt,!s.value&&b.value]]),e("div",{ref_key:"carousel",ref:k,class:"carousel",onScroll:w},[(i(!0),a(Z,null,te(v.value,(S,V)=>(i(),a("div",{key:V,class:"carousel-item",onClick:H=>p(V)},[e("img",{src:"https://img.youtube.com/vi/".concat(S.videoId,"/0.jpg"),alt:S.name},null,8,zs),e("div",Ws,c(S.name),1)],8,qs))),128))],544),ee(e("button",{class:"scroll-button right",onClick:L[1]||(L[1]=S=>o(1))},[...L[3]||(L[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)])],512),[[xt,!s.value&&E.value]])]),g.value!==null?(i(),a("div",Ks,[e("iframe",{src:u.videos[g.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,Gs)])):m("",!0)])):m("",!0)}},Zs=qe(Ys,[["__scopeId","data-v-4a5806b3"]]),Qs={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const u=this.categories.find(n=>n.name===this.activeCategory);return u?u.emojis:[]}},methods:{selectEmoji(u){this.$emit("emoji-selected",u)}}},Xs={class:"emoji-categories"},Js=["onClick"],$s={class:"emoji-grid"},eo=["onClick"];function to(u,n,d,s,C,y){return d.isVisible?(i(),a("div",{key:0,class:"emoji-picker",onMouseenter:n[1]||(n[1]=g=>u.$emit("mouse-enter")),onMouseleave:n[2]||(n[2]=g=>u.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:n[0]||(n[0]=g=>u.$emit("close"))},[...n[3]||(n[3]=[e("i",{class:"fas fa-times"},null,-1)])]),e("div",Xs,[(i(!0),a(Z,null,te(C.categories,g=>(i(),a("button",{key:g.name,class:I([{active:C.activeCategory===g.name},"category-btn"]),type:"button",onClick:k=>C.activeCategory=g.name},c(g.icon),11,Js))),128))]),e("div",$s,[(i(!0),a(Z,null,te(y.currentEmojis,g=>(i(),a("button",{key:g,class:"emoji-btn",type:"button",onClick:k=>y.selectEmoji(g)},c(g),9,eo))),128))])],32)):m("",!0)}const zt=qe(Qs,[["render",to],["__scopeId","data-v-c92f1773"]]),no=async u=>{const n=await ss();return await u(n)},so=async u=>{const{data:n}=await no(d=>d.get("/search_emotes/".concat(u)));return n.emotes||[]},oo={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(u,{emit:n}){const d=f(""),s=f([]),C=f(null),y=f(!1),k=os(async o=>{if(!u.currentUser){console.warn("–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}if(!o.trim()){s.value=[],y.value=!1;return}y.value=!0;try{s.value=await so(o)}catch(p){console.error("Error searching images:",p),s.value=[]}finally{y.value=!1}},300),b=()=>{if(!u.currentUser){n("login-required");return}d.value.trim()&&(y.value=!0),k(d.value)},E=o=>{if(!u.currentUser){n("login-required");return}n("image-selected",o),n("close")},w=()=>{setTimeout(()=>{u.isVisible&&n("mouse-leave")},100)};return Se(()=>u.isVisible,o=>{o&&(d.value="",s.value=[],y.value=!1)}),{searchQuery:d,images:s,searchInput:C,isLoading:y,handleSearch:b,selectImage:E,handleInputBlur:w}}},lo={key:0,class:"auth-required"},io={class:"auth-message"},ao={key:1},ro={class:"image-picker-header"},uo={class:"image-content"},co={key:0,class:"loading-spinner"},vo={key:1,class:"image-grid"},mo=["onClick"],fo=["src","alt"],go={key:2,class:"no-images"},ko={key:3,class:"no-search"};function yo(u,n,d,s,C,y){return d.isVisible?(i(),a("div",{key:0,class:"image-picker",onMouseenter:n[7]||(n[7]=g=>u.$emit("mouse-enter")),onMouseleave:n[8]||(n[8]=g=>u.$emit("mouse-leave")),onClick:n[9]||(n[9]=ut(()=>{},["stop"]))},[e("button",{class:"close-btn mobile-only",onClick:n[0]||(n[0]=g=>u.$emit("close"))},[...n[10]||(n[10]=[e("i",{class:"fas fa-times"},null,-1)])]),d.currentUser?(i(),a("div",ao,[e("div",ro,[ee(e("input",{ref:"searchInput","onUpdate:modelValue":n[2]||(n[2]=g=>s.searchQuery=g),type:"text",placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∞ 7tv",class:"image-search-input",onInput:n[3]||(n[3]=(...g)=>s.handleSearch&&s.handleSearch(...g)),onClick:n[4]||(n[4]=ut(()=>{},["stop"])),onFocus:n[5]||(n[5]=g=>u.$emit("mouse-enter")),onBlur:n[6]||(n[6]=(...g)=>s.handleInputBlur&&s.handleInputBlur(...g))},null,544),[[Ie,s.searchQuery]])]),e("div",uo,[s.isLoading?(i(),a("div",co,[...n[14]||(n[14]=[e("div",{class:"spinner"},null,-1),e("p",null,"–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...",-1)])])):s.images.length>0?(i(),a("div",vo,[(i(!0),a(Z,null,te(s.images,(g,k)=>(i(),a("div",{key:k,class:"image-item",onClick:b=>s.selectImage(g)},[e("img",{src:g,alt:"Image "+(k+1)},null,8,fo)],8,mo))),128))])):s.searchQuery.trim()?(i(),a("div",go,[...n[15]||(n[15]=[e("p",null,"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",-1)])])):(i(),a("div",ko,[...n[16]||(n[16]=[e("p",null,"–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞",-1)])]))])])):(i(),a("div",lo,[e("div",io,[n[11]||(n[11]=e("i",{class:"fas fa-lock"},null,-1)),n[12]||(n[12]=e("h3",null,"–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),n[13]||(n[13]=e("p",null,"–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",-1)),e("button",{class:"login-button",onClick:n[1]||(n[1]=g=>u.$emit("login-required"))},"–í–æ–π—Ç–∏")])]))],32)):m("",!0)}const Wt=qe(oo,[["render",yo],["__scopeId","data-v-01784edf"]]),ho={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(u,{emit:n}){const d=f(""),s=f(""),C=f(null),y=f(null),g=B(()=>/^https?:\/\/.+/.test(d.value.trim())&&s.value.trim()),k=()=>{n("close"),E()},b=()=>{g.value&&(n("submit",{url:d.value.trim(),title:s.value.trim()}),k())},E=()=>{d.value="",s.value=""},w=o=>{var p;o.key==="Enter"?(o.preventDefault(),g.value?b():o.target===C.value&&d.value.trim()&&((p=y.value)==null||p.focus())):o.key==="Escape"&&k()};return Se(()=>u.isVisible,o=>{o&&(u.selectedText.trim()&&(s.value=u.selectedText.trim()),Re(()=>{var p;(p=C.value)==null||p.focus()}))}),{linkUrl:d,linkTitle:s,urlInput:C,titleInput:y,isValidLink:g,closeModal:k,submitLink:b,handleKeydown:w}}},bo={class:"link-modal-header"},po={class:"link-modal-content"},_o={class:"form-group"},wo={class:"form-group"},Co={class:"link-modal-footer"},Eo=["disabled"];function Lo(u,n,d,s,C,y){return d.isVisible?(i(),a("div",{key:0,class:"link-modal-overlay",onClick:n[8]||(n[8]=(...g)=>s.closeModal&&s.closeModal(...g))},[e("div",{class:"link-modal",onClick:n[7]||(n[7]=ut(()=>{},["stop"]))},[e("div",bo,[n[10]||(n[10]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1)),e("button",{class:"close-button",onClick:n[0]||(n[0]=(...g)=>s.closeModal&&s.closeModal(...g))},[...n[9]||(n[9]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",po,[e("div",_o,[n[11]||(n[11]=e("label",{for:"link-url"},"URL —Å—Å—ã–ª–∫–∏:",-1)),ee(e("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":n[1]||(n[1]=g=>s.linkUrl=g),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:n[2]||(n[2]=(...g)=>s.handleKeydown&&s.handleKeydown(...g))},null,544),[[Ie,s.linkUrl]])]),e("div",wo,[n[12]||(n[12]=e("label",{for:"link-title"},"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏:",-1)),ee(e("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":n[3]||(n[3]=g=>s.linkTitle=g),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",class:"link-input",onKeydown:n[4]||(n[4]=(...g)=>s.handleKeydown&&s.handleKeydown(...g))},null,544),[[Ie,s.linkTitle]])])]),e("div",Co,[e("button",{class:"cancel-button",onClick:n[5]||(n[5]=(...g)=>s.closeModal&&s.closeModal(...g))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!s.isValidLink,onClick:n[6]||(n[6]=(...g)=>s.submitLink&&s.submitLink(...g))},"–î–æ–±–∞–≤–∏—Ç—å",8,Eo)])])])):m("",!0)}const Kt=qe(ho,[["render",Lo],["__scopeId","data-v-a794d83f"]]);function Mo(){const u=f(!1),n=f(!1),d=f(!1),s=()=>{n.value=!0},C=()=>{n.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},y=()=>{d.value=!0,u.value=!0},g=()=>{d.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},k=()=>{u.value=!1};return{showEmojiPicker:u,isEmojiHovered:n,isButtonHovered:d,handleEmojiMouseEnter:s,handleEmojiMouseLeave:C,handleButtonMouseEnter:y,handleButtonMouseLeave:g,closeEmojiPicker:k,insertEmoji:(w,o,p,U)=>{const v=o.value;if(v){const R=v.selectionStart,T=v.selectionEnd,L=p.value.substring(0,R),S=p.value.substring(T),V=L+w+S;U(V),Re(()=>{v.focus(),v.setSelectionRange(R+w.length,R+w.length),v.style.height&&(v.style.height="auto",v.style.height="".concat(Math.min(v.scrollHeight,200),"px"))})}else U(p.value+w)},handleGlobalClick:w=>{!w.target.closest(".emoji-picker")&&!w.target.closest(".emoji-button-inline")&&k()}}}function So(){const u=f(!1),n=f(!1),d=f(!1),s=()=>{n.value=!0},C=()=>{n.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},y=()=>{d.value=!0,u.value=!0},g=()=>{d.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},k=()=>{u.value=!1};return{showImagePicker:u,isImageHovered:n,isButtonHovered:d,handleImageMouseEnter:s,handleImageMouseLeave:C,handleImageButtonMouseEnter:y,handleButtonMouseLeave:g,closeImagePicker:k,insertImage:(w,o,p,U)=>{const v=o.value;if(v){const R=v.selectionStart,T=v.selectionEnd,L="[img]".concat(w,"[/img]"),S=p.value.slice(0,R)+L+p.value.slice(T);U(S),Re(()=>{v.focus(),v.setSelectionRange(R+L.length,R+L.length),v.style.height&&(v.style.height="auto",v.style.height="".concat(Math.min(v.scrollHeight,200),"px"))})}else{const R="[img]".concat(w,"[/img]");U(p.value+R)}},handleGlobalClick:w=>{!w.target.closest(".image-picker")&&!w.target.closest(".emoji-button-inline")&&k()}}}function Io(){const u=f(!1),n=f("");return{showLinkModal:u,selectedTextForLink:n,insertLink:(g,k)=>{const b=g.value;if(b){const E=b.selectionStart,w=b.selectionEnd,o=k.value.slice(E,w);n.value=o.trim()||""}u.value=!0},insertLinkFromModal:(g,k,b,E)=>{const w=k.value;if(w){const o=w.selectionStart,p=w.selectionEnd,U="[link=".concat(g.url,"]").concat(g.title,"[/link]"),v=b.value.slice(0,o)+U+b.value.slice(p);E(v),Re(()=>{w.focus(),w.setSelectionRange(o+U.length,o+U.length),w.style.height&&(w.style.height="auto",w.style.height="".concat(Math.min(w.scrollHeight,200),"px"))})}},closeLinkModal:()=>{u.value=!1},insertSpoiler:(g,k,b)=>{const E=g.value;if(E){const w=E.selectionStart,o=E.selectionEnd,p=k.value.slice(w,o);let U;p.trim()?U="[spoiler]".concat(p,"[/spoiler]"):U="[spoiler][/spoiler]";const v=k.value.slice(0,w)+U+k.value.slice(o);b(v),Re(()=>{if(E.focus(),p.trim())E.setSelectionRange(w+U.length,w+U.length);else{const R=w+9;E.setSelectionRange(R,R)}E.style.height&&(E.style.height="auto",E.style.height="".concat(Math.min(E.scrollHeight,200),"px"))})}}}}function To(){return{autoResize:d=>{const s=d==null?void 0:d.target;s&&(s.style.height="auto",s.style.height="".concat(Math.min(s.scrollHeight,200),"px"))},autoResizeElement:d=>{d&&(d.style.height="auto",d.style.height="".concat(Math.min(d.scrollHeight,200),"px"))}}}function Gt(){const u=Mo(),n=So(),d=Io(),{autoResize:s,autoResizeElement:C}=To(),y=()=>{u.isButtonHovered.value=!0,n.isButtonHovered.value=!0,u.showEmojiPicker.value=!0,n.showImagePicker.value=!1},g=()=>{u.isButtonHovered.value=!0,n.isButtonHovered.value=!0,n.showImagePicker.value=!0,u.showEmojiPicker.value=!1},k=()=>{u.isButtonHovered.value=!1,n.isButtonHovered.value=!1,setTimeout(()=>{!u.isEmojiHovered.value&&!n.isImageHovered.value&&!u.isButtonHovered.value&&!n.isButtonHovered.value&&(u.showEmojiPicker.value=!1,n.showImagePicker.value=!1)},300)},b=()=>{u.showEmojiPicker.value=!1,n.showImagePicker.value=!1},E=R=>{!R.target.closest(".emoji-picker")&&!R.target.closest(".image-picker")&&!R.target.closest(".emoji-button-inline")&&b()},w=(R,T,L,S)=>{u.insertEmoji(R,T,L,S)},o=(R,T,L,S)=>{n.insertImage(R,T,L,S)},p=(R,T,L)=>{d.insertLink(R,T,L)},U=(R,T,L,S)=>{d.insertLinkFromModal(R,T,L,S)},v=(R,T,L)=>{d.insertSpoiler(R,T,L)};return rt(()=>{document.addEventListener("click",E)}),En(()=>{document.removeEventListener("click",E)}),{showEmojiPicker:u.showEmojiPicker,handleEmojiMouseEnter:u.handleEmojiMouseEnter,handleEmojiMouseLeave:u.handleEmojiMouseLeave,closeEmojiPicker:u.closeEmojiPicker,showImagePicker:n.showImagePicker,handleImageMouseEnter:n.handleImageMouseEnter,handleImageMouseLeave:n.handleImageMouseLeave,closeImagePicker:n.closeImagePicker,showLinkModal:d.showLinkModal,selectedTextForLink:d.selectedTextForLink,closeLinkModal:d.closeLinkModal,handleButtonMouseEnter:y,handleImageButtonMouseEnter:g,handleButtonMouseLeave:k,closeAllPickers:b,insertEmojiUniversal:w,insertImageUniversal:o,insertLinkUniversal:p,insertLinkFromModalUniversal:U,insertSpoilerUniversal:v,autoResize:s,autoResizeElement:C}}const xo={name:"CommentItem",components:{EmojiPicker:zt,ImagePicker:Wt,LinkModal:Kt},props:{comment:{type:Object,default:()=>({name:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(u,{emit:n}){var pe,_e;const d=qt(),s=B(()=>{var _;return u.editingCommentId===((_=u.comment)==null?void 0:_.id)}),C=f(((pe=u.comment)==null?void 0:pe.content)||""),y=f(((_e=u.comment)==null?void 0:_e.user_rating)||0),g=f(null),k=f(null),{showEmojiPicker:b,showImagePicker:E,showLinkModal:w,selectedTextForLink:o,handleEmojiMouseEnter:p,handleEmojiMouseLeave:U,handleImageMouseEnter:v,handleImageMouseLeave:R,handleButtonMouseEnter:T,handleImageButtonMouseEnter:L,handleButtonMouseLeave:S,closeEmojiPicker:V,closeImagePicker:H,closeLinkModal:re,insertEmojiUniversal:fe,insertImageUniversal:le,insertLinkUniversal:P,insertLinkFromModalUniversal:ke,insertSpoilerUniversal:X,autoResize:Y}=Gt(),{formatContentWithTruncation:ye}=In();rt(async()=>{var _;if((_=u.comment)!=null&&_.user_avatar){const F=await ls();g.value="".concat(F).concat(u.comment.user_avatar)}});const x=B(()=>{var _;return u.currentUser&&((_=u.comment)==null?void 0:_.user_id)===u.currentUser.id}),ve=B(()=>{var _;return u.currentUser&&((_=u.comment)==null?void 0:_.user_id)===u.currentUser.id||u.currentUser&&u.currentUser.is_admin===1}),W=B(()=>{var _,F,xe;return((_=u.comment)==null?void 0:_.updated_at)&&((F=u.comment)==null?void 0:F.updated_at)!==((xe=u.comment)==null?void 0:xe.created_at)}),O=B(()=>{var _,F;return(_=u.comment)!=null&&_.is_deleted?!1:(((F=u.comment)==null?void 0:F.rating)||0)<=-3}),Te=B(()=>O.value),J=f(!1),Ne=B(()=>{var _,F;return(_=u.comment)!=null&&_.is_deleted?null:(((F=u.comment)==null?void 0:F.rating)||0)<=-3?"lowRating":null}),Be=()=>{var _,F;n("start-edit",(_=u.comment)==null?void 0:_.id),C.value=((F=u.comment)==null?void 0:F.content)||"",Re(()=>{k.value&&(k.value.focus(),Y({target:k.value}))})},dt=()=>{var _;n("cancel-edit"),C.value=((_=u.comment)==null?void 0:_.content)||""},Je=()=>{var _;C.value.trim()&&n("edit",(_=u.comment)==null?void 0:_.id,C.value.trim())},ct=()=>{var _;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&n("delete",(_=u.comment)==null?void 0:_.id)},he=_=>{var F,xe;y.value===_?(y.value=0,n("rate",(F=u.comment)==null?void 0:F.id,_)):(y.value=_,n("rate",(xe=u.comment)==null?void 0:xe.id,_))},vt=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),Je())},$e=B(()=>{var _;return ye((_=u.comment)==null?void 0:_.content)}),Ue=()=>{console.log("Avatar load error, falling back to initials"),g.value=null},et=_=>{const F=_.target.closest(".spoiler-text");F&&F.classList.toggle("revealed")},tt=()=>{d.push("/login")},Ae=_=>{fe(_,k,C,F=>{C.value=F})},be=_=>{le(_,k,C,F=>{C.value=F})},ze=()=>{X(k,C,_=>{C.value=_})},nt=()=>{P(k,C,_=>{C.value=_})},me=_=>{ke(_,k,C,F=>{C.value=F})},We=_=>{Y(_)};return Se(C,()=>{s.value&&k.value&&Re(()=>{We({target:k.value})})}),{isEditing:s,editContent:C,userRating:y,isCommentOwner:x,canDeleteComment:ve,isCommentEdited:W,formatDate:Ln,formatRelativeTime:as,startEdit:Be,cancelEdit:dt,saveEdit:Je,confirmDelete:ct,rateComment:he,avatarUrl:g,getInitials:is,handleEditKeydown:vt,isCommentHidden:Te,showHiddenComment:J,hiddenCommentReason:Ne,formattedContent:$e,autoResizeEdit:We,editTextarea:k,showEmojiPicker:b,showImagePicker:E,insertEmojiEdit:Ae,insertImageEdit:be,insertSpoilerEdit:ze,insertLinkEdit:nt,handleEmojiMouseEnter:p,handleEmojiMouseLeave:U,handleImageMouseEnter:v,handleImageMouseLeave:R,closeEmojiPicker:V,closeImagePicker:H,handleButtonMouseEnter:T,handleButtonMouseLeave:S,handleImageButtonMouseEnter:L,handleAvatarError:Ue,handleFormattedContentClick:et,openLogin:tt,showLinkModal:w,selectedTextForLink:o,insertLinkFromModal:me,closeLinkModal:re}}},Ro=["data-comment-id"],Po={class:"comment-header"},jo={class:"user-info"},No={class:"user-avatar"},Bo=["src","alt"],Uo={class:"user-details"},Ao={class:"username"},Oo={key:0,class:"user-rating"},Vo=["title"],Fo=["title"],Ho={class:"comment-content"},Do={key:0,class:"hidden-comment-warning"},qo={key:1},zo={key:0,class:"deleted-comment"},Wo={key:1},Ko={key:0,class:"edit-form"},Go={class:"edit-textarea-container"},Yo={class:"edit-footer"},Zo={class:"edit-actions"},Qo=["disabled"],Xo={class:"character-counter-container"},Jo={key:1,class:"comment-text-container"},$o=["innerHTML"],el={class:"comment-footer"},tl={class:"comment-actions"},nl={class:"rating-buttons"},sl={class:"action-buttons"};function ol(u,n,d,s,C,y){var w,o,p,U,v,R,T,L,S,V,H,re,fe,le,P,ke,X,Y,ye;const g=ae("router-link"),k=ae("EmojiPicker"),b=ae("ImagePicker"),E=ae("LinkModal");return i(),a("div",{class:"comment-item","data-comment-id":(w=d.comment)==null?void 0:w.id},[e("div",Po,[e("div",jo,[Q(g,{to:{path:"/lists/".concat((o=d.comment)==null?void 0:o.user_id)},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:Ft(()=>{var x,ve;return[e("div",No,[s.avatarUrl?(i(),a("img",{key:0,src:s.avatarUrl,alt:((x=d.comment)==null?void 0:x.name)||"–ê–Ω–æ–Ω–∏–º",onError:n[0]||(n[0]=(...W)=>s.handleAvatarError&&s.handleAvatarError(...W))},null,40,Bo)):(i(),a("div",{key:1,class:"avatar-placeholder",style:Ht({display:s.avatarUrl?"none":"flex"})},c(s.getInitials(((ve=d.comment)==null?void 0:ve.name)||"–ê–Ω–æ–Ω–∏–º")),5))])]}),_:1},8,["to"]),e("div",Uo,[Q(g,{to:{path:"/lists/".concat((p=d.comment)==null?void 0:p.user_id)},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:Ft(()=>{var x;return[e("span",Ao,c(((x=d.comment)==null?void 0:x.name)||"–ê–Ω–æ–Ω–∏–º"),1)]}),_:1},8,["to"]),(U=d.comment)!=null&&U.user_movie_rating?(i(),a("span",Oo,[n[19]||(n[19]=e("i",{class:"fas fa-star"},null,-1)),A(" "+c(d.comment.user_movie_rating),1)])):m("",!0),e("span",{class:"date",title:s.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(s.formatDate((v=d.comment)==null?void 0:v.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(s.formatDate((R=d.comment)==null?void 0:R.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(s.formatDate((T=d.comment)==null?void 0:T.created_at))},[A(c(s.formatRelativeTime((L=d.comment)==null?void 0:L.created_at))+" ",1),s.isCommentEdited?(i(),a("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:s.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(s.formatDate((S=d.comment)==null?void 0:S.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(s.formatDate((V=d.comment)==null?void 0:V.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(s.formatDate((H=d.comment)==null?void 0:H.created_at))},null,8,Fo)):m("",!0)],8,Vo)])])]),e("div",Ho,[!((re=d.comment)!=null&&re.is_deleted)&&s.isCommentHidden&&!s.showHiddenComment?(i(),a("div",Do,[s.hiddenCommentReason==="lowRating"?(i(),a("p",{key:0,class:"warning-text",onClick:n[1]||(n[1]=x=>s.showHiddenComment=!0)},[...n[20]||(n[20]=[e("i",{class:"fas fa-eye-slash"},null,-1),A(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ",-1)])])):m("",!0)])):(i(),a("div",qo,[(fe=d.comment)!=null&&fe.is_deleted?(i(),a("div",zo,[...n[21]||(n[21]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),A(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)])])):(i(),a("div",Wo,[s.isEditing?(i(),a("div",Ko,[e("div",Go,[ee(e("textarea",{ref:"editTextarea","onUpdate:modelValue":n[2]||(n[2]=x=>s.editContent=x),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:n[3]||(n[3]=(...x)=>s.handleEditKeydown&&s.handleEditKeydown(...x)),onInput:n[4]||(n[4]=(...x)=>s.autoResizeEdit&&s.autoResizeEdit(...x))},null,544),[[Ie,s.editContent]])]),e("div",Yo,[e("div",Zo,[e("button",{class:"cancel-button",onClick:n[5]||(n[5]=(...x)=>s.cancelEdit&&s.cancelEdit(...x))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"save-button",disabled:!s.editContent.trim()||s.editContent.length>1500,onClick:n[6]||(n[6]=(...x)=>s.saveEdit&&s.saveEdit(...x))}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,Qo)]),e("div",Xo,[e("div",{class:I(["character-counter-inline",{"near-limit":s.editContent.length>1400,"at-limit":s.editContent.length>=1500}])},c(s.editContent.length)+"/1500 ",3),e("button",{type:"button",class:I(["emoji-button-inline",{active:s.showEmojiPicker}]),onMouseenter:n[7]||(n[7]=(...x)=>s.handleButtonMouseEnter&&s.handleButtonMouseEnter(...x)),onMouseleave:n[8]||(n[8]=(...x)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...x))}," üòä ",34),e("button",{type:"button",class:I(["emoji-button-inline",{active:s.showImagePicker}]),onMouseenter:n[9]||(n[9]=(...x)=>s.handleImageButtonMouseEnter&&s.handleImageButtonMouseEnter(...x)),onMouseleave:n[10]||(n[10]=(...x)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...x))},[...n[22]||(n[22]=[pt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-45c64539><g id="logo" data-v-45c64539><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-45c64539></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-45c64539></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-45c64539></path></g></svg>',1)])],34),e("button",{type:"button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä",class:"emoji-button-inline spoiler-button",onClick:n[11]||(n[11]=(...x)=>s.insertSpoilerEdit&&s.insertSpoilerEdit(...x))},[...n[23]||(n[23]=[e("i",{class:"fas fa-eye-slash"},null,-1)])]),e("button",{type:"button",class:"emoji-button-inline link-button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",onClick:n[12]||(n[12]=(...x)=>s.insertLinkEdit&&s.insertLinkEdit(...x))},[...n[24]||(n[24]=[e("i",{class:"fas fa-link"},null,-1)])]),Q(k,{"is-visible":s.showEmojiPicker,onEmojiSelected:s.insertEmojiEdit,onMouseEnter:s.handleEmojiMouseEnter,onMouseLeave:s.handleEmojiMouseLeave,onClose:s.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),Q(b,{"is-visible":s.showImagePicker,"current-user":d.currentUser,onImageSelected:s.insertImageEdit,onMouseEnter:s.handleImageMouseEnter,onMouseLeave:s.handleImageMouseLeave,onClose:s.closeImagePicker,onLoginRequired:s.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),Q(E,{"is-visible":s.showLinkModal,"selected-text":s.selectedTextForLink,onClose:s.closeLinkModal,onSubmit:s.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(i(),a("div",Jo,[e("p",{class:"comment-text",onClick:n[13]||(n[13]=(...x)=>s.handleFormattedContentClick&&s.handleFormattedContentClick(...x)),innerHTML:s.formattedContent},null,8,$o)]))]))]))]),e("div",el,[e("div",tl,[e("div",nl,[!s.isCommentOwner&&!((le=d.comment)!=null&&le.is_deleted)?(i(),a("button",{key:0,class:I(["rating-button",{"rated-up":s.userRating===1}]),onClick:n[14]||(n[14]=x=>s.rateComment(1))},[...n[25]||(n[25]=[e("i",{class:"fas fa-thumbs-up"},null,-1)])],2)):m("",!0),e("span",{class:I(["rating-count",{"rating-positive":s.userRating===1,"rating-negative":s.userRating===-1}])},c(((P=d.comment)==null?void 0:P.rating)||0),3),!s.isCommentOwner&&!((ke=d.comment)!=null&&ke.is_deleted)?(i(),a("button",{key:1,class:I(["rating-button",{"rated-down":s.userRating===-1}]),onClick:n[15]||(n[15]=x=>s.rateComment(-1))},[...n[26]||(n[26]=[e("i",{class:"fas fa-thumbs-down"},null,-1)])],2)):m("",!0)]),e("div",sl,[!d.currentUser||d.currentUser.allow_comments===1?(i(),a("button",{key:0,class:"action-button reply-button",onClick:n[16]||(n[16]=x=>u.$emit("reply",d.comment))},[...n[27]||(n[27]=[e("i",{class:"fas fa-reply"},null,-1)])])):m("",!0),s.isCommentOwner&&!((X=d.comment)!=null&&X.is_deleted)&&!s.isEditing&&((Y=d.currentUser)==null?void 0:Y.allow_comments)===1?(i(),a("button",{key:1,class:"action-button edit-button",onClick:n[17]||(n[17]=(...x)=>s.startEdit&&s.startEdit(...x))},[...n[28]||(n[28]=[e("i",{class:"fas fa-edit"},null,-1)])])):m("",!0),s.canDeleteComment&&!((ye=d.comment)!=null&&ye.is_deleted)?(i(),a("button",{key:2,class:"action-button delete-button",onClick:n[18]||(n[18]=(...x)=>s.confirmDelete&&s.confirmDelete(...x))},[...n[29]||(n[29]=[e("i",{class:"fas fa-trash"},null,-1)])])):m("",!0)])])])],8,Ro)}const ll=qe(xo,[["render",ol],["__scopeId","data-v-45c64539"]]),il={name:"CommentThread",components:{CommentItem:ll,EmojiPicker:zt,ImagePicker:Wt,LinkModal:Kt},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(u,{emit:n}){const d=f(null),s=f(!0),{showEmojiPicker:C,showImagePicker:y,showLinkModal:g,selectedTextForLink:k,handleEmojiMouseEnter:b,handleEmojiMouseLeave:E,handleImageMouseEnter:w,handleImageMouseLeave:o,handleButtonMouseEnter:p,handleImageButtonMouseEnter:U,handleButtonMouseLeave:v,closeEmojiPicker:R,closeImagePicker:T,closeLinkModal:L,insertEmojiUniversal:S,insertImageUniversal:V,insertLinkUniversal:H,insertLinkFromModalUniversal:re,insertSpoilerUniversal:fe}=Gt(),le=W=>{n("update-reply-content",W.target.value);const O=W.target;O&&(O.style.height="auto",O.style.height="".concat(Math.min(O.scrollHeight,200),"px"))},P={get value(){return u.replyContent},set value(W){n("update-reply-content",W)}};return{replyTextarea:d,showEmojiPicker:C,showImagePicker:y,isCollapsed:s,insertEmoji:W=>{S(W,d,P,O=>{n("update-reply-content",O)})},insertImage:W=>{V(W,d,P,O=>{n("update-reply-content",O)})},insertSpoiler:()=>{fe(d,P,W=>{n("update-reply-content",W)})},handleEmojiMouseEnter:b,handleEmojiMouseLeave:E,handleImageMouseEnter:w,handleImageMouseLeave:o,handleButtonMouseEnter:p,handleButtonMouseLeave:v,closeEmojiPicker:R,closeImagePicker:T,handleImageButtonMouseEnter:U,handleReplyInput:le,toggleCollapsed:()=>{s.value=!s.value},showLinkModal:g,selectedTextForLink:k,insertLink:()=>{H(d,P,W=>{n("update-reply-content",W)})},closeLinkModal:L,insertLinkFromModal:W=>{re(W,d,P,O=>{n("update-reply-content",O)})}}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."},formattedContent(){const{formatContent:u}=In();return u(this.comment.content)}}},al={class:"comment-thread"},rl={key:0,class:"reply-form"},ul={class:"textarea-container"},dl=["value","placeholder","disabled"],cl={class:"reply-footer"},vl={class:"reply-actions"},ml=["disabled"],fl={class:"character-counter-container"},gl=["disabled"],kl={key:1,class:"replies-container"},yl=["title"],hl={class:"replies-count"},bl=["title"],pl={key:0,class:"replies-content"};function _l(u,n,d,s,C,y){const g=ae("CommentItem"),k=ae("EmojiPicker"),b=ae("ImagePicker"),E=ae("LinkModal"),w=ae("CommentThread",!0);return i(),a("div",al,[Q(g,{comment:d.comment,"current-user":d.currentUser,"editing-comment-id":d.editingCommentId,onReply:n[0]||(n[0]=o=>u.$emit("reply",o)),onStartEdit:n[1]||(n[1]=o=>u.$emit("start-edit",o)),onCancelEdit:n[2]||(n[2]=o=>u.$emit("cancel-edit")),onEdit:n[3]||(n[3]=(o,p)=>u.$emit("edit",o,p)),onDelete:n[4]||(n[4]=o=>u.$emit("delete",o)),onRate:n[5]||(n[5]=(o,p)=>u.$emit("rate",o,p))},null,8,["comment","current-user","editing-comment-id"]),d.replyTo&&d.replyTo.id===d.comment.id?(i(),a("div",rl,[e("div",ul,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:d.replyContent,placeholder:y.getReplyPlaceholder,disabled:d.currentUser&&d.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:n[6]||(n[6]=(...o)=>s.handleReplyInput&&s.handleReplyInput(...o)),onKeydown:n[7]||(n[7]=o=>u.$emit("reply-keydown",o))},null,40,dl)]),e("div",cl,[e("div",vl,[e("button",{class:"cancel-reply",onClick:n[8]||(n[8]=o=>u.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!d.replyContent.trim()||d.replyContent.length>1500||d.currentUser&&d.currentUser.allow_comments!==1,onClick:n[9]||(n[9]=o=>u.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,ml)]),e("div",fl,[e("div",{class:I(["character-counter-inline",{"near-limit":d.replyContent.length>1400,"at-limit":d.replyContent.length>=1500}])},c(d.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:I(["emoji-button-inline",{active:s.showEmojiPicker}]),onMouseenter:n[10]||(n[10]=(...o)=>s.handleButtonMouseEnter&&s.handleButtonMouseEnter(...o)),onMouseleave:n[11]||(n[11]=(...o)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...o))}," üòä ",34),e("button",{type:"button",class:I(["emoji-button-inline",{active:s.showImagePicker}]),onMouseenter:n[12]||(n[12]=(...o)=>s.handleImageButtonMouseEnter&&s.handleImageButtonMouseEnter(...o)),onMouseleave:n[13]||(n[13]=(...o)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...o))},[...n[29]||(n[29]=[pt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-597bf6f3><g id="logo" data-v-597bf6f3><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-597bf6f3></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-597bf6f3></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-597bf6f3></path></g></svg>',1)])],34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:d.currentUser&&d.currentUser.allow_comments!==1,title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä",onClick:n[14]||(n[14]=(...o)=>s.insertSpoiler&&s.insertSpoiler(...o))},[...n[30]||(n[30]=[e("i",{class:"fas fa-eye-slash"},null,-1)])],8,gl),e("button",{type:"button",class:"emoji-button-inline link-button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",onClick:n[15]||(n[15]=(...o)=>s.insertLink&&s.insertLink(...o))},[...n[31]||(n[31]=[e("i",{class:"fas fa-link"},null,-1)])]),Q(k,{"is-visible":s.showEmojiPicker,onEmojiSelected:s.insertEmoji,onMouseEnter:s.handleEmojiMouseEnter,onMouseLeave:s.handleEmojiMouseLeave,onClose:s.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),Q(b,{"is-visible":s.showImagePicker,"current-user":d.currentUser,onImageSelected:s.insertImage,onMouseEnter:s.handleImageMouseEnter,onMouseLeave:s.handleImageMouseLeave,onClose:s.closeImagePicker,onLoginRequired:n[16]||(n[16]=()=>u.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),Q(E,{"is-visible":s.showLinkModal,"selected-text":s.selectedTextForLink,onClose:s.closeLinkModal,onSubmit:s.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):m("",!0),d.comment.replies&&d.comment.replies.length>0?(i(),a("div",kl,[e("button",{class:"collapse-toggle",title:s.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:n[17]||(n[17]=(...o)=>s.toggleCollapsed&&s.toggleCollapsed(...o))},[e("span",{class:I(["collapse-icon",{expanded:!s.isCollapsed}])},[...n[32]||(n[32]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)])],2),e("span",hl,c(d.comment.replies.length)+" "+c(d.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,yl),e("div",{class:"vertical-line-clickable",title:s.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:n[18]||(n[18]=(...o)=>s.toggleCollapsed&&s.toggleCollapsed(...o))},[e("div",{class:I(["vertical-line-visual",{collapsed:s.isCollapsed}])},null,2)],8,bl),s.isCollapsed?m("",!0):(i(),a("div",pl,[(i(!0),a(Z,null,te(d.comment.replies,o=>(i(),Xe(w,{key:o.id,comment:o,"current-user":d.currentUser,"reply-to":d.replyTo,"reply-content":d.replyContent,"editing-comment-id":d.editingCommentId,onReply:n[19]||(n[19]=p=>u.$emit("reply",p)),onStartEdit:n[20]||(n[20]=p=>u.$emit("start-edit",p)),onCancelEdit:n[21]||(n[21]=p=>u.$emit("cancel-edit")),onEdit:n[22]||(n[22]=(p,U)=>u.$emit("edit",p,U)),onDelete:n[23]||(n[23]=p=>u.$emit("delete",p)),onRate:n[24]||(n[24]=(p,U)=>u.$emit("rate",p,U)),onSubmitReply:n[25]||(n[25]=p=>u.$emit("submit-reply")),onCancelReply:n[26]||(n[26]=p=>u.$emit("cancel-reply")),onUpdateReplyContent:n[27]||(n[27]=p=>u.$emit("update-reply-content",p)),onReplyKeydown:n[28]||(n[28]=p=>u.$emit("reply-keydown",p))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):m("",!0)])}const wl=qe(il,[["render",_l],["__scopeId","data-v-597bf6f3"]]),Cl='–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>';function El(u,n){const d=(C,y=3e3,g={})=>{var k;(k=u.value)==null||k.showNotification(C,y,g)};return{notify:d,notifyAuthRequired:()=>{d(Cl,5e3,{onClick:n})}}}const Ll={name:"Comments",components:{CommentThread:wl,Notification:Sn,EmojiPicker:zt,ImagePicker:Wt,LinkModal:Kt},props:{movieId:{type:[String,Number],required:!0}},setup(u){const n=Mn(),d=qt(),s=Dt(),C=f([]),y=f(""),g=f(null),k=f(""),b=f(null),E=f(n.user),w=f(null),o=f(null),p=f(s.isAutoShowComments),U=f(!1),v=f(3),R=f(s.commentsSortBy),T=f(R.value==="date"?"asc":"desc"),L=()=>{d.push("/login")},{notify:S,notifyAuthRequired:V}=El(w,L),{showEmojiPicker:H,showImagePicker:re,showLinkModal:fe,selectedTextForLink:le,handleEmojiMouseEnter:P,handleEmojiMouseLeave:ke,handleImageMouseEnter:X,handleImageMouseLeave:Y,handleButtonMouseEnter:ye,handleImageButtonMouseEnter:x,handleButtonMouseLeave:ve,closeEmojiPicker:W,closeImagePicker:O,closeLinkModal:Te,insertEmojiUniversal:J,insertImageUniversal:Ne,insertLinkUniversal:Be,insertLinkFromModalUniversal:dt,insertSpoilerUniversal:Je,autoResize:ct}=Gt(),he=B(()=>{const M=(N=null)=>{const ne=C.value.filter(G=>G.parent_id===N).filter(G=>!G.is_deleted||G.replies&&G.replies.length>0);let se;return N===null?se=ne.sort((G,K)=>{if(R.value==="rating"){const ie=G.rating||0,Ge=K.rating||0;return ie!==Ge?T.value==="asc"?ie-Ge:Ge-ie:G.id-K.id}return T.value==="asc"?G.id-K.id:K.id-G.id}):se=ne.sort((G,K)=>G.id-K.id),se.map(G=>({...G,replies:M(G.id)}))};return M()}),vt=B(()=>{const M=N=>N.reduce((ne,se)=>ne+1+M(se.replies||[]),0);return M(he.value)}),$e=B(()=>he.value.slice(0,v.value)),Ue=B(()=>he.value.length>v.value),et=B(()=>he.value.length-v.value),tt=()=>{v.value=he.value.length},Ae=M=>{R.value===M?T.value=T.value==="asc"?"desc":"asc":(R.value=M,T.value=M==="date"?"asc":"desc",s.setCommentsSortBy(M))},be=async()=>{try{const M=await us(u.movieId);C.value=M}catch(M){console.error("Failed to load comments:",M),S("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},ze=async()=>{if(U.value)return;if(!n.token){V();return}if(E.value&&E.value.allow_comments!==1){S("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!y.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){S("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");return}if(y.value.length>1500){S("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await kn(u.movieId,y.value.trim()),y.value="",await be(),p.value=!0,Re(()=>{o.value&&(o.value.focus(),o.value.style.height="auto"),setTimeout(()=>{const N=document.querySelectorAll(".comment-item[data-comment-id]");if(N.length>0){const ne=Array.from(N).map(se=>parseInt(se.getAttribute("data-comment-id"))).filter(se=>!isNaN(se));if(ne.length>0){const se=Math.max(...ne),G=document.querySelector('[data-comment-id="'.concat(se,'"]'));G&&G.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(N){console.error("Failed to create comment:",N),S("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},nt=M=>{if(!n.token){V();return}b.value=null,g.value=M,k.value="",Re(()=>{const N=document.querySelector(".reply-form");N&&N.scrollIntoView({behavior:"smooth",block:"center"})})},me=async()=>{if(!n.token){V();return}if(E.value&&E.value.allow_comments!==1){S("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!k.value.trim()||!g.value)){if(k.value.length>1500){S("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await kn(u.movieId,k.value.trim(),g.value.id);const M=g.value.id;await be(),k.value="",g.value=null,Re(()=>{setTimeout(()=>{const N=document.querySelector('[data-comment-id="'.concat(M,'"]'));if(N){const ne=N.querySelector(".replies-content");if(ne){const se=ne.querySelectorAll(".comment-item[data-comment-id]");if(se.length>0){const G=Array.from(se).map(K=>parseInt(K.getAttribute("data-comment-id"))).filter(K=>!isNaN(K));if(G.length>0){const K=Math.max(...G),ie=document.querySelector('[data-comment-id="'.concat(K,'"]'));ie&&ie.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(M){console.error("Error submitting reply:",M),S("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},We=async(M,N)=>{if(!n.token){V();return}if(E.value&&E.value.allow_comments!==1){S("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(N.length>1500){S("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await vs(M,N.trim()),await be(),b.value=null}catch(ne){console.error("Failed to update comment:",ne),S("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},pe=async M=>{if(!n.token){V();return}try{await cs(M),await be()}catch(N){console.error("Failed to delete comment:",N),S("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},_e=async(M,N)=>{if(!n.token){V();return}try{await ds(M,N),await be()}catch(ne){console.error("Failed to rate comment:",ne),S("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},_=M=>{U.value||H.value||M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),ze())},F=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),me())},xe=M=>{U.value=!0,J(M,o,y,N=>{y.value=N}),setTimeout(()=>{U.value=!1},100)},Rt=M=>{Ne(M,o,y,N=>{y.value=N})},_t=()=>{Je(o,y,M=>{y.value=M})},Pt=()=>{Be(o,y,M=>{y.value=M})},mt=M=>{dt(M,o,y,N=>{y.value=N})},jt=B(()=>E.value?E.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),Ke=B(()=>E.value?E.value.allow_comments===1:!0),wt=M=>{g.value=null,k.value="",b.value=M},st=()=>{b.value=null};return rt(()=>{be()}),{comments:C,groupedComments:he,displayedComments:$e,hasMoreComments:Ue,remainingCommentsCount:et,showMoreComments:tt,sortBy:R,setSortBy:Ae,sortDirection:T,newComment:y,replyTo:g,replyContent:k,editingCommentId:b,currentUser:E,notificationRef:w,commentTextarea:o,showComments:p,submitComment:ze,handleReply:nt,submitReply:me,handleEdit:We,handleDelete:pe,handleRate:_e,handleCommentKeydown:_,handleReplyKeydown:F,autoResize:ct,totalCommentsCount:vt,getCommentWordForm:rs,showEmojiPicker:H,showImagePicker:re,showLinkModal:fe,selectedTextForLink:le,insertEmoji:xe,insertImage:Rt,handleEmojiMouseEnter:P,handleEmojiMouseLeave:ke,handleImageMouseEnter:X,handleImageMouseLeave:Y,closeEmojiPicker:W,closeImagePicker:O,handleButtonMouseLeave:ve,handleButtonMouseEnter:ye,handleImageButtonMouseEnter:x,getCommentPlaceholder:jt,canComment:Ke,handleStartEdit:wt,handleCancelEdit:st,insertSpoiler:_t,insertLink:Pt,insertLinkFromModal:mt,closeLinkModal:Te}}},Ml={class:"comments-section"},Sl={class:"spoiler-content"},Il={key:1,class:"comments-container"},Tl={class:"comments-header"},xl={class:"comments-controls"},Rl={class:"textarea-container"},Pl=["placeholder","disabled"],jl={class:"comment-footer"},Nl={class:"comment-actions"},Bl=["disabled"],Ul={class:"character-counter-container"},Al=["disabled"],Ol=["disabled"],Vl=["disabled"],Fl={class:"comments-list"},Hl={key:0,class:"show-more-comments"};function Dl(u,n,d,s,C,y){const g=ae("EmojiPicker"),k=ae("ImagePicker"),b=ae("LinkModal"),E=ae("CommentThread"),w=ae("Notification");return i(),a("div",Ml,[s.showComments?(i(),a("div",Il,[e("div",Tl,[e("div",xl,[e("button",{class:I(["sort-button",{active:s.sortBy==="date"}]),title:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ",onClick:n[1]||(n[1]=o=>s.setSortBy("date"))},[n[20]||(n[20]=e("i",{class:"fas fa-clock"},null,-1)),n[21]||(n[21]=A(" –ü–æ –¥–∞—Ç–µ ",-1)),s.sortBy==="date"?(i(),a("i",{key:0,class:I(["fas",s.sortDirection==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):m("",!0)],2),e("button",{class:I(["sort-button",{active:s.sortBy==="rating"}]),title:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É",onClick:n[2]||(n[2]=o=>s.setSortBy("rating"))},[n[22]||(n[22]=e("i",{class:"fas fa-thumbs-up"},null,-1)),n[23]||(n[23]=A(" –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É ",-1)),s.sortBy==="rating"?(i(),a("i",{key:0,class:I(["fas",s.sortDirection==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):m("",!0)],2)]),e("button",{class:"hide-comments-btn",onClick:n[3]||(n[3]=o=>s.showComments=!1)},[...n[24]||(n[24]=[e("i",{class:"fas fa-eye-slash"},null,-1),A(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ",-1)])])]),e("form",{class:"comment-form",onSubmit:n[13]||(n[13]=ut((...o)=>s.submitComment&&s.submitComment(...o),["prevent"]))},[e("div",Rl,[ee(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":n[4]||(n[4]=o=>s.newComment=o),class:"comment-textarea",placeholder:s.getCommentPlaceholder,disabled:s.currentUser&&s.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:n[5]||(n[5]=(...o)=>s.autoResize&&s.autoResize(...o)),onKeydown:n[6]||(n[6]=(...o)=>s.handleCommentKeydown&&s.handleCommentKeydown(...o))},null,40,Pl),[[Ie,s.newComment]])]),e("div",jl,[e("div",Nl,[e("button",{class:"submit-button",type:"submit",disabled:!s.newComment.trim()||s.newComment.length>1500||s.currentUser&&s.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,Bl)]),e("div",Ul,[e("div",{class:I(["character-counter-inline",{"near-limit":s.newComment.length>1400,"at-limit":s.newComment.length>=1500}])},c(s.newComment.length)+"/1500 ",3),e("button",{type:"button",class:I(["emoji-button-inline",{active:s.showEmojiPicker}]),disabled:s.currentUser&&s.currentUser.allow_comments!==1,onMouseenter:n[7]||(n[7]=(...o)=>s.handleButtonMouseEnter&&s.handleButtonMouseEnter(...o)),onMouseleave:n[8]||(n[8]=(...o)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...o))}," üòä ",42,Al),e("button",{type:"button",class:I(["emoji-button-inline",{active:s.showImagePicker}]),disabled:s.currentUser&&s.currentUser.allow_comments!==1,onMouseenter:n[9]||(n[9]=(...o)=>s.handleImageButtonMouseEnter&&s.handleImageButtonMouseEnter(...o)),onMouseleave:n[10]||(n[10]=(...o)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...o))},[...n[25]||(n[25]=[pt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-d87a073c><g id="logo" data-v-d87a073c><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-d87a073c></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-d87a073c></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-d87a073c></path></g></svg>',1)])],42,Ol),e("button",{type:"button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä",class:"emoji-button-inline spoiler-button",disabled:s.currentUser&&s.currentUser.allow_comments!==1,onClick:n[11]||(n[11]=(...o)=>s.insertSpoiler&&s.insertSpoiler(...o))},[...n[26]||(n[26]=[e("i",{class:"fas fa-eye-slash"},null,-1)])],8,Vl),e("button",{type:"button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",class:"emoji-button-inline link-button",onClick:n[12]||(n[12]=(...o)=>s.insertLink&&s.insertLink(...o))},[...n[27]||(n[27]=[e("i",{class:"fas fa-link"},null,-1)])]),Q(g,{"is-visible":s.showEmojiPicker&&s.canComment,onEmojiSelected:s.insertEmoji,onMouseEnter:s.handleEmojiMouseEnter,onMouseLeave:s.handleEmojiMouseLeave,onClose:s.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),Q(k,{"is-visible":s.showImagePicker&&s.canComment,"current-user":s.currentUser,onImageSelected:s.insertImage,onMouseEnter:s.handleImageMouseEnter,onMouseLeave:s.handleImageMouseLeave,onClose:s.closeImagePicker,onLoginRequired:u.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),Q(b,{"is-visible":s.showLinkModal,"selected-text":s.selectedTextForLink,onClose:s.closeLinkModal,onSubmit:s.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),e("div",Fl,[(i(!0),a(Z,null,te(s.displayedComments,o=>(i(),Xe(E,{key:o.id,comment:o,"current-user":s.currentUser,"reply-to":s.replyTo,"reply-content":s.replyContent,"editing-comment-id":s.editingCommentId,"is-first-comment":!1,onReply:s.handleReply,onStartEdit:s.handleStartEdit,onCancelEdit:s.handleCancelEdit,onEdit:s.handleEdit,onDelete:s.handleDelete,onRate:s.handleRate,onSubmitReply:s.submitReply,onCancelReply:n[14]||(n[14]=p=>s.replyTo=null),onUpdateReplyContent:n[15]||(n[15]=p=>s.replyContent=p),onReplyKeydown:s.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),s.hasMoreComments?(i(),a("div",Hl,[e("button",{class:"show-more-btn",onClick:n[16]||(n[16]=(...o)=>s.showMoreComments&&s.showMoreComments(...o))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ "+c(s.remainingCommentsCount)+" "+c(s.getCommentWordForm(s.remainingCommentsCount)),1)])):m("",!0)])])):(i(),a("div",{key:0,class:"spoiler-warning",onClick:n[0]||(n[0]=o=>s.showComments=!0)},[e("div",Sl,[n[17]||(n[17]=e("i",{class:"fas fa-eye-slash"},null,-1)),n[18]||(n[18]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),n[19]||(n[19]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",{class:I(["comments-count",{"no-comments":s.totalCommentsCount===0}])},[s.totalCommentsCount===0?(i(),a(Z,{key:0},[A(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç ")],64)):(i(),a(Z,{key:1},[A(c(s.totalCommentsCount)+" "+c(s.getCommentWordForm(s.totalCommentsCount)),1)],64))],2)])])),Q(w,{ref:"notificationRef"},null,512)])}const ql=qe(Ll,[["render",Dl],["__scopeId","data-v-d87a073c"]]),zl={class:"movie-info"},Wl={class:"content"},Kl={key:0,class:"content-card"},Gl={class:"movie-skeleton"},Yl={class:"movie-skeleton__player"},Zl={key:2,class:"content-card"},Ql={key:3,class:"content-card"},Xl={class:"content-header"},Jl=["src"],$l={class:"content-title"},ei={key:0,class:"ratings-links"},ti={key:1},ni=["href","title"],si={key:2},oi=["href","title"],li={key:3},ii=["href","title"],ai={key:4},ri=["href","title"],ui={key:5},di=["href"],ci={class:"action-buttons-group"},vi=["title"],mi={key:0,class:"fa-regular fa-face-grin-wink"},fi={key:1,class:"fas fa-spinner fa-spin"},gi=["title"],ki=["title"],yi={key:1,class:"mobile-list-dropdown"},hi={class:"mobile-list-content"},bi=["content"],pi=["content"],_i={class:"additional-info"},wi={class:"info-content"},Ci={key:0,class:"movie-poster-container desktop-only"},Ei=["href"],Li=["src"],Mi={class:"details-container"},Si={class:"info-list"},Ii={key:0},Ti={key:1},xi={key:2},Ri={key:3},Pi={key:4},ji={key:5},Ni={key:6},Bi={key:7},Ui={key:8},Ai={key:9,class:"rating-boxes"},Oi={key:0,class:"rating-box mpaa"},Vi={key:1,class:"rating-box age"},Fi={class:"content-info"},Hi={key:0,class:"content-description-text"},Di={key:3,class:"movie-note-display"},qi={class:"movie-note-content"},zi={class:"movie-note-footer"},Wi={class:"note-date"},Ki={key:4,class:"comments-section"},Gi={key:5,class:"staff-section"},Yi={class:"staff-categories"},Zi={key:0,class:"staff-category"},Qi={class:"staff-list"},Xi=["href","title"],Ji=["src","alt"],$i={class:"staff-name"},ea={key:0,class:"staff-role"},ta=["href","title"],na={key:1,class:"staff-category"},sa={class:"staff-names-container"},oa={class:"staff-names-list"},la=["href"],ia=["href","title"],aa={key:2,class:"staff-category"},ra={class:"staff-names-container"},ua={class:"staff-names-list"},da=["href"],ca=["href","title"],va={key:6,class:"yt-video-container"},ma={key:7,class:"related-movies"},fa=["title"],ga={key:8,class:"related-movies"},ka=["title"],ya={key:0,class:"nudity-info-popup"},ha={class:"nudity-info-content"},ba={key:0,class:"nudity-info-loading"},pa={key:1},_a={class:"nudity-info-actions"},wa=["href"],Ca={key:1,class:"nudity-info-popup"},Ea={class:"nudity-info-content"},La={class:"timings-text"},Ma={key:0,class:"timing-entries"},Sa={class:"timing-content"},Ia={class:"timing-header-row",style:{display:"flex","align-items":"center",gap:"8px"}},Ta={key:0,class:"pending-badge"},xa={key:1,class:"clean-text-badge"},Ra={key:2,class:"highly-rated-badge"},Pa={key:3,class:"top-rated-badge"},ja={class:"timing-actions-row",style:{display:"flex","align-items":"center",gap:"8px","margin-top":"8px"}},Na=["onClick"],Ba=["onClick"],Ua=["onClick"],Aa=["onClick"],Oa=["onClick"],Va=["onClick"],Fa={class:"timing-text"},Ha={class:"timing-author"},Da=["title"],qa={class:"timing-vote-container"},za=["disabled","onClick"],Wa={class:"vote-count"},Ka=["disabled","onClick"],Ga={class:"vote-count"},Ya={key:0,style:{color:"#fff","font-size":"13px",margin:"4px 0 0 0"}},Za={key:0},Qa={key:1},Xa={key:1},Ja={key:0,class:"general-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},$a={style:{margin:"0 0 10px 0",color:"#fff"}},er={style:{color:"#fff","font-size":"13px"}},tr={key:0},nr={key:1},sr={key:1,class:"overlay-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},or={style:{margin:"0 0 10px 0",color:"#fff"}},lr={style:{color:"#fff","font-size":"13px"}},ir={key:0},ar={key:1},rr={class:"nudity-info-actions"},ur={key:2,class:"timing-modal"},dr={class:"timing-modal-content"},cr={class:"timing-modal-header"},vr={class:"timing-submission-form"},mr={key:0,class:"timing-preview"},fr={class:"timing-preview-content"},gr={class:"timing-preview-range"},kr={class:"timing-preview-duration"},yr={class:"timing-form-actions"},hr=["disabled"],br={key:0,class:"fas fa-spinner fa-spin"},pr={key:1},_r={key:3,class:"timing-modal"},wr={class:"timing-modal-content"},Cr={class:"timing-submission-form"},Er={class:"timing-form-actions"},Lr=["disabled"],Mr={key:0,class:"fas fa-spinner fa-spin"},Sr={key:1},Ir={key:4,class:"timing-modal note-modal"},Tr={class:"timing-modal-content"},xr={class:"timing-modal-header"},Rr={class:"timing-submission-form"},Pr={class:"char-counter"},jr={class:"timing-form-actions note-form-actions"},Nr=["disabled"],Br={key:0,class:"fas fa-spinner fa-spin"},Ur={key:1,class:"fas fa-save"},Ar=["disabled"],Or={key:0,class:"fas fa-spinner fa-spin"},Vr={key:1,class:"fas fa-trash"},Fr={class:"modal-header"},Hr={class:"modal-header-controls"},Dr={class:"modal-body"},qr=["disabled"],zr={key:0,class:"fas fa-spinner fa-spin"},Wr={key:1,class:"fas fa-list"},Kr={class:"top-submitters-list"},Gr={class:"submitter-info"},Yr={class:"submitter-name"},Zr=["href"],Qr={class:"submitter-count"},Xr={class:"submitter-contribution"},Jr={class:"modal-header"},$r={class:"modal-body"},eu={key:0,class:"loading-spinner"},tu={key:1,class:"no-timings"},nu={key:2,class:"no-timings"},su={key:3,class:"all-timings-list"},ou={class:"timing-header"},lu={class:"timing-meta"},iu={class:"timing-author"},au={class:"timing-date"},ru={class:"timing-movie-info"},uu={key:0,class:"admin-controls"},du=["disabled","onClick"],cu={key:0,class:"fas fa-spinner fa-spin"},vu={key:1,class:"fas fa-check"},mu=["disabled","onClick"],fu={key:0,class:"fas fa-spinner fa-spin"},gu={key:1,class:"fas fa-times"},ku=["disabled","onClick"],yu={key:0,class:"fas fa-spinner fa-spin"},hu={key:1,class:"fas fa-eye-slash"},bu={class:"timing-content"},pu={class:"timing-text"},_u={key:7,class:"timing-modal obs-modal"},wu={class:"timing-modal-content obs-modal-content"},Cu={class:"timing-modal-header"},Eu={class:"obs-settings-form"},Lu={class:"obs-setting-group"},Mu={class:"obs-checkbox-label"},Su={key:0,class:"obs-connection-settings"},Iu={class:"obs-setting-group"},Tu={class:"obs-setting-group"},xu={class:"obs-setting-group"},Ru={key:0,class:"obs-setting-group"},Pu={key:0,class:"obs-warning"},ju={key:1,class:"obs-filter-selection"},Nu=["value"],Bu={key:0,class:"selected-filter-info"},Uu={class:"filter-details"},Au={class:"obs-info"},Ou={class:"obs-setting-group"},Vu={class:"obs-checkbox-label"},Fu={class:"obs-actions"},Hu=["disabled"],Du={key:0,class:"fas fa-spinner fa-spin"},qu={key:1,class:"fas fa-plug"},zu=["disabled"],Wu=["disabled"],Ku={__name:"MovieInfo",setup(u){const n=f(!0),d=Dt(),s=Mn(),C=ms(),y=Vs(),g=ys(),k=qt(),b=f(g.params.kp_id),E=f(""),w=f(null),o=f(null),p=fs(),U=Fs(),v=f(null),R=B(()=>U.areTrailersActive),T=f(null),L=f(!1),S=f(!1),V=f(10),H=f(null),re=f(!1),fe=f(null),le=f(!1),P=f(void 0),ke=f(null),X=f(new Set),Y=f(new Set),ye=f(!1),x=f(!1),ve=f(null),W=f(!1),O=f(null),Te=f(!1),J=f(""),Ne=f(!1),Be=f(!1),dt=B(()=>!P.value||!Array.isArray(P.value)?[]:[...P.value].sort((l,t)=>{const h=l.voteScore||0,j=t.voteScore||0;if(j!==h)return j-h;const D=l.upvotes||0,ue=t.upvotes||0;return ue!==D?ue-D:l.id-t.id})),Je=B(()=>{var l;return Array.isArray((l=o.value)==null?void 0:l.nudity_timings)&&o.value.nudity_timings.length>0}),ct=B(()=>{var l;return Array.isArray((l=o.value)==null?void 0:l.nudity_timings)&&o.value.nudity_timings.length>0&&d.isStreamerMode&&!d.isMobile}),he=B(()=>{var l,t,h,j,D,ue,Ce,Ee,Le,Me;return((t=(l=o.value)==null?void 0:l.lists)==null?void 0:t.isFavorite)||((j=(h=o.value)==null?void 0:h.lists)==null?void 0:j.isWatching)||((ue=(D=o.value)==null?void 0:D.lists)==null?void 0:ue.isLater)||((Ee=(Ce=o.value)==null?void 0:Ce.lists)==null?void 0:Ee.isCompleted)||((Me=(Le=o.value)==null?void 0:Le.lists)==null?void 0:Me.isAbandoned)}),vt=B(()=>d.isCommentsEnabled),$e=()=>{if(o.value){const l=o.value.name_ru||o.value.name_en||o.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=l}},Ue=l=>l?l.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",et=l=>(l||[]).map(t=>({kp_id:t.film_id,poster:t.poster_url_preview||t.poster_url,title:t.name_ru||t.name_en||t.name_original})),tt=l=>{if(typeof l!="number")return;const t=Math.floor(l/60),h=l%60;return"".concat(t," —á. ").concat(h," –º–∏–Ω.")},Ae=f(!1),be=f({top:"0px",left:"0px"}),ze=l=>{Ae.value=!0,be.value={top:"".concat(l.pageY+10,"px"),left:"".concat(l.pageX-70,"px")}},nt=async()=>{try{const l=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[tt(o.value.film_length)]:[]];await navigator.clipboard.writeText(l.join(", ")),v.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(l){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",l)}},me=async(l=!0)=>{var t,h,j,D,ue,Ce,Ee,Le,Me;try{let de;if(b.value.startsWith("shiki")?de=await hs(b.value):de=await bs(b.value,s.token),Array.isArray(de)&&de.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");o.value=de,b.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:b.value},s.token&&On(),p.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),$e();const oe={kp_id:b.value,title:((t=o.value)==null?void 0:t.name_ru)||((h=o.value)==null?void 0:h.name_en)||((j=o.value)==null?void 0:j.name_original),poster:((D=o.value)==null?void 0:D.poster_url)||((ue=o.value)==null?void 0:ue.cover_url)||((Ee=(Ce=o.value)==null?void 0:Ce.screenshots)==null?void 0:Ee[0]),year:(Le=o.value)==null?void 0:Le.year,type:(Me=o.value)==null?void 0:Me.type};if(b.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const je=Math.floor(Math.random()*o.value.screenshots.length),Qe=o.value.screenshots[je];C.updateMoviePoster(Qe)}else oe.poster&&C.updateMoviePoster(oe.poster);else oe.poster&&C.updateMoviePoster(oe.poster);if(B(()=>d.isHistoryAllowed).value&&oe.kp_id&&oe.title&&l)if(s.token)try{await bn(oe.kp_id,$.HISTORY)}catch(je){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",je)}else d.addToHistory({...oe})}catch(de){const{message:oe,code:He}=ce(de);E.value=oe,w.value=He,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",de)}},We=B(()=>{var l;return((l=o.value)==null?void 0:l.videos)||[]}),pe=B(()=>{var l;return et((l=o.value)==null?void 0:l.sequels_and_prequels)}),_e=B(()=>{var l;return et((l=o.value)==null?void 0:l.similars)}),_=()=>{var j;const l=((j=document.querySelector(".related-movies"))==null?void 0:j.clientWidth)||0,h=Math.floor(l/160)||10;V.value=Math.max(1,h)},F=()=>{_()},xe=l=>{if(l.altKey&&l.keyCode===84&&document.querySelector(".player-container")){const h=document.querySelector(".theater-mode-btn");h&&h.click()}},Rt=l=>{l.button===1&&(l.preventDefault(),_t(l))},_t=async l=>{if(H.value!==null){H.value=null,re.value=!1;return}P.value=void 0,fe.value=l.currentTarget,H.value="",re.value=!0;try{const t=await ps(o.value.imdb_id);H.value=t.nudity_info}catch(t){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",t),H.value="–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Parents Guide –Ω–∞ IMDb –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."}finally{re.value=!1}},Pt=l=>{var t,h;if(H.value=null,P.value!==void 0){P.value=void 0;return}ke.value=l.currentTarget,P.value=((t=o.value)==null?void 0:t.nudity_timings)===null?"":((h=o.value)==null?void 0:h.nudity_timings)||""},mt=()=>{var l,t;H.value=null,P.value=((l=o.value)==null?void 0:l.nudity_timings)===null?"":((t=o.value)==null?void 0:t.nudity_timings)||""},jt=l=>{var h,j,D,ue,Ce,Ee,Le,Me,de,oe,He,je,Qe;return(Qe={[$.FAVORITE]:((j=(h=o.value)==null?void 0:h.lists)==null?void 0:j.isFavorite)||!1,[$.HISTORY]:((ue=(D=o.value)==null?void 0:D.lists)==null?void 0:ue.isHistory)||!1,[$.LATER]:((Ee=(Ce=o.value)==null?void 0:Ce.lists)==null?void 0:Ee.isLater)||!1,[$.COMPLETED]:((Me=(Le=o.value)==null?void 0:Le.lists)==null?void 0:Me.isCompleted)||!1,[$.ABANDONED]:((oe=(de=o.value)==null?void 0:de.lists)==null?void 0:oe.isAbandoned)||!1,[$.WATCHING]:((je=(He=o.value)==null?void 0:He.lists)==null?void 0:je.isWatching)||!1}[l])!=null?Qe:!1},Ke=async l=>{if(!s.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>k.push("/login")});return}try{const t={[$.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[$.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[$.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[$.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[$.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[$.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};jt(l)?(await _s(b.value,l),v.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(t[l]))):(await bn(b.value,l),v.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(t[l]))),await me(!1),le.value=!1}catch(t){const{message:h,code:j}=ce(t);v.value.showNotification("".concat(h," ").concat(j))}},wt=l=>{const t=document.querySelector(".mobile-list-dropdown");t&&!t.contains(l.target)&&(le.value=!1)},st=l=>{const t=document.querySelector(".nudity-info-popup");t&&!t.contains(l.target)&&fe.value&&!fe.value.contains(l.target)&&(H.value=null)},M=l=>{const t=document.querySelector(".nudity-info-popup");t&&!t.contains(l.target)&&ke.value&&!ke.value.contains(l.target)&&(P.value=void 0)};rt(async()=>{await me(),n.value=!1,document.addEventListener("keydown",xe),window.addEventListener("resize",F),setTimeout(_,100),document.addEventListener("click",wt),document.addEventListener("click",st,!0),document.addEventListener("click",M,!0),window.selectedNudityTimings=Array.from(X.value),window.overlayNudityTimings=Array.from(Y.value)}),Vt(async()=>{p.clearHeaderContent(),document.removeEventListener("keydown",xe),window.removeEventListener("resize",F),document.removeEventListener("click",wt),document.removeEventListener("click",st,!0),document.removeEventListener("click",M,!0),delete window.selectedNudityTimings,delete window.overlayNudityTimings}),Se(()=>g.params.kp_id,async l=>{l&&l!==b.value&&(p.clearHeaderContent(),b.value=l,T.value=null,await me(),n.value=!1)},{immediate:!0}),Se(o,()=>{$e()},{deep:!0}),Se(H,l=>{l?document.addEventListener("click",st,!0):document.removeEventListener("click",st,!0)},{deep:!0}),Se(()=>P.value!==void 0,l=>{l?(document.addEventListener("click",M,!0),An()):document.removeEventListener("click",M,!0)}),Se(X,()=>{window.selectedNudityTimings=Array.from(X.value)},{deep:!0}),Se(Y,()=>{window.overlayNudityTimings=Array.from(Y.value)},{deep:!0}),rt(()=>{window.selectedNudityTimings=Array.from(X.value),window.overlayNudityTimings=Array.from(Y.value);const l=setInterval(()=>{if(window.obsSources&&Array.isArray(window.obsSources)&&(sn.value=window.obsSources),window.getOBSFiltersInfo){const t=window.getOBSFiltersInfo();t&&Array.isArray(t)&&y.updateObsSettings({filtersFound:t})}},1e3);Vt(()=>{clearInterval(l)})}),Vt(()=>{delete window.selectedNudityTimings,delete window.overlayNudityTimings});const N=l=>{var t,h;return((h=(t=o.value)==null?void 0:t.staff)==null?void 0:h.filter(j=>j.profession_key===l))||[]},ne=async()=>{try{await navigator.clipboard.writeText(H.value),v.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(l){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",l),v.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{H.value=null}},se=async()=>{if(P.value.length!==0)try{const l=P.value.map(t=>"".concat(t.timing_text," (by @").concat(t.username,")")).join("\n").concat("\nReYohoho\n");await navigator.clipboard.writeText(l),v.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(l){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",l),v.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{P.value=void 0}},G=()=>{const l=encodeURIComponent(H.value);window.open("https://translate.google.com/?sl=en&tl=ru&text=".concat(l),"_blank"),H.value=null},K=f(""),ie=f(!1),Ge=B(()=>{if(!K.value.trim())return[];try{return Tt(K.value,!0)||[]}catch(l){return console.error("Error parsing timing text:",l),[]}}),Nt=B(()=>K.value.trim()),Yt=l=>s.user&&l.user_id&&l.user_id===s.user.id,Tn=()=>{if(!s.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a> –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–∏–Ω–≥–æ–≤',5e3,{onClick:()=>k.push("/login")});return}Oe.value=null,K.value="",Ct.value=!0},xn=l=>{Oe.value=l,K.value=l.timing_text,Ct.value=!0},Bt=()=>{Ct.value=!1,Oe.value=null,K.value=""},Rn=async()=>{if(!(!Nt.value||ie.value))try{ie.value=!0,await Es(b.value,K.value),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"),K.value="",Bt(),await me(!1),mt()}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{ie.value=!1}},Pn=async()=>{if(!(!Nt.value||ie.value||!Oe.value))try{ie.value=!0,await Cs(Oe.value.id,K.value),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"),Bt(),await me(!1),mt()}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{ie.value=!1}},jn=async l=>{if(confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–∞–π–º–∏–Ω–≥?"))try{await xs(l),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"),await me(!1),mt()}catch(t){const{message:h}=ce(t);v.value.showNotification(h,5e3)}},Nn=l=>{Et.value=l,Ye.value="",Ut.value=!0},Zt=()=>{Ut.value=!1,Ye.value="",Et.value=null},Bn=async()=>{if(!(!Ye.value.trim()||ft.value||!Et.value))try{ft.value=!0,await Ls(Et.value,Ye.value),v.value.showNotification("–ñ–∞–ª–æ–±–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"),Zt()}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{ft.value=!1}},Qt=async(l,t)=>{if(!s.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a> –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è',5e3,{onClick:()=>k.push("/login")});return}if(ve.value!==l)try{ve.value=l;const h=await Rs(l,t),j=P.value.find(D=>D.id===l);j&&(j.upvotes=h.upvotes,j.downvotes=h.downvotes,j.voteScore=h.vote_score,j.userVote===t?j.userVote=null:j.userVote=t)}catch(h){const{message:j}=ce(h);v.value.showNotification(j,5e3)}finally{ve.value=null}},Un=l=>l>0?"positive":l<0?"negative":"neutral",An=async()=>{if(!(!P.value||P.value.length===0)&&!W.value){W.value=!0;try{const l=P.value.map(async j=>{try{const D=await Bs(j.id);return{id:j.id,upvotes:D.upvotes||0,downvotes:D.downvotes||0,voteScore:D.vote_score||0,userVote:D.user_vote||null}}catch(D){return{id:j.id,upvotes:0,downvotes:0,voteScore:0,userVote:null}}}),t=await Promise.all(l),h=new Map(t.map(j=>[j.id,j]));P.value=P.value.map(j=>{const D=h.get(j.id);return D?{...j,upvotes:D.upvotes,downvotes:D.downvotes,voteScore:D.voteScore,userVote:D.userVote}:j})}catch(l){console.error("Error loading timing votes:",l)}finally{W.value=!1}}},On=async()=>{if(!(!s.isAuthenticated||!b.value))try{const l=await Ts(b.value);O.value=l.note,O.value?J.value=O.value.note_text:J.value=""}catch(l){O.value=null,J.value=""}},Xt=()=>{if(!s.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫',5e3,{onClick:()=>k.push("/login")});return}Te.value=!Te.value},Vn=async()=>{if(!s.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>k.push("/login")});return}if(!J.value.trim()){v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π");return}if(J.value.length>1e4){v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–∞—è (–º–∞–∫—Å–∏–º—É–º 10000 —Å–∏–º–≤–æ–ª–æ–≤)");return}try{Ne.value=!0;const l=await Ms(b.value,J.value);O.value=l.note,J.value=l.note.note_text,v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞"),Te.value=!1}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{Ne.value=!1}},Fn=async()=>{if(s.token&&confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É?"))try{Be.value=!0,await Ss(b.value),O.value=null,J.value="",Te.value=!1,v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∞")}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{Be.value=!1}},Jt=()=>{O.value?J.value=O.value.note_text:J.value="",Te.value=!1},Hn=async()=>{try{const{submissions:l}=await ws();Lt.value=l,Mt.value=!0}catch(l){const{message:t}=ce(l);v.value.showNotification(t)}},Ct=f(!1),Oe=f(null),Ut=f(!1),Ye=f(""),Et=f(null),ft=f(!1),Lt=f([]),Mt=f(!1),gt=f(!1),ot=f([]),lt=f(!1),ge=f(!1),Pe=f(null),Ve=f(!1),Fe=f(!1),$t=f(!1),kt=f(!1),St=B({get:()=>y.obsSettings.enabled,set:l=>y.updateObsSettings({enabled:l})}),en=B({get:()=>y.obsSettings.host,set:l=>y.updateObsSettings({host:l})}),tn=B({get:()=>y.obsSettings.port,set:l=>y.updateObsSettings({port:l})}),nn=B({get:()=>y.obsSettings.password,set:l=>y.updateObsSettings({password:l})}),it=B(()=>y.obsSettings.connected),sn=f([]),yt=B(()=>y.obsSettings.filtersFound),Ze=B({get:()=>y.obsSettings.selectedFilterId,set:l=>y.setObsSelectedFilter(l)}),at=B(()=>Ze.value?yt.value.find(l=>l.id===Ze.value):null),on=B({get:()=>y.obsSettings.showObsInOverlay,set:l=>y.updateObsSettings({showObsInOverlay:l})}),Dn=async l=>{if(!ge.value)try{ge.value=!0,Pe.value=l,Ve.value=!0,Fe.value=!1,await Ps(l);const t=ot.value.find(h=>h.id===l);t&&(t.status="approved"),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ–¥–æ–±—Ä–µ–Ω")}catch(t){const{message:h}=ce(t);v.value.showNotification("–û—à–∏–±–∫–∞: ".concat(h))}finally{ge.value=!1,Pe.value=null,Ve.value=!1,Fe.value=!1}},qn=async l=>{if(!ge.value)try{ge.value=!0,Pe.value=l,Ve.value=!1,Fe.value=!1,await js(l);const t=ot.value.find(h=>h.id===l);t&&(t.status="rejected"),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–∫–ª–æ–Ω–µ–Ω")}catch(t){const{message:h}=ce(t);v.value.showNotification("–û—à–∏–±–∫–∞: ".concat(h))}finally{ge.value=!1,Pe.value=null,Ve.value=!1,Fe.value=!1}},zn=async l=>{if(!ge.value)try{ge.value=!0,Pe.value=l,Ve.value=!1,Fe.value=!0,await Ns(l);const t=ot.value.find(h=>h.id===l);t&&(t.status="clean_text"),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ clean_text")}catch(t){const{message:h}=ce(t);v.value.showNotification("–û—à–∏–±–∫–∞: ".concat(h))}finally{ge.value=!1,Pe.value=null,Ve.value=!1,Fe.value=!1}},Wn=async()=>{if(!lt.value)try{lt.value=!0,gt.value=!0;const{timings:l}=await Is();ot.value=l}catch(l){const{message:t}=ce(l);v.value.showNotification(t),gt.value=!1}finally{lt.value=!1}},Kn=(l,t)=>{const h=[2,0,1,1,1,2];return t[l%100>4&&l%100<20?2:h[Math.min(l%10,5)]]},Gn=l=>{if(!Lt.value.length)return 0;const t=Math.max(...Lt.value.map(h=>h.approved_submissions_count));return l/t*100},ln=B(()=>ot.value),we=f({});function Yn(l){if(we.value[l.id])we.value={...we.value,[l.id]:!1};else{const t=Tt(l.timing_text);we.value={...we.value,[l.id]:t}}}const an=B(()=>!!window.electronAPI);function Zn(l){if(!an.value){v.value?v.value.showNotification("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"):alert("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏");return}rn(l)}function Qn(l){if(!an.value){v.value?v.value.showNotification("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"):alert("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏");return}rn(l)}const rn=l=>{Y.value.has(l)?Y.value.delete(l):Y.value.add(l)};function Xn(){ye.value=!ye.value}function Jn(){x.value=!x.value}function At(){const l=[];if(P.value&&Array.isArray(P.value)){for(const t of P.value)if(X.value.has(t.id)){const h=Tt(t.timing_text);h&&h.length>0&&l.push(...h)}}return l}function Ot(){const l=[];if(P.value&&Array.isArray(P.value)&&P.value.length>0){for(const t of P.value)if(Y.value.has(t.id)){const h=Tt(t.timing_text);h&&h.length>0&&l.push(...h)}}return l}const $n=()=>{St.value&&un()},un=async()=>{var l,t,h;if(!kt.value){kt.value=!0;try{window.connectToOBS?(await window.connectToOBS(),setTimeout(()=>{window.obsSources&&(sn.value=window.obsSources)},1e3),(l=v.value)==null||l.showNotification("–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OBS...")):(t=v.value)==null||t.showNotification("–ü–ª–µ–µ—Ä –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω")}catch(j){console.error("Error connecting to OBS:",j),(h=v.value)==null||h.showNotification("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ OBS")}finally{kt.value=!1}}},es=()=>{var l,t;if(!Ze.value){(l=v.value)==null||l.showNotification("–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è");return}window.testOBSBlur?window.testOBSBlur(Ze.value):(t=v.value)==null||t.showNotification("OBS —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã")},ts=()=>{var l,t;window.refreshOBSFilters?(window.refreshOBSFilters(),(l=v.value)==null||l.showNotification("–ü–æ–∏—Å–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤...")):(t=v.value)==null||t.showNotification("OBS —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã")},ns=()=>{var l,t;Ze.value&&((t=v.value)==null||t.showNotification("–í—ã–±—Ä–∞–Ω —Ñ–∏–ª—å—Ç—Ä: ".concat((l=at.value)==null?void 0:l.sourceName)))};return(l,t)=>{var j,D,ue,Ce,Ee,Le,Me,de,oe,He,je,Qe,dn,cn,vn,mn,fn,gn;const h=ae("router-link");return i(),a(Z,null,[e("div",zl,[e("div",Wl,[(n.value||!o.value)&&!E.value?(i(),a("div",Kl,[e("div",Gl,[t[30]||(t[30]=pt('<div class="movie-skeleton__header" data-v-ecca24ce><div class="movie-skeleton__title" data-v-ecca24ce></div></div><div class="movie-skeleton__ratings" data-v-ecca24ce><div class="movie-skeleton__rating-item" data-v-ecca24ce></div><div class="movie-skeleton__rating-item" data-v-ecca24ce></div><div class="movie-skeleton__rating-item" data-v-ecca24ce></div></div>',2)),e("div",Yl,[Q(Os)]),t[31]||(t[31]=pt('<div class="movie-skeleton__additional-info" data-v-ecca24ce><div class="movie-skeleton__section-title" data-v-ecca24ce></div><div class="movie-skeleton__info-list" data-v-ecca24ce><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div><div class="movie-skeleton__info-item" data-v-ecca24ce></div></div></div><div class="movie-skeleton__description" data-v-ecca24ce><div class="movie-skeleton__description-line" data-v-ecca24ce></div><div class="movie-skeleton__description-line" data-v-ecca24ce></div><div class="movie-skeleton__description-line" data-v-ecca24ce></div><div class="movie-skeleton__description-line" data-v-ecca24ce></div></div>',2))])])):m("",!0),E.value?(i(),Xe(gs,{key:1,message:E.value,code:w.value},null,8,["message","code"])):m("",!0),E.value?(i(),a("div",Zl,[(i(),Xe(wn,{key:b.value,"kp-id":b.value,"movie-info":o.value,"onUpdate:movieInfo":me},null,8,["kp-id","movie-info"]))])):m("",!0),o.value&&!n.value?(i(),a("div",Ql,[e("div",Xl,[o.value.logo_url?(i(),a("div",{key:0,class:"content-logo",onMousemove:ze,onMouseleave:t[0]||(t[0]=r=>Ae.value=!1),onClick:nt},[e("img",{src:o.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,Jl)],32)):(i(),a("div",{key:1,onMousemove:ze,onMouseleave:t[1]||(t[1]=r=>Ae.value=!1),onClick:nt},[e("h1",$l,c(o.value.title),1)],32)),ee(e("div",{class:"title-copy-tooltip",style:Ht(be.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[xt,Ae.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(i(),a("div",ei,[o.value.kinopoisk_id?(i(),Xe(Us,{key:o.value.kinopoisk_id,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):m("",!0),o.value.kinopoisk_id?(i(),a("div",ti,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[32]||(t[32]=e("img",{src:pn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:I(["rating-value",z(It)(o.value.rating_kinopoisk)])},c(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),t[33]||(t[33]=e("img",{src:bt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,ni)])):m("",!0),!o.value.kinopoisk_id&&o.value.title?(i(),a("div",si,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[34]||(t[34]=e("img",{src:pn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:I(["rating-value",z(It)(o.value.rating_kinopoisk)])},c(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),t[35]||(t[35]=e("img",{src:bt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,oi)])):m("",!0),o.value.imdb_id?(i(),a("div",li,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[36]||(t[36]=e("img",{src:_n,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:I(["rating-value",z(It)(o.value.rating_imdb)])},c(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),t[37]||(t[37]=e("img",{src:bt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,ii)])):m("",!0),!o.value.imdb_id&&o.value.title?(i(),a("div",ai,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[38]||(t[38]=e("img",{src:_n,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:I(["rating-value",z(It)(o.value.rating_imdb)])},c(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),t[39]||(t[39]=e("img",{src:bt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,ri)])):m("",!0),o.value.shikimori_id?(i(),a("div",ui,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[...t[40]||(t[40]=[e("img",{src:As,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:bt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)])],8,di)])):m("",!0),e("span",ci,[o.value.imdb_id?(i(),a("button",{key:0,class:"nudity-info-btn parents-guide-btn",title:H.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å Parents Guide –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö",onClick:t[2]||(t[2]=r=>_t(r)),onMousedown:t[3]||(t[3]=r=>Rt(r))},[t[41]||(t[41]=e("span",{class:"desktop-text"},"Parents Guide",-1)),t[42]||(t[42]=e("span",{class:"mobile-text"},"PG",-1)),re.value?(i(),a("i",fi)):(i(),a("i",mi))],40,vi)):m("",!0),e("button",{class:"nudity-info-btn",title:P.value!==void 0?"–°–∫—Ä—ã—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏":"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏ —Å—Ü–µ–Ω 18+(–¥–ª—è —Ç–≤–∏—á–∞, –º–∏–≥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)",onClick:t[4]||(t[4]=r=>Pt(r))},[e("i",{class:I(["fa-regular fa-clock",{"text-red":Je.value,"text-red-blink":ct.value}])},null,2),t[43]||(t[43]=e("span",{class:"mobile-text"},"–¢–∞–π–º–∏–Ω–≥–∏",-1))],8,gi),z(s).token?(i(),a("button",{key:1,class:I(["nudity-info-btn note-btn",{"has-note":O.value}]),title:O.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É":"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É",onClick:Xt},[...t[44]||(t[44]=[e("i",{class:"fa-regular fa-note-sticky"},null,-1),e("span",{class:"mobile-text"},"–ó–∞–º–µ—Ç–∫–∞",-1)])],10,ki)):m("",!0)])])):m("",!0),(i(),Xe(wn,{key:b.value,"kp-id":b.value,"movie-info":o.value,"onUpdate:movieInfo":me},null,8,["kp-id","movie-info"])),z(d).isMobile?(i(),a("div",yi,[e("button",{class:I(["mobile-list-toggle",{}]),onClick:t[5]||(t[5]=r=>le.value=!le.value)},[e("span",{class:I(["material-icons",{active:he.value}])},c(he.value?"bookmark_added":"bookmark_border"),3),t[45]||(t[45]=e("span",{class:"button-label"},"–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫",-1)),e("span",{class:I(["material-icons dropdown-arrow",{expanded:le.value}])},"expand_more",2)]),ee(e("div",hi,[e("button",{class:I(["mobile-list-btn",{}]),onClick:t[6]||(t[6]=r=>Ke(z($).FAVORITE))},[e("span",{class:I(["material-icons",{active:(D=(j=o.value)==null?void 0:j.lists)==null?void 0:D.isFavorite}])},c((Ce=(ue=o.value)==null?void 0:ue.lists)!=null&&Ce.isFavorite?"favorite":"favorite_border"),3),t[46]||(t[46]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))]),e("button",{class:I(["mobile-list-btn",{}]),onClick:t[7]||(t[7]=r=>Ke(z($).WATCHING))},[e("span",{class:I(["material-icons",{active:(Le=(Ee=o.value)==null?void 0:Ee.lists)==null?void 0:Le.isWatching}])},c((de=(Me=o.value)==null?void 0:Me.lists)!=null&&de.isWatching?"visibility":"visibility_off"),3),t[47]||(t[47]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))]),e("button",{class:I(["mobile-list-btn",{}]),onClick:t[8]||(t[8]=r=>Ke(z($).LATER))},[e("span",{class:I(["material-icons",{active:(He=(oe=o.value)==null?void 0:oe.lists)==null?void 0:He.isLater}])},"watch_later",2),t[48]||(t[48]=e("span",{class:"button-label"},"–ü–æ–∑–∂–µ",-1))]),e("button",{class:I(["mobile-list-btn",{}]),onClick:t[9]||(t[9]=r=>Ke(z($).COMPLETED))},[e("span",{class:I(["material-icons",{active:(Qe=(je=o.value)==null?void 0:je.lists)==null?void 0:Qe.isCompleted}])},c((cn=(dn=o.value)==null?void 0:dn.lists)!=null&&cn.isCompleted?"check_circle":"check_circle_outline"),3),t[49]||(t[49]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))]),e("button",{class:I(["mobile-list-btn",{}]),onClick:t[10]||(t[10]=r=>Ke(z($).ABANDONED))},[e("span",{class:I(["material-icons",{active:(mn=(vn=o.value)==null?void 0:vn.lists)==null?void 0:mn.isAbandoned}])},"not_interested",2),t[50]||(t[50]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))])],512),[[xt,le.value]])])):m("",!0),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,bi),o.value.name_original?(i(),a("meta",{key:2,name:"original-title",content:o.value.name_original},null,8,pi)):m("",!0),e("div",_i,[t[61]||(t[61]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",wi,[o.value.poster_url?(i(),a("div",Ci,[e("a",{href:o.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[e("img",{src:o.value.poster_url,alt:"–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞",class:"movie-poster"},null,8,Li)],8,Ei)])):m("",!0),e("div",Mi,[e("ul",Si,[o.value.type&&z(yn)[o.value.type]?(i(),a("li",Ii,[t[51]||(t[51]=e("strong",null,"–¢–∏–ø:",-1)),A(" "+c(z(yn)[o.value.type]),1)])):m("",!0),o.value.year?(i(),a("li",Ti,[t[52]||(t[52]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),A(" "+c(o.value.year),1)])):m("",!0),o.value.title?(i(),a("li",xi,[t[53]||(t[53]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),A(" "+c(o.value.title),1)])):m("",!0),o.value.name_original?(i(),a("li",Ri,[t[54]||(t[54]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),A(" "+c(o.value.name_original),1)])):m("",!0),o.value.slogan?(i(),a("li",Pi,[t[55]||(t[55]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),A(" "+c(o.value.slogan),1)])):m("",!0),o.value.production_companies?(i(),a("li",ji,[t[56]||(t[56]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),A(" "+c(o.value.production_companies),1)])):m("",!0),(fn=o.value.countries)!=null&&fn.length?(i(),a("li",Ni,[t[57]||(t[57]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),A(" "+c(o.value.countries.map(r=>r.country).join(", ")),1)])):m("",!0),(gn=o.value.genres)!=null&&gn.length?(i(),a("li",Bi,[t[58]||(t[58]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),A(" "+c(o.value.genres.map(r=>r.genre).join(", ")),1)])):m("",!0),o.value.film_length?(i(),a("li",Ui,[t[59]||(t[59]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),A(" "+c(tt(o.value.film_length)),1)])):m("",!0),o.value.rating_mpaa||o.value.rating_age_limits?(i(),a("li",Ai,[o.value.rating_mpaa?(i(),a("div",Oi,[t[60]||(t[60]=e("strong",null,"MPAA",-1)),e("span",null,c(o.value.rating_mpaa.toUpperCase()),1)])):m("",!0),o.value.rating_age_limits?(i(),a("div",Vi,[e("strong",null,c(o.value.rating_age_limits.replace("age",""))+"+",1)])):m("",!0)])):m("",!0)]),e("div",Fi,[o.value.description?(i(),a("p",Hi,c(o.value.description),1)):m("",!0)])])])]),O.value&&z(s).token?(i(),a("div",Di,[e("div",{class:"movie-note-header"},[t[63]||(t[63]=e("div",{class:"movie-note-title"},[e("i",{class:"fa-solid fa-note-sticky"}),e("h3",null,"–ú–æ—è –∑–∞–º–µ—Ç–∫–∞")],-1)),e("div",{class:"movie-note-actions"},[e("button",{class:"note-edit-btn",title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",onClick:Xt},[...t[62]||(t[62]=[e("i",{class:"fas fa-edit"},null,-1)])])])]),e("div",qi,c(O.value.note_text),1),e("div",zi,[e("span",Wi,[t[64]||(t[64]=e("i",{class:"far fa-calendar"},null,-1)),A(" –û–±–Ω–æ–≤–ª–µ–Ω–æ: "+c(new Date(O.value.updated_at).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),1)])])])):m("",!0),vt.value?(i(),a("div",Ki,[(i(),Xe(ql,{key:b.value,"movie-id":b.value},null,8,["movie-id"]))])):m("",!0),o.value.staff?(i(),a("div",Gi,[e("div",Yi,[N("ACTOR").length?(i(),a("div",Zi,[t[65]||(t[65]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",Qi,[(i(!0),a(Z,null,te(N("ACTOR").slice(0,12),r=>(i(),a("div",{key:r.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:r.description||""},[e("img",{src:r.poster_url,alt:r.name_ru,class:"staff-photo"},null,8,Ji),e("span",$i,c(r.name_ru||r.name_en),1),r.description?(i(),a("span",ea,c(r.description),1)):m("",!0)],8,Xi)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(b.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(N("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+c(N("ACTOR").length-12),9,ta)])])):m("",!0),N("DIRECTOR").length?(i(),a("div",na,[t[66]||(t[66]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",sa,[e("div",oa,[(i(!0),a(Z,null,te(N("DIRECTOR").slice(0,5),r=>(i(),a("a",{key:r.staff_id,href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},c(r.name_ru||r.name_en),9,la))),128)),N("DIRECTOR").length>5?(i(),a("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(b.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(N("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+c(N("DIRECTOR").length-5),9,ia)):m("",!0)])])])):m("",!0),N("PRODUCER").length?(i(),a("div",aa,[t[67]||(t[67]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",ra,[e("div",ua,[(i(!0),a(Z,null,te(N("PRODUCER").slice(0,5),r=>(i(),a("a",{key:r.staff_id,href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},c(r.name_ru||r.name_en),9,da))),128)),N("PRODUCER").length>5?(i(),a("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(b.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(N("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+c(N("PRODUCER").length-5),9,ca)):m("",!0)])])])):m("",!0)])])):m("",!0),We.value.length&&R.value?(i(),a("div",va,[Q(Zs,{videos:We.value,"active-video-index":T.value,onSelect:l.playTrailer},null,8,["videos","active-video-index","onSelect"])])):m("",!0),pe.value.length?(i(),a("div",ma,[t[68]||(t[68]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),Q(z(Cn),{"movies-list":L.value?pe.value:pe.value.slice(0,V.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),pe.value.length>V.value?(i(),a("a",{key:0,class:"expand-circle-button",title:"".concat(L.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(pe.value.length,")"),onClick:t[11]||(t[11]=r=>L.value=!L.value)},c(L.value?"‚àí":"+".concat(pe.value.length-V.value)),9,fa)):m("",!0)])):m("",!0),_e.value.length?(i(),a("div",ga,[t[69]||(t[69]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),Q(z(Cn),{"movies-list":S.value?_e.value:_e.value.slice(0,V.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),_e.value.length>V.value?(i(),a("a",{key:0,class:"expand-circle-button",title:"".concat(S.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(_e.value.length,")"),onClick:t[12]||(t[12]=r=>S.value=!S.value)},c(S.value?"‚àí":"+".concat(_e.value.length-V.value)),9,ka)):m("",!0)])):m("",!0)])):m("",!0)])]),Q(Sn,{ref_key:"notificationRef",ref:v},null,512),H.value!==null?(i(),a("div",ya,[e("div",ha,[re.value?(i(),a("div",ba,[...t[70]||(t[70]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...",-1)])])):(i(),a("div",pa,c(H.value),1))]),e("div",_a,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},[...t[71]||(t[71]=[e("i",{class:"fas fa-external-link-alt"},null,-1),e("span",null,"Parents Guide",-1)])],8,wa),e("button",{class:"nudity-info-button",onClick:ne},[...t[72]||(t[72]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)])]),e("button",{class:"nudity-info-button",onClick:G},[...t[73]||(t[73]=[e("i",{class:"fas fa-language"},null,-1),e("span",null,"Translate",-1)])])])])):m("",!0),P.value!==void 0?(i(),a("div",Ca,[e("div",Ea,[e("div",{class:"acknowledgment-table"},[t[76]||(t[76]=e("div",{class:"acknowledgment-header"},[e("i",{class:"fa-solid fa-heart"}),e("span",null,"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏")],-1)),e("div",{class:"acknowledgment-content"},[t[75]||(t[75]=e("div",{class:"acknowledgment-row"},[e("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[e("i",{class:"fa-brands fa-twitch"}),e("span",null,"TanyaBelkova")]),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –æ—Å–Ω–æ–≤—É –±–∞–∑—ã —Ç–∞–π–º–∏–Ω–≥–æ–≤")],-1)),e("div",{class:"acknowledgment-row clickable",onClick:Hn},[...t[74]||(t[74]=[e("div",{class:"community-link"},[e("i",{class:"fa-solid fa-users"}),e("span",null,"–°–æ–æ–±—â–µ—Å—Ç–≤–æ")],-1),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤",-1)])])])]),e("div",{class:I(["timings-content",{"no-border":!P.value}])},[t[92]||(t[92]=e("div",{class:"timings-warning"},[e("i",{class:"fas fa-exclamation-triangle"}),e("span",null,"–¢–∞–π–º–∏–Ω–≥–∏ –Ω–µ –º–æ–¥–µ—Ä–∏—Ä—É—é—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º")],-1)),e("div",La,[P.value.length>0?(i(),a("div",Ma,[(i(!0),a(Z,null,te(dt.value,r=>(i(),a("div",{key:r.id,class:I(["timing-entry",{pending:r.status==="pending","clean-text":r.status==="clean_text",selected:X.value.has(r.id),"top-rated":(r.voteScore||0)>=5,"highly-rated":(r.voteScore||0)>=10}])},[e("div",Sa,[e("div",Ia,[r.status==="pending"?(i(),a("div",Ta,"–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏")):m("",!0),r.status==="clean_text"?(i(),a("div",xa," –¢–∞–π–º–∏–Ω–≥–∏ —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ –º–æ–¥–µ—Ä–∏—Ä—É—é—Ç—Å—è, –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Å–≤–µ—Ä—è–π—Ç–µ—Å—å —Å ParentsGuide ")):m("",!0),(r.voteScore||0)>=10?(i(),a("div",Ra,[...t[77]||(t[77]=[e("i",{class:"fas fa-star"},null,-1),A(" –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º ",-1)])])):(r.voteScore||0)>=5?(i(),a("div",Pa,[...t[78]||(t[78]=[e("i",{class:"fas fa-thumbs-up"},null,-1),A(" –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ",-1)])])):m("",!0)]),e("div",ja,[e("button",{class:"nudity-info-button",onClick:q=>Yn(r)},c(we.value[r.id]?"–°–∫—Ä—ã—Ç—å –ø–∞—Ä—Å–µ—Ä":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä—Å–µ—Ä"),9,Na),Y.value.has(r.id)?(i(),a("button",{key:0,class:"nudity-info-button overlay-button",title:"–£–¥–∞–ª–∏—Ç—å –∏–∑ –æ–≤–µ—Ä–ª–µ—è",onClick:q=>Qn(r.id)},[...t[79]||(t[79]=[e("i",{class:"fas fa-eye-slash"},null,-1),e("span",null,"–£–¥–∞–ª–∏—Ç—å –∏–∑ –æ–≤–µ—Ä–ª–µ—è",-1)])],8,Ba)):(i(),a("button",{key:1,class:"nudity-info-button overlay-button",title:"–î–æ–±–∞–≤–∏—Ç—å –≤ –æ–≤–µ—Ä–ª–µ–π",onClick:q=>Zn(r.id)},[...t[80]||(t[80]=[e("i",{class:"fas fa-eye"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å –≤ –æ–≤–µ—Ä–ª–µ–π",-1)])],8,Ua)),Yt(r)?(i(),a(Z,{key:2},[e("button",{class:"nudity-info-button edit-button",title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥",onClick:q=>xn(r)},[...t[81]||(t[81]=[e("i",{class:"fas fa-edit"},null,-1),e("span",null,"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",-1)])],8,Aa),e("button",{class:"nudity-info-button delete-button",title:"–£–¥–∞–ª–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",onClick:q=>jn(r.id)},[...t[82]||(t[82]=[e("i",{class:"fas fa-trash"},null,-1),e("span",null,"–£–¥–∞–ª–∏—Ç—å",-1)])],8,Oa)],64)):m("",!0),Yt(r)?m("",!0):(i(),a("button",{key:3,class:"nudity-info-button report-button",title:"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–∞–π–º–∏–Ω–≥",onClick:q=>Nn(r.id)},[...t[83]||(t[83]=[e("i",{class:"fas fa-flag"},null,-1),e("span",null,"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è",-1)])],8,Va))]),e("div",{class:I(["timing-hover-container",{blurred:r.status==="pending"}])},[e("span",Fa,c(r.timing_text),1),t[84]||(t[84]=e("br",null,null,-1)),e("span",Ha,[A(" by "+c(r.username)+" ",1),r.user_id&&r.user_id!==0&&r.user_timing_count>0?(i(),a("span",{key:0,class:"timing-count",title:"–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (".concat(r.user_timing_count," —Ç–∞–π–º–∏–Ω–≥–æ–≤)")}," ("+c(r.user_timing_count)+") ",9,Da)):m("",!0)])],2),e("div",qa,[e("button",{class:I(["vote-button upvote-button",{active:r.userVote==="upvote"}]),disabled:ve.value===r.id,title:"–≠—Ç–æ—Ç —Ç–∞–π–º–∏–Ω–≥ –ø–æ–ª–µ–∑–µ–Ω –∏ —Ç–æ—á–µ–Ω",onClick:q=>Qt(r.id,"upvote")},[t[85]||(t[85]=e("i",{class:"fas fa-arrow-up"},null,-1)),e("span",Wa,c(r.upvotes||0),1)],10,za),e("span",{class:I(["vote-score",Un(r.voteScore||0)])},c(r.voteScore||0),3),e("button",{class:I(["vote-button downvote-button",{active:r.userVote==="downvote"}]),disabled:ve.value===r.id,title:"–≠—Ç–æ—Ç —Ç–∞–π–º–∏–Ω–≥ –Ω–µ—Ç–æ—á–µ–Ω –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω",onClick:q=>Qt(r.id,"downvote")},[t[86]||(t[86]=e("i",{class:"fas fa-arrow-down"},null,-1)),e("span",Ga,c(r.downvotes||0),1)],10,Ka)]),we.value[r.id]&&Array.isArray(we.value[r.id])?(i(),a("div",Ya,[t[87]||(t[87]=e("b",null,"–ü–∞—Ä—Å–µ—Ä:",-1)),we.value[r.id].length===0?(i(),a("span",Za,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å")):(i(),a("span",Qa,[(i(!0),a(Z,null,te(we.value[r.id],(q,ht)=>(i(),a("span",{key:ht}," ["+c(z(De)(q[0]))+" - "+c(z(De)(q[1]))+"]"+c(ht<we.value[r.id].length-1?", ":""),1))),128))]))])):m("",!0)])],2))),128))])):(i(),a("div",Xa,c("–ó–∞–ø–∏—Å–µ–π –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")))]),ye.value&&X.value.size>0?(i(),a("div",Ja,[e("h4",$a," –û–±—â–∏–π –ø–∞—Ä—Å–µ—Ä ("+c(X.value.size)+" —Ç–∞–π–º–∏–Ω–≥–æ–≤): ",1),e("div",er,[At().length===0?(i(),a("span",tr,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏")):(i(),a("span",nr,[(i(!0),a(Z,null,te(At(),(r,q)=>(i(),a("span",{key:q}," ["+c(z(De)(r[0]))+" - "+c(z(De)(r[1]))+"]"+c(q<At().length-1?", ":""),1))),128))]))])])):m("",!0),x.value&&Y.value.size>0?(i(),a("div",sr,[e("h4",or," –ü–∞—Ä—Å–µ—Ä –æ–≤–µ—Ä–ª–µ—è ("+c(Y.value.size)+" —Ç–∞–π–º–∏–Ω–≥–æ–≤): ",1),e("div",lr,[Ot().length===0?(i(),a("span",ir,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏")):(i(),a("span",ar,[(i(!0),a(Z,null,te(Ot(),(r,q)=>(i(),a("span",{key:q}," ["+c(z(De)(r[0]))+" - "+c(z(De)(r[1]))+"]"+c(q<Ot().length-1?", ":""),1))),128))]))])])):m("",!0),e("div",rr,[P.value.length>0?(i(),a("button",{key:0,class:"nudity-info-button",onClick:se},[...t[88]||(t[88]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",-1)])])):m("",!0),X.value.size>0?(i(),a("button",{key:1,class:"nudity-info-button",onClick:Xn},[t[89]||(t[89]=e("i",{class:"fas fa-eye"},null,-1)),e("span",null,"–û–±—â–∏–π –ø–∞—Ä—Å–µ—Ä ("+c(X.value.size)+")",1)])):m("",!0),Y.value.size>0?(i(),a("button",{key:2,class:"nudity-info-button",onClick:Jn},[t[90]||(t[90]=e("i",{class:"fas fa-layer-group"},null,-1)),e("span",null,"–ü–∞—Ä—Å–µ—Ä –æ–≤–µ—Ä–ª–µ—è ("+c(Y.value.size)+")",1)])):m("",!0),e("button",{class:"nudity-info-button",onClick:Tn},[...t[91]||(t[91]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å/–¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)])])])],2)])])):m("",!0),Ct.value?(i(),a("div",ur,[e("div",dr,[e("div",cr,[e("h3",null,c(Oe.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥":"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"),1),e("button",{class:"close-modal-btn",onClick:Bt},[...t[93]||(t[93]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",vr,[ee(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=r=>K.value=r),placeholder:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞(–≤ [] —Å–∫–æ–±–∫–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä [01:36] –∏–ª–∏ [01:36:55]), –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø—Ä–∏–ª–∞–≥–∞–µ—Ç–µ —Ç–∞–π–º–∏–Ω–≥\n–¢–∫ –∂–µ –¥–ª—è –∞–≤—Ç–æ–±–ª—é—Ä–∞ –ø—Ä–æ—à—É –≤—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –¥–∏–∞–ø–æ–∑–æ–Ω, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä 00:12:31-00:13:04 - —Ç–µ–∫—Å—Ç, –∞ –Ω–µ 00:12:31\n–î–ª—è —Å–µ—Ä–∏–∞–ª–æ–≤ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω –∏ –Ω–æ–º–µ—Ä —ç–ø–∏–∑–æ–¥–∞\n",class:"timing-textarea"},null,512),[[Ie,K.value]]),Ge.value&&Ge.value.length>0?(i(),a("div",mr,[t[94]||(t[94]=e("div",{class:"timing-preview-header"},[e("i",{class:"fas fa-eye"}),e("span",null,"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–∞—Ä—Å–µ—Ä–∞")],-1)),e("div",fr,[(i(!0),a(Z,null,te(Ge.value,(r,q)=>(i(),a("div",{key:q,class:"timing-preview-item"},[e("span",gr,c(z(De)(r[0]))+" - "+c(z(De)(r[1])),1),e("span",kr," ("+c(Math.round(r[1]-r[0]))+"—Å) ",1)]))),128))])])):m("",!0),e("div",yr,[e("button",{class:"submit-timing-btn",disabled:!Nt.value||ie.value,onClick:t[14]||(t[14]=r=>Oe.value?Pn():Rn())},[ie.value?(i(),a("i",br)):(i(),a("span",pr,c(Oe.value?"–û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥":"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"),1))],8,hr)])])])])):m("",!0),Ut.value?(i(),a("div",_r,[e("div",wr,[e("div",{class:"timing-modal-header"},[t[96]||(t[96]=e("h3",null,"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–∞–π–º–∏–Ω–≥",-1)),e("button",{class:"close-modal-btn",onClick:Zt},[...t[95]||(t[95]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Cr,[ee(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=r=>Ye.value=r),placeholder:"–û–ø–∏—à–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –∂–∞–ª–æ–±—ã...",class:"timing-textarea",rows:"4"},null,512),[[Ie,Ye.value]]),e("div",Er,[e("button",{class:"submit-timing-btn",disabled:!Ye.value.trim()||ft.value,onClick:Bn},[ft.value?(i(),a("i",Mr)):(i(),a("span",Sr,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É"))],8,Lr)])])])])):m("",!0),Te.value?(i(),a("div",Ir,[e("div",Tr,[e("div",xr,[e("h3",null,[t[97]||(t[97]=e("i",{class:"fa-regular fa-note-sticky"},null,-1)),A(" "+c(O.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É":"–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞"),1)]),e("button",{class:"close-modal-btn",onClick:Jt},[...t[98]||(t[98]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Rr,[t[101]||(t[101]=e("div",{class:"note-info"},[e("i",{class:"fas fa-info-circle"}),e("span",null,"–õ–∏—á–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ –æ —Ñ–∏–ª—å–º–µ, –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–∞–º")],-1)),ee(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=r=>J.value=r),placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –∑–∞–º–µ—Ç–∫—É –æ —Ñ–∏–ª—å–º–µ...",class:"timing-textarea note-textarea",rows:"10",maxlength:"10000"},null,512),[[Ie,J.value]]),e("div",Pr,c(J.value.length)+" / 10000 —Å–∏–º–≤–æ–ª–æ–≤",1),e("div",jr,[e("button",{class:"submit-timing-btn",disabled:!J.value.trim()||Ne.value,onClick:Vn},[Ne.value?(i(),a("i",Br)):(i(),a("i",Ur)),e("span",null,c(O.value?"–û–±–Ω–æ–≤–∏—Ç—å":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),1)],8,Nr),O.value?(i(),a("button",{key:0,class:"delete-note-btn",disabled:Be.value,onClick:Fn},[Be.value?(i(),a("i",Or)):(i(),a("i",Vr)),t[99]||(t[99]=e("span",null,"–£–¥–∞–ª–∏—Ç—å",-1))],8,Ar)):m("",!0),e("button",{class:"cancel-note-btn",onClick:Jt},[...t[100]||(t[100]=[e("i",{class:"fas fa-times"},null,-1),e("span",null,"–û—Ç–º–µ–Ω–∞",-1)])])])])])])):m("",!0),Mt.value?(i(),a("div",{key:5,class:"modal-overlay",onClick:t[19]||(t[19]=r=>Mt.value=!1)},[e("div",{class:"modal-content",onClick:t[18]||(t[18]=ut(()=>{},["stop"]))},[e("div",Fr,[t[103]||(t[103]=e("h3",null,[A(" –¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ —Ç–∞–π–º–∏–Ω–≥–æ–≤ "),e("span",{class:"hint-text"},[A("(–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∏–º/—Å–æ—Ü—Å–µ—Ç–∏? –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ "),e("a",{href:"https://t.me/reyohoho_sup",target:"_blank",rel:"noopener noreferrer"},"—Ç–µ–ª–µ–≥—Ä–∞–º"),A(")")])],-1)),e("div",Hr,[e("button",{class:"close-modal-btn",onClick:t[17]||(t[17]=r=>Mt.value=!1)},[...t[102]||(t[102]=[e("i",{class:"fas fa-times"},null,-1)])])])]),e("div",Dr,[e("button",{class:"show-all-timings-btn",disabled:lt.value,onClick:Wn},[lt.value?(i(),a("i",zr)):(i(),a("i",Wr)),t[104]||(t[104]=e("span",null,"–í—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏",-1))],8,qr),e("div",Kr,[(i(!0),a(Z,null,te(Lt.value,(r,q)=>(i(),a("div",{key:r.username,class:"top-submitter-item"},[e("div",{class:I(["submitter-rank",{gold:q===0,silver:q===1,bronze:q===2}])},c(q+1),3),e("div",Gr,[e("div",Yr,[r.stream_link?(i(),a("a",{key:0,href:r.stream_link,target:"_blank",rel:"noopener noreferrer"},[A(c(r.username)+" ",1),t[105]||(t[105]=e("i",{class:"fa-brands fa-twitch"},null,-1))],8,Zr)):(i(),a(Z,{key:1},[A(c(r.username),1)],64))]),e("div",Qr,c(r.approved_submissions_count)+" "+c(Kn(r.approved_submissions_count,["—Ñ–∏–ª—å–º","—Ñ–∏–ª—å–º–∞","—Ñ–∏–ª—å–º–æ–≤"])),1)]),e("div",Xr,[e("div",{class:"contribution-bar",style:Ht({width:Gn(r.approved_submissions_count)+"%"})},null,4)])]))),128))])])])])):m("",!0),gt.value?(i(),a("div",{key:6,class:"modal-overlay",onClick:t[22]||(t[22]=r=>gt.value=!1)},[e("div",{class:"modal-content all-timings-modal",onClick:t[21]||(t[21]=ut(()=>{},["stop"]))},[e("div",Jr,[t[107]||(t[107]=e("h3",null,"–í—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏",-1)),e("button",{class:"close-modal-btn",onClick:t[20]||(t[20]=r=>gt.value=!1)},[...t[106]||(t[106]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",$r,[lt.value?(i(),a("div",eu,[...t[108]||(t[108]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ç–∞–π–º–∏–Ω–≥–æ–≤...",-1)])])):ot.value.length===0?(i(),a("div",tu,[...t[109]||(t[109]=[e("p",null,"–¢–∞–π–º–∏–Ω–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",-1)])])):ln.value.length===0?(i(),a("div",nu,[...t[110]||(t[110]=[e("p",null,"–¢–∞–π–º–∏–Ω–≥–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",-1)])])):(i(),a("div",su,[(i(!0),a(Z,null,te(ln.value,r=>{var q;return i(),a("div",{key:r.id,class:"timing-item"},[e("div",ou,[e("div",lu,[e("span",iu,c(r.username),1),e("span",au,c(z(Ln)(r.submitted_at)),1)]),e("div",ru,[Q(h,{to:"/movie/".concat(r.kp_id),class:"timing-kp-id clickable",title:"–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–∏–ª—å–º—É ".concat(r.kp_id)},{default:Ft(()=>[A(" KP: "+c(r.kp_id),1)]),_:2},1032,["to","title"]),(q=z(s).user)!=null&&q.is_admin&&r.status==="pending"?(i(),a("div",uu,[r.status==="pending"?(i(),a("button",{key:0,class:"approve-btn",disabled:ge.value,title:"–û–¥–æ–±—Ä–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",onClick:ht=>Dn(r.id)},[Pe.value===r.id&&Ve.value?(i(),a("i",cu)):(i(),a("i",vu))],8,du)):m("",!0),r.status==="pending"?(i(),a("button",{key:1,class:"reject-btn",disabled:ge.value,title:"–û—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",onClick:ht=>qn(r.id)},[Pe.value===r.id&&!Ve.value&&!Fe.value?(i(),a("i",fu)):(i(),a("i",gu))],8,mu)):m("",!0),r.status==="pending"?(i(),a("button",{key:2,class:"clean-text-btn",disabled:ge.value,title:"–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ clean_text",onClick:ht=>zn(r.id)},[Pe.value===r.id&&Fe.value?(i(),a("i",yu)):(i(),a("i",hu))],8,ku)):m("",!0)])):m("",!0)])]),e("div",bu,[e("pre",pu,c(r.timing_text),1)])])}),128))]))])])])):m("",!0),$t.value?(i(),a("div",_u,[e("div",wu,[e("div",Cu,[t[112]||(t[112]=e("h3",null,"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ OBS WebSocket",-1)),e("button",{class:"close-modal-btn",onClick:t[23]||(t[23]=r=>$t.value=!1)},[...t[111]||(t[111]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",Eu,[e("div",Lu,[e("label",Mu,[ee(e("input",{"onUpdate:modelValue":t[24]||(t[24]=r=>St.value=r),type:"checkbox",onChange:$n},null,544),[[hn,St.value]]),t[113]||(t[113]=e("span",null,"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–±–ª—é—Ä –≤ OBS",-1))]),t[114]||(t[114]=e("div",{class:"obs-setting-description"}," –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –∞–≤—Ç–æ–±–ª—é—Ä –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —á–µ—Ä–µ–∑ OBS WebSocket –≤–º–µ—Å—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –±–ª—é—Ä–∞ ",-1))]),St.value?(i(),a("div",Su,[e("div",Iu,[t[115]||(t[115]=e("label",null,"–•–æ—Å—Ç OBS WebSocket:",-1)),ee(e("input",{"onUpdate:modelValue":t[25]||(t[25]=r=>en.value=r),type:"text",placeholder:"localhost",class:"obs-input"},null,512),[[Ie,en.value]])]),e("div",Tu,[t[116]||(t[116]=e("label",null,"–ü–æ—Ä—Ç OBS WebSocket:",-1)),ee(e("input",{"onUpdate:modelValue":t[26]||(t[26]=r=>tn.value=r),type:"number",placeholder:"4455",class:"obs-input"},null,512),[[Ie,tn.value]])]),e("div",xu,[t[117]||(t[117]=e("label",null,"–ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):",-1)),ee(e("input",{"onUpdate:modelValue":t[27]||(t[27]=r=>nn.value=r),type:"password",placeholder:"–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω",class:"obs-input"},null,512),[[Ie,nn.value]])]),it.value?(i(),a("div",Ru,[t[120]||(t[120]=e("label",null,"–í—ã–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è –±–ª—é—Ä–∞:",-1)),yt.value.length===0?(i(),a("div",Pu," ‚ö†Ô∏è –§–∏–ª—å—Ç—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ OBS. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –µ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã. ")):(i(),a("div",ju,[ee(e("select",{"onUpdate:modelValue":t[28]||(t[28]=r=>Ze.value=r),class:"obs-filter-select",onChange:ns},[t[118]||(t[118]=e("option",{value:""},"–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä",-1)),(i(!0),a(Z,null,te(yt.value,r=>(i(),a("option",{key:r.id,value:r.id},c(r.sourceName)+" - "+c(r.filterName)+" ("+c(r.sceneName)+") ",9,Nu))),128))],544),[[ks,Ze.value]]),at.value?(i(),a("div",Bu,[e("div",Uu,[e("strong",null,c(at.value.filterName),1),t[119]||(t[119]=A(" –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ ",-1)),e("strong",null,c(at.value.sourceName),1)]),e("span",{class:I(["filter-status",{enabled:at.value.enabled}])}," –°—Ç–∞—Ç—É—Å: "+c(at.value.enabled?"‚úÖ –í–∫–ª—é—á–µ–Ω":"‚≠ï –û—Ç–∫–ª—é—á–µ–Ω"),3)])):m("",!0),e("div",Au," üí° –ù–∞–π–¥–µ–Ω–æ "+c(yt.value.length)+" —Ñ–∏–ª—å—Ç—Ä–æ–≤. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä –±–ª—é—Ä–∞. ",1)]))])):m("",!0),e("div",Ou,[e("label",Vu,[ee(e("input",{"onUpdate:modelValue":t[29]||(t[29]=r=>on.value=r),type:"checkbox"},null,512),[[hn,on.value]]),t[121]||(t[121]=e("span",null,"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å OBS –≤ –≤–∏–¥–µ–æ –æ–≤–µ—Ä–ª–µ–µ",-1))])]),e("div",{class:I(["obs-status",{connected:it.value}])},c(it.value?"–ü–æ–¥–∫–ª—é—á–µ–Ω –∫ OBS":"–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ OBS"),3),e("div",Fu,[e("button",{class:"obs-action-btn connect-btn",disabled:kt.value,onClick:un},[kt.value?(i(),a("i",Du)):(i(),a("i",qu)),A(" "+c(it.value?"–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è":"–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"),1)],8,Hu),e("button",{class:"obs-action-btn test-btn",disabled:!it.value||yt.value.length===0,onClick:es},[...t[122]||(t[122]=[e("i",{class:"fas fa-eye"},null,-1),A(" –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª—é—Ä ",-1)])],8,zu),e("button",{class:"obs-action-btn refresh-btn",disabled:!it.value,onClick:ts},[...t[123]||(t[123]=[e("i",{class:"fas fa-sync"},null,-1),A(" –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã ",-1)])],8,Wu)])])):m("",!0)])])])):m("",!0)],64)}}},sd=qe(Ku,[["__scopeId","data-v-ecca24ce"]]);export{sd as default};
